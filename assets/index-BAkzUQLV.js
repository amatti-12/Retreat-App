(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))s(u);new MutationObserver(u=>{for(const h of u)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(u){const h={};return u.integrity&&(h.integrity=u.integrity),u.referrerPolicy&&(h.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?h.credentials="include":u.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function s(u){if(u.ep)return;u.ep=!0;const h=i(u);fetch(u.href,h)}})();var Sf={exports:{}},Pl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ay;function nT(){if(ay)return Pl;ay=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,u,h){var d=null;if(h!==void 0&&(d=""+h),u.key!==void 0&&(d=""+u.key),"key"in u){h={};for(var g in u)g!=="key"&&(h[g]=u[g])}else h=u;return u=h.ref,{$$typeof:a,type:s,key:d,ref:u!==void 0?u:null,props:h}}return Pl.Fragment=e,Pl.jsx=i,Pl.jsxs=i,Pl}var sy;function iT(){return sy||(sy=1,Sf.exports=nT()),Sf.exports}var lt=iT(),bf={exports:{}},St={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ly;function rT(){if(ly)return St;ly=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),D=Symbol.iterator;function U(C){return C===null||typeof C!="object"?null:(C=D&&C[D]||C["@@iterator"],typeof C=="function"?C:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,tt={};function X(C,Z,nt){this.props=C,this.context=Z,this.refs=tt,this.updater=nt||j}X.prototype.isReactComponent={},X.prototype.setState=function(C,Z){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,Z,"setState")},X.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function vt(){}vt.prototype=X.prototype;function At(C,Z,nt){this.props=C,this.context=Z,this.refs=tt,this.updater=nt||j}var ht=At.prototype=new vt;ht.constructor=At,$(ht,X.prototype),ht.isPureReactComponent=!0;var Tt=Array.isArray,pt={H:null,A:null,T:null,S:null,V:null},Nt=Object.prototype.hasOwnProperty;function N(C,Z,nt,J,ct,wt){return nt=wt.ref,{$$typeof:a,type:C,key:Z,ref:nt!==void 0?nt:null,props:wt}}function S(C,Z){return N(C.type,Z,void 0,void 0,void 0,C.props)}function w(C){return typeof C=="object"&&C!==null&&C.$$typeof===a}function V(C){var Z={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(nt){return Z[nt]})}var O=/\/+/g;function x(C,Z){return typeof C=="object"&&C!==null&&C.key!=null?V(""+C.key):Z.toString(36)}function R(){}function Ne(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(R,R):(C.status="pending",C.then(function(Z){C.status==="pending"&&(C.status="fulfilled",C.value=Z)},function(Z){C.status==="pending"&&(C.status="rejected",C.reason=Z)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function ie(C,Z,nt,J,ct){var wt=typeof C;(wt==="undefined"||wt==="boolean")&&(C=null);var yt=!1;if(C===null)yt=!0;else switch(wt){case"bigint":case"string":case"number":yt=!0;break;case"object":switch(C.$$typeof){case a:case e:yt=!0;break;case A:return yt=C._init,ie(yt(C._payload),Z,nt,J,ct)}}if(yt)return ct=ct(C),yt=J===""?"."+x(C,0):J,Tt(ct)?(nt="",yt!=null&&(nt=yt.replace(O,"$&/")+"/"),ie(ct,Z,nt,"",function(zn){return zn})):ct!=null&&(w(ct)&&(ct=S(ct,nt+(ct.key==null||C&&C.key===ct.key?"":(""+ct.key).replace(O,"$&/")+"/")+yt)),Z.push(ct)),1;yt=0;var be=J===""?".":J+":";if(Tt(C))for(var Zt=0;Zt<C.length;Zt++)J=C[Zt],wt=be+x(J,Zt),yt+=ie(J,Z,nt,wt,ct);else if(Zt=U(C),typeof Zt=="function")for(C=Zt.call(C),Zt=0;!(J=C.next()).done;)J=J.value,wt=be+x(J,Zt++),yt+=ie(J,Z,nt,wt,ct);else if(wt==="object"){if(typeof C.then=="function")return ie(Ne(C),Z,nt,J,ct);throw Z=String(C),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return yt}function H(C,Z,nt){if(C==null)return C;var J=[],ct=0;return ie(C,J,"","",function(wt){return Z.call(nt,wt,ct++)}),J}function et(C){if(C._status===-1){var Z=C._result;Z=Z(),Z.then(function(nt){(C._status===0||C._status===-1)&&(C._status=1,C._result=nt)},function(nt){(C._status===0||C._status===-1)&&(C._status=2,C._result=nt)}),C._status===-1&&(C._status=0,C._result=Z)}if(C._status===1)return C._result.default;throw C._result}var ut=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function Pt(){}return St.Children={map:H,forEach:function(C,Z,nt){H(C,function(){Z.apply(this,arguments)},nt)},count:function(C){var Z=0;return H(C,function(){Z++}),Z},toArray:function(C){return H(C,function(Z){return Z})||[]},only:function(C){if(!w(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},St.Component=X,St.Fragment=i,St.Profiler=u,St.PureComponent=At,St.StrictMode=s,St.Suspense=_,St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=pt,St.__COMPILER_RUNTIME={__proto__:null,c:function(C){return pt.H.useMemoCache(C)}},St.cache=function(C){return function(){return C.apply(null,arguments)}},St.cloneElement=function(C,Z,nt){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var J=$({},C.props),ct=C.key,wt=void 0;if(Z!=null)for(yt in Z.ref!==void 0&&(wt=void 0),Z.key!==void 0&&(ct=""+Z.key),Z)!Nt.call(Z,yt)||yt==="key"||yt==="__self"||yt==="__source"||yt==="ref"&&Z.ref===void 0||(J[yt]=Z[yt]);var yt=arguments.length-2;if(yt===1)J.children=nt;else if(1<yt){for(var be=Array(yt),Zt=0;Zt<yt;Zt++)be[Zt]=arguments[Zt+2];J.children=be}return N(C.type,ct,void 0,void 0,wt,J)},St.createContext=function(C){return C={$$typeof:d,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:h,_context:C},C},St.createElement=function(C,Z,nt){var J,ct={},wt=null;if(Z!=null)for(J in Z.key!==void 0&&(wt=""+Z.key),Z)Nt.call(Z,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(ct[J]=Z[J]);var yt=arguments.length-2;if(yt===1)ct.children=nt;else if(1<yt){for(var be=Array(yt),Zt=0;Zt<yt;Zt++)be[Zt]=arguments[Zt+2];ct.children=be}if(C&&C.defaultProps)for(J in yt=C.defaultProps,yt)ct[J]===void 0&&(ct[J]=yt[J]);return N(C,wt,void 0,void 0,null,ct)},St.createRef=function(){return{current:null}},St.forwardRef=function(C){return{$$typeof:g,render:C}},St.isValidElement=w,St.lazy=function(C){return{$$typeof:A,_payload:{_status:-1,_result:C},_init:et}},St.memo=function(C,Z){return{$$typeof:v,type:C,compare:Z===void 0?null:Z}},St.startTransition=function(C){var Z=pt.T,nt={};pt.T=nt;try{var J=C(),ct=pt.S;ct!==null&&ct(nt,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(Pt,ut)}catch(wt){ut(wt)}finally{pt.T=Z}},St.unstable_useCacheRefresh=function(){return pt.H.useCacheRefresh()},St.use=function(C){return pt.H.use(C)},St.useActionState=function(C,Z,nt){return pt.H.useActionState(C,Z,nt)},St.useCallback=function(C,Z){return pt.H.useCallback(C,Z)},St.useContext=function(C){return pt.H.useContext(C)},St.useDebugValue=function(){},St.useDeferredValue=function(C,Z){return pt.H.useDeferredValue(C,Z)},St.useEffect=function(C,Z,nt){var J=pt.H;if(typeof nt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return J.useEffect(C,Z)},St.useId=function(){return pt.H.useId()},St.useImperativeHandle=function(C,Z,nt){return pt.H.useImperativeHandle(C,Z,nt)},St.useInsertionEffect=function(C,Z){return pt.H.useInsertionEffect(C,Z)},St.useLayoutEffect=function(C,Z){return pt.H.useLayoutEffect(C,Z)},St.useMemo=function(C,Z){return pt.H.useMemo(C,Z)},St.useOptimistic=function(C,Z){return pt.H.useOptimistic(C,Z)},St.useReducer=function(C,Z,nt){return pt.H.useReducer(C,Z,nt)},St.useRef=function(C){return pt.H.useRef(C)},St.useState=function(C){return pt.H.useState(C)},St.useSyncExternalStore=function(C,Z,nt){return pt.H.useSyncExternalStore(C,Z,nt)},St.useTransition=function(){return pt.H.useTransition()},St.version="19.1.0",St}var uy;function ld(){return uy||(uy=1,bf.exports=rT()),bf.exports}var wn=ld(),Rf={exports:{}},kl={},wf={exports:{}},Df={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oy;function aT(){return oy||(oy=1,function(a){function e(H,et){var ut=H.length;H.push(et);t:for(;0<ut;){var Pt=ut-1>>>1,C=H[Pt];if(0<u(C,et))H[Pt]=et,H[ut]=C,ut=Pt;else break t}}function i(H){return H.length===0?null:H[0]}function s(H){if(H.length===0)return null;var et=H[0],ut=H.pop();if(ut!==et){H[0]=ut;t:for(var Pt=0,C=H.length,Z=C>>>1;Pt<Z;){var nt=2*(Pt+1)-1,J=H[nt],ct=nt+1,wt=H[ct];if(0>u(J,ut))ct<C&&0>u(wt,J)?(H[Pt]=wt,H[ct]=ut,Pt=ct):(H[Pt]=J,H[nt]=ut,Pt=nt);else if(ct<C&&0>u(wt,ut))H[Pt]=wt,H[ct]=ut,Pt=ct;else break t}}return et}function u(H,et){var ut=H.sortIndex-et.sortIndex;return ut!==0?ut:H.id-et.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;a.unstable_now=function(){return h.now()}}else{var d=Date,g=d.now();a.unstable_now=function(){return d.now()-g}}var _=[],v=[],A=1,D=null,U=3,j=!1,$=!1,tt=!1,X=!1,vt=typeof setTimeout=="function"?setTimeout:null,At=typeof clearTimeout=="function"?clearTimeout:null,ht=typeof setImmediate<"u"?setImmediate:null;function Tt(H){for(var et=i(v);et!==null;){if(et.callback===null)s(v);else if(et.startTime<=H)s(v),et.sortIndex=et.expirationTime,e(_,et);else break;et=i(v)}}function pt(H){if(tt=!1,Tt(H),!$)if(i(_)!==null)$=!0,Nt||(Nt=!0,x());else{var et=i(v);et!==null&&ie(pt,et.startTime-H)}}var Nt=!1,N=-1,S=5,w=-1;function V(){return X?!0:!(a.unstable_now()-w<S)}function O(){if(X=!1,Nt){var H=a.unstable_now();w=H;var et=!0;try{t:{$=!1,tt&&(tt=!1,At(N),N=-1),j=!0;var ut=U;try{e:{for(Tt(H),D=i(_);D!==null&&!(D.expirationTime>H&&V());){var Pt=D.callback;if(typeof Pt=="function"){D.callback=null,U=D.priorityLevel;var C=Pt(D.expirationTime<=H);if(H=a.unstable_now(),typeof C=="function"){D.callback=C,Tt(H),et=!0;break e}D===i(_)&&s(_),Tt(H)}else s(_);D=i(_)}if(D!==null)et=!0;else{var Z=i(v);Z!==null&&ie(pt,Z.startTime-H),et=!1}}break t}finally{D=null,U=ut,j=!1}et=void 0}}finally{et?x():Nt=!1}}}var x;if(typeof ht=="function")x=function(){ht(O)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Ne=R.port2;R.port1.onmessage=O,x=function(){Ne.postMessage(null)}}else x=function(){vt(O,0)};function ie(H,et){N=vt(function(){H(a.unstable_now())},et)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(H){H.callback=null},a.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<H?Math.floor(1e3/H):5},a.unstable_getCurrentPriorityLevel=function(){return U},a.unstable_next=function(H){switch(U){case 1:case 2:case 3:var et=3;break;default:et=U}var ut=U;U=et;try{return H()}finally{U=ut}},a.unstable_requestPaint=function(){X=!0},a.unstable_runWithPriority=function(H,et){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ut=U;U=H;try{return et()}finally{U=ut}},a.unstable_scheduleCallback=function(H,et,ut){var Pt=a.unstable_now();switch(typeof ut=="object"&&ut!==null?(ut=ut.delay,ut=typeof ut=="number"&&0<ut?Pt+ut:Pt):ut=Pt,H){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=ut+C,H={id:A++,callback:et,priorityLevel:H,startTime:ut,expirationTime:C,sortIndex:-1},ut>Pt?(H.sortIndex=ut,e(v,H),i(_)===null&&H===i(v)&&(tt?(At(N),N=-1):tt=!0,ie(pt,ut-Pt))):(H.sortIndex=C,e(_,H),$||j||($=!0,Nt||(Nt=!0,x()))),H},a.unstable_shouldYield=V,a.unstable_wrapCallback=function(H){var et=U;return function(){var ut=U;U=et;try{return H.apply(this,arguments)}finally{U=ut}}}}(Df)),Df}var cy;function sT(){return cy||(cy=1,wf.exports=aT()),wf.exports}var Cf={exports:{}},je={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hy;function lT(){if(hy)return je;hy=1;var a=ld();function e(_){var v="https://react.dev/errors/"+_;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)v+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+_+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},u=Symbol.for("react.portal");function h(_,v,A){var D=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:D==null?null:""+D,children:_,containerInfo:v,implementation:A}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,v){if(_==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return je.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,je.createPortal=function(_,v){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return h(_,v,null,A)},je.flushSync=function(_){var v=d.T,A=s.p;try{if(d.T=null,s.p=2,_)return _()}finally{d.T=v,s.p=A,s.d.f()}},je.preconnect=function(_,v){typeof _=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,s.d.C(_,v))},je.prefetchDNS=function(_){typeof _=="string"&&s.d.D(_)},je.preinit=function(_,v){if(typeof _=="string"&&v&&typeof v.as=="string"){var A=v.as,D=g(A,v.crossOrigin),U=typeof v.integrity=="string"?v.integrity:void 0,j=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;A==="style"?s.d.S(_,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:D,integrity:U,fetchPriority:j}):A==="script"&&s.d.X(_,{crossOrigin:D,integrity:U,fetchPriority:j,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},je.preinitModule=function(_,v){if(typeof _=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var A=g(v.as,v.crossOrigin);s.d.M(_,{crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&s.d.M(_)},je.preload=function(_,v){if(typeof _=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var A=v.as,D=g(A,v.crossOrigin);s.d.L(_,A,{crossOrigin:D,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},je.preloadModule=function(_,v){if(typeof _=="string")if(v){var A=g(v.as,v.crossOrigin);s.d.m(_,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else s.d.m(_)},je.requestFormReset=function(_){s.d.r(_)},je.unstable_batchedUpdates=function(_,v){return _(v)},je.useFormState=function(_,v,A){return d.H.useFormState(_,v,A)},je.useFormStatus=function(){return d.H.useHostTransitionStatus()},je.version="19.1.0",je}var fy;function uT(){if(fy)return Cf.exports;fy=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Cf.exports=lT(),Cf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dy;function oT(){if(dy)return kl;dy=1;var a=sT(),e=ld(),i=uT();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(h(t)!==t)throw Error(s(188))}function _(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(s(188));return n!==t?null:t}for(var r=t,l=n;;){var c=r.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){r=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===r)return g(c),t;if(f===l)return g(c),n;f=f.sibling}throw Error(s(188))}if(r.return!==l.return)r=c,l=f;else{for(var y=!1,E=c.child;E;){if(E===r){y=!0,r=c,l=f;break}if(E===l){y=!0,l=c,r=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===r){y=!0,r=f,l=c;break}if(E===l){y=!0,l=f,r=c;break}E=E.sibling}if(!y)throw Error(s(189))}}if(r.alternate!==l)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?t:n}function v(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=v(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,D=Symbol.for("react.element"),U=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),tt=Symbol.for("react.strict_mode"),X=Symbol.for("react.profiler"),vt=Symbol.for("react.provider"),At=Symbol.for("react.consumer"),ht=Symbol.for("react.context"),Tt=Symbol.for("react.forward_ref"),pt=Symbol.for("react.suspense"),Nt=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function x(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function Ne(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case $:return"Fragment";case X:return"Profiler";case tt:return"StrictMode";case pt:return"Suspense";case Nt:return"SuspenseList";case w:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case j:return"Portal";case ht:return(t.displayName||"Context")+".Provider";case At:return(t._context.displayName||"Context")+".Consumer";case Tt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return n=t.displayName||null,n!==null?n:Ne(t.type)||"Memo";case S:n=t._payload,t=t._init;try{return Ne(t(n))}catch{}}return null}var ie=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut={pending:!1,data:null,method:null,action:null},Pt=[],C=-1;function Z(t){return{current:t}}function nt(t){0>C||(t.current=Pt[C],Pt[C]=null,C--)}function J(t,n){C++,Pt[C]=t.current,t.current=n}var ct=Z(null),wt=Z(null),yt=Z(null),be=Z(null);function Zt(t,n){switch(J(yt,n),J(wt,t),J(ct,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Mp(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Mp(n),t=xp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}nt(ct),J(ct,t)}function zn(){nt(ct),nt(wt),nt(yt)}function Ui(t){t.memoizedState!==null&&J(be,t);var n=ct.current,r=xp(n,t.type);n!==r&&(J(wt,t),J(ct,r))}function si(t){wt.current===t&&(nt(ct),nt(wt)),be.current===t&&(nt(be),Ml._currentValue=ut)}var Rr=Object.prototype.hasOwnProperty,wr=a.unstable_scheduleCallback,Dr=a.unstable_cancelCallback,Vs=a.unstable_shouldYield,uu=a.unstable_requestPaint,dn=a.unstable_now,Ac=a.unstable_getCurrentPriorityLevel,Ns=a.unstable_ImmediatePriority,_a=a.unstable_UserBlockingPriority,Cr=a.unstable_NormalPriority,Sc=a.unstable_LowPriority,va=a.unstable_IdlePriority,Os=a.log,ou=a.unstable_setDisableYieldValue,re=null,jt=null;function nn(t){if(typeof Os=="function"&&ou(t),jt&&typeof jt.setStrictMode=="function")try{jt.setStrictMode(re,t)}catch{}}var Be=Math.clz32?Math.clz32:Ir,cu=Math.log,bc=Math.LN2;function Ir(t){return t>>>=0,t===0?32:31-(cu(t)/bc|0)|0}var Vr=256,Nr=4194304;function Dn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ea(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=Dn(l):(y&=E,y!==0?c=Dn(y):r||(r=E&~t,r!==0&&(c=Dn(r))))):(E=l&~f,E!==0?c=Dn(E):y!==0?c=Dn(y):r||(r=l&~t,r!==0&&(c=Dn(r)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:c}function Or(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Ms(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xs(){var t=Vr;return Vr<<=1,(Vr&4194048)===0&&(Vr=256),t}function Us(){var t=Nr;return Nr<<=1,(Nr&62914560)===0&&(Nr=4194304),t}function li(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function ui(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ls(t,n,r,l,c,f){var y=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,b=t.expirationTimes,P=t.hiddenUpdates;for(r=y&~r;0<r;){var G=31-Be(r),F=1<<G;E[G]=0,b[G]=-1;var k=P[G];if(k!==null)for(P[G]=null,G=0;G<k.length;G++){var B=k[G];B!==null&&(B.lane&=-536870913)}r&=~F}l!==0&&Pn(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function Pn(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Be(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&4194090}function zs(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-Be(r),c=1<<l;c&n|t[l]&n&&(t[l]|=n),r&=~c}}function Li(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ta(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function zi(){var t=et.p;return t!==0?t:(t=window.event,t===void 0?32:Wp(t.type))}function hu(t,n){var r=et.p;try{return et.p=t,n()}finally{et.p=r}}var Wt=Math.random().toString(36).slice(2),ye="__reactFiber$"+Wt,he="__reactProps$"+Wt,mn="__reactContainer$"+Wt,Ps="__reactEvents$"+Wt,Rc="__reactListeners$"+Wt,Pi="__reactHandles$"+Wt,fu="__reactResources$"+Wt,Mr="__reactMarker$"+Wt;function ki(t){delete t[ye],delete t[he],delete t[Ps],delete t[Rc],delete t[Pi]}function oi(t){var n=t[ye];if(n)return n;for(var r=t.parentNode;r;){if(n=r[mn]||r[ye]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=Pp(t);t!==null;){if(r=t[ye])return r;t=Pp(t)}return n}t=r,r=t.parentNode}return null}function kn(t){if(t=t[ye]||t[mn]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Bn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function Fe(t){var n=t[fu];return n||(n=t[fu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function le(t){t[Mr]=!0}var ks=new Set,Aa={};function Cn(t,n){ci(t,n),ci(t+"Capture",n)}function ci(t,n){for(Aa[t]=n,t=0;t<n.length;t++)ks.add(n[t])}var du=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),mu={},xr={};function gu(t){return Rr.call(xr,t)?!0:Rr.call(mu,t)?!1:du.test(t)?xr[t]=!0:(mu[t]=!0,!1)}function Bi(t,n,r){if(gu(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function qn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function Oe(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}var Ur,pu;function hi(t){if(Ur===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Ur=n&&n[1]||"",pu=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ur+t+pu}var Sa=!1;function ba(t,n){if(!t||Sa)return"";Sa=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var F=function(){throw Error()};if(Object.defineProperty(F.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(F,[])}catch(B){var k=B}Reflect.construct(t,[],F)}else{try{F.call()}catch(B){k=B}t.call(F.prototype)}}else{try{throw Error()}catch(B){k=B}(F=t())&&typeof F.catch=="function"&&F.catch(function(){})}}catch(B){if(B&&k&&typeof B.stack=="string")return[B.stack,k.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var b=y.split(`
`),P=E.split(`
`);for(c=l=0;l<b.length&&!b[l].includes("DetermineComponentFrameRoot");)l++;for(;c<P.length&&!P[c].includes("DetermineComponentFrameRoot");)c++;if(l===b.length||c===P.length)for(l=b.length-1,c=P.length-1;1<=l&&0<=c&&b[l]!==P[c];)c--;for(;1<=l&&0<=c;l--,c--)if(b[l]!==P[c]){if(l!==1||c!==1)do if(l--,c--,0>c||b[l]!==P[c]){var G=`
`+b[l].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=l&&0<=c);break}}}finally{Sa=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?hi(r):""}function Bs(t){switch(t.tag){case 26:case 27:case 5:return hi(t.type);case 16:return hi("Lazy");case 13:return hi("Suspense");case 19:return hi("SuspenseList");case 0:case 15:return ba(t.type,!1);case 11:return ba(t.type.render,!1);case 1:return ba(t.type,!0);case 31:return hi("Activity");default:return""}}function Ra(t){try{var n="";do n+=Bs(t),t=t.return;while(t);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function Ye(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function qs(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function wc(t){var n=qs(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,f=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(y){l=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(y){l=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function wa(t){t._valueTracker||(t._valueTracker=wc(t))}function js(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=qs(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function Lr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Dc=/[\n"\\]/g;function fe(t){return t.replace(Dc,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function rn(t,n,r,l,c,f,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ye(n)):t.value!==""+Ye(n)&&(t.value=""+Ye(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?qi(t,y,Ye(n)):r!=null?qi(t,y,Ye(r)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Ye(E):t.removeAttribute("name")}function zr(t,n,r,l,c,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;r=r!=null?""+Ye(r):"",n=n!=null?""+Ye(n):r,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y)}function qi(t,n,r){n==="number"&&Lr(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function fi(t,n,r,l){if(t=t.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<t.length;r++)c=n.hasOwnProperty("$"+t[r].value),t[r].selected!==c&&(t[r].selected=c),c&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Ye(r),n=null,c=0;c<t.length;c++){if(t[c].value===r){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Qt(t,n,r){if(n!=null&&(n=""+Ye(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Ye(r):""}function Pr(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(s(92));if(ie(l)){if(1<l.length)throw Error(s(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Ye(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l)}function gn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var kr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function yu(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||kr.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function Hs(t,n,r){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&r[c]!==l&&yu(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&yu(t,f,n[f])}function Gs(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ic=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Da(t){return Ic.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var di=null;function pn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var mi=null,gi=null;function Qs(t){var n=kn(t);if(n&&(t=n.stateNode)){var r=t[he]||null;t:switch(t=n.stateNode,n.type){case"input":if(rn(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+fe(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var c=l[he]||null;if(!c)throw Error(s(90));rn(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&js(l)}break t;case"textarea":Qt(t,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&fi(t,!!r.multiple,n,!1)}}}var jn=!1;function _u(t,n,r){if(jn)return t(n,r);jn=!0;try{var l=t(n);return l}finally{if(jn=!1,(mi!==null||gi!==null)&&(ho(),mi&&(n=mi,t=gi,gi=mi=null,Qs(n),t)))for(n=0;n<t.length;n++)Qs(t[n])}}function Br(t,n){var r=t.stateNode;if(r===null)return null;var l=r[he]||null;if(l===null)return null;r=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(s(231,n,typeof r));return r}var In=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yn=!1;if(In)try{var qr={};Object.defineProperty(qr,"passive",{get:function(){yn=!0}}),window.addEventListener("test",qr,qr),window.removeEventListener("test",qr,qr)}catch{yn=!1}var Hn=null,ji=null,pi=null;function Fs(){if(pi)return pi;var t,n=ji,r=n.length,l,c="value"in Hn?Hn.value:Hn.textContent,f=c.length;for(t=0;t<r&&n[t]===c[t];t++);var y=r-t;for(l=1;l<=y&&n[r-l]===c[f-l];l++);return pi=c.slice(t,1<l?1-l:void 0)}function Gn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Qn(){return!0}function Ys(){return!1}function Re(t){function n(r,l,c,f,y){this._reactName=r,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Qn:Ys,this.isPropagationStopped=Ys,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Qn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Qn)},persist:function(){},isPersistent:Qn}),n}var Bt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ca=Re(Bt),jr=A({},Bt,{view:0,detail:0}),vu=Re(jr),Ia,Va,Fn,Hr=A({},jr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Fn&&(Fn&&t.type==="mousemove"?(Ia=t.screenX-Fn.screenX,Va=t.screenY-Fn.screenY):Va=Ia=0,Fn=t),Ia)},movementY:function(t){return"movementY"in t?t.movementY:Va}}),_n=Re(Hr),Eu=A({},Hr,{dataTransfer:0}),Vc=Re(Eu),Gr=A({},jr,{relatedTarget:0}),Na=Re(Gr),Ks=A({},Bt,{animationName:0,elapsedTime:0,pseudoElement:0}),Oa=Re(Ks),Tu=A({},Bt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ma=Re(Tu),Nc=A({},Bt,{data:0}),Xs=Re(Nc),Qr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Au={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Su={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zs(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Su[t])?!!n[t]:!1}function Fr(){return Zs}var bu=A({},jr,{key:function(t){if(t.key){var n=Qr[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Gn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Au[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fr,charCode:function(t){return t.type==="keypress"?Gn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Gn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),xa=Re(bu),Ru=A({},Hr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$s=Re(Ru),yi=A({},jr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fr}),wu=Re(yi),Du=A({},Bt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Cu=Re(Du),Iu=A({},Hr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ua=Re(Iu),Ke=A({},Bt,{newState:0,oldState:0}),Vu=Re(Ke),Nu=[9,13,27,32],Yn=In&&"CompositionEvent"in window,o=null;In&&"documentMode"in document&&(o=document.documentMode);var m=In&&"TextEvent"in window&&!o,p=In&&(!Yn||o&&8<o&&11>=o),T=" ",L=!1;function q(t,n){switch(t){case"keyup":return Nu.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function W(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ot=!1;function _e(t,n){switch(t){case"compositionend":return W(n);case"keypress":return n.which!==32?null:(L=!0,T);case"textInput":return t=n.data,t===T&&L?null:t;default:return null}}function Mt(t,n){if(Ot)return t==="compositionend"||!Yn&&q(t,n)?(t=Fs(),pi=ji=Hn=null,Ot=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return p&&n.locale!=="ko"?null:n.data;default:return null}}var we={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ve(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!we[t.type]:n==="textarea"}function _i(t,n,r,l){mi?gi?gi.push(l):gi=[l]:mi=l,n=_o(n,"onChange"),0<n.length&&(r=new Ca("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Me=null,Kn=null;function Js(t){Cp(t,0)}function Ou(t){var n=Bn(t);if(js(n))return t}function Xd(t,n){if(t==="change")return n}var Zd=!1;if(In){var Oc;if(In){var Mc="oninput"in document;if(!Mc){var $d=document.createElement("div");$d.setAttribute("oninput","return;"),Mc=typeof $d.oninput=="function"}Oc=Mc}else Oc=!1;Zd=Oc&&(!document.documentMode||9<document.documentMode)}function Jd(){Me&&(Me.detachEvent("onpropertychange",Wd),Kn=Me=null)}function Wd(t){if(t.propertyName==="value"&&Ou(Kn)){var n=[];_i(n,Kn,t,pn(t)),_u(Js,n)}}function O0(t,n,r){t==="focusin"?(Jd(),Me=n,Kn=r,Me.attachEvent("onpropertychange",Wd)):t==="focusout"&&Jd()}function M0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ou(Kn)}function x0(t,n){if(t==="click")return Ou(n)}function U0(t,n){if(t==="input"||t==="change")return Ou(n)}function L0(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var an=typeof Object.is=="function"?Object.is:L0;function Ws(t,n){if(an(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var c=r[l];if(!Rr.call(n,c)||!an(t[c],n[c]))return!1}return!0}function tm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function em(t,n){var r=tm(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=tm(r)}}function nm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?nm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function im(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Lr(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Lr(t.document)}return n}function xc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var z0=In&&"documentMode"in document&&11>=document.documentMode,La=null,Uc=null,tl=null,Lc=!1;function rm(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Lc||La==null||La!==Lr(l)||(l=La,"selectionStart"in l&&xc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),tl&&Ws(tl,l)||(tl=l,l=_o(Uc,"onSelect"),0<l.length&&(n=new Ca("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=La)))}function Yr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var za={animationend:Yr("Animation","AnimationEnd"),animationiteration:Yr("Animation","AnimationIteration"),animationstart:Yr("Animation","AnimationStart"),transitionrun:Yr("Transition","TransitionRun"),transitionstart:Yr("Transition","TransitionStart"),transitioncancel:Yr("Transition","TransitionCancel"),transitionend:Yr("Transition","TransitionEnd")},zc={},am={};In&&(am=document.createElement("div").style,"AnimationEvent"in window||(delete za.animationend.animation,delete za.animationiteration.animation,delete za.animationstart.animation),"TransitionEvent"in window||delete za.transitionend.transition);function Kr(t){if(zc[t])return zc[t];if(!za[t])return t;var n=za[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in am)return zc[t]=n[r];return t}var sm=Kr("animationend"),lm=Kr("animationiteration"),um=Kr("animationstart"),P0=Kr("transitionrun"),k0=Kr("transitionstart"),B0=Kr("transitioncancel"),om=Kr("transitionend"),cm=new Map,Pc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Pc.push("scrollEnd");function Vn(t,n){cm.set(t,n),Cn(n,[t])}var hm=new WeakMap;function vn(t,n){if(typeof t=="object"&&t!==null){var r=hm.get(t);return r!==void 0?r:(n={value:t,source:n,stack:Ra(n)},hm.set(t,n),n)}return{value:t,source:n,stack:Ra(n)}}var En=[],Pa=0,kc=0;function Mu(){for(var t=Pa,n=kc=Pa=0;n<t;){var r=En[n];En[n++]=null;var l=En[n];En[n++]=null;var c=En[n];En[n++]=null;var f=En[n];if(En[n++]=null,l!==null&&c!==null){var y=l.pending;y===null?c.next=c:(c.next=y.next,y.next=c),l.pending=c}f!==0&&fm(r,c,f)}}function xu(t,n,r,l){En[Pa++]=t,En[Pa++]=n,En[Pa++]=r,En[Pa++]=l,kc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Bc(t,n,r,l){return xu(t,n,r,l),Uu(t)}function ka(t,n){return xu(t,null,null,n),Uu(t)}function fm(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var c=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-Be(r),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=r|536870912),f):null}function Uu(t){if(50<Rl)throw Rl=0,Fh=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ba={};function q0(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sn(t,n,r,l){return new q0(t,n,r,l)}function qc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function vi(t,n){var r=t.alternate;return r===null?(r=sn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function dm(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Lu(t,n,r,l,c,f){var y=0;if(l=t,typeof t=="function")qc(t)&&(y=1);else if(typeof t=="string")y=HE(t,r,ct.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case w:return t=sn(31,r,n,c),t.elementType=w,t.lanes=f,t;case $:return Xr(r.children,c,f,n);case tt:y=8,c|=24;break;case X:return t=sn(12,r,n,c|2),t.elementType=X,t.lanes=f,t;case pt:return t=sn(13,r,n,c),t.elementType=pt,t.lanes=f,t;case Nt:return t=sn(19,r,n,c),t.elementType=Nt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case vt:case ht:y=10;break t;case At:y=9;break t;case Tt:y=11;break t;case N:y=14;break t;case S:y=16,l=null;break t}y=29,r=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=sn(y,r,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function Xr(t,n,r,l){return t=sn(7,t,l,n),t.lanes=r,t}function jc(t,n,r){return t=sn(6,t,null,n),t.lanes=r,t}function Hc(t,n,r){return n=sn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var qa=[],ja=0,zu=null,Pu=0,Tn=[],An=0,Zr=null,Ei=1,Ti="";function $r(t,n){qa[ja++]=Pu,qa[ja++]=zu,zu=t,Pu=n}function mm(t,n,r){Tn[An++]=Ei,Tn[An++]=Ti,Tn[An++]=Zr,Zr=t;var l=Ei;t=Ti;var c=32-Be(l)-1;l&=~(1<<c),r+=1;var f=32-Be(n)+c;if(30<f){var y=c-c%5;f=(l&(1<<y)-1).toString(32),l>>=y,c-=y,Ei=1<<32-Be(n)+c|r<<c|l,Ti=f+t}else Ei=1<<f|r<<c|l,Ti=t}function Gc(t){t.return!==null&&($r(t,1),mm(t,1,0))}function Qc(t){for(;t===zu;)zu=qa[--ja],qa[ja]=null,Pu=qa[--ja],qa[ja]=null;for(;t===Zr;)Zr=Tn[--An],Tn[An]=null,Ti=Tn[--An],Tn[An]=null,Ei=Tn[--An],Tn[An]=null}var Xe=null,ae=null,kt=!1,Jr=null,Xn=!1,Fc=Error(s(519));function Wr(t){var n=Error(s(418,""));throw il(vn(n,t)),Fc}function gm(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[ye]=t,n[he]=l,r){case"dialog":It("cancel",n),It("close",n);break;case"iframe":case"object":case"embed":It("load",n);break;case"video":case"audio":for(r=0;r<Dl.length;r++)It(Dl[r],n);break;case"source":It("error",n);break;case"img":case"image":case"link":It("error",n),It("load",n);break;case"details":It("toggle",n);break;case"input":It("invalid",n),zr(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),wa(n);break;case"select":It("invalid",n);break;case"textarea":It("invalid",n),Pr(n,l.value,l.defaultValue,l.children),wa(n)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||Op(n.textContent,r)?(l.popover!=null&&(It("beforetoggle",n),It("toggle",n)),l.onScroll!=null&&It("scroll",n),l.onScrollEnd!=null&&It("scrollend",n),l.onClick!=null&&(n.onclick=vo),n=!0):n=!1,n||Wr(t)}function pm(t){for(Xe=t.return;Xe;)switch(Xe.tag){case 5:case 13:Xn=!1;return;case 27:case 3:Xn=!0;return;default:Xe=Xe.return}}function el(t){if(t!==Xe)return!1;if(!kt)return pm(t),kt=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||of(t.type,t.memoizedProps)),r=!r),r&&ae&&Wr(t),pm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(n===0){ae=On(t.nextSibling);break t}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;t=t.nextSibling}ae=null}}else n===27?(n=ae,rr(t.type)?(t=df,df=null,ae=t):ae=n):ae=Xe?On(t.stateNode.nextSibling):null;return!0}function nl(){ae=Xe=null,kt=!1}function ym(){var t=Jr;return t!==null&&(Je===null?Je=t:Je.push.apply(Je,t),Jr=null),t}function il(t){Jr===null?Jr=[t]:Jr.push(t)}var Yc=Z(null),ta=null,Ai=null;function Hi(t,n,r){J(Yc,n._currentValue),n._currentValue=r}function Si(t){t._currentValue=Yc.current,nt(Yc)}function Kc(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function Xc(t,n,r,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var y=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var b=0;b<n.length;b++)if(E.context===n[b]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),Kc(f.return,r,t),l||(y=null);break t}f=E.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(s(341));y.lanes|=r,f=y.alternate,f!==null&&(f.lanes|=r),Kc(y,r,t),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===t){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function rl(t,n,r,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(s(387));if(y=y.memoizedProps,y!==null){var E=c.type;an(c.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(c===be.current){if(y=c.alternate,y===null)throw Error(s(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Ml):t=[Ml])}c=c.return}t!==null&&Xc(n,t,r,l),n.flags|=262144}function ku(t){for(t=t.firstContext;t!==null;){if(!an(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ea(t){ta=t,Ai=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function qe(t){return _m(ta,t)}function Bu(t,n){return ta===null&&ea(t),_m(t,n)}function _m(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Ai===null){if(t===null)throw Error(s(308));Ai=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ai=Ai.next=n;return r}var j0=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},H0=a.unstable_scheduleCallback,G0=a.unstable_NormalPriority,Ee={$$typeof:ht,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Zc(){return{controller:new j0,data:new Map,refCount:0}}function al(t){t.refCount--,t.refCount===0&&H0(G0,function(){t.controller.abort()})}var sl=null,$c=0,Ha=0,Ga=null;function Q0(t,n){if(sl===null){var r=sl=[];$c=0,Ha=Wh(),Ga={status:"pending",value:void 0,then:function(l){r.push(l)}}}return $c++,n.then(vm,vm),n}function vm(){if(--$c===0&&sl!==null){Ga!==null&&(Ga.status="fulfilled");var t=sl;sl=null,Ha=0,Ga=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function F0(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),l}var Em=H.S;H.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&Q0(t,n),Em!==null&&Em(t,n)};var na=Z(null);function Jc(){var t=na.current;return t!==null?t:$t.pooledCache}function qu(t,n){n===null?J(na,na.current):J(na,n.pool)}function Tm(){var t=Jc();return t===null?null:{parent:Ee._currentValue,pool:t}}var ll=Error(s(460)),Am=Error(s(474)),ju=Error(s(542)),Wc={then:function(){}};function Sm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Hu(){}function bm(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(Hu,Hu),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,wm(t),t;default:if(typeof n.status=="string")n.then(Hu,Hu);else{if(t=$t,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,wm(t),t}throw ul=n,ll}}var ul=null;function Rm(){if(ul===null)throw Error(s(459));var t=ul;return ul=null,t}function wm(t){if(t===ll||t===ju)throw Error(s(483))}var Gi=!1;function th(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function eh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Qi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Fi(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ht&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Uu(t),fm(t,null,r),n}return xu(t,l,n,r),Uu(t)}function ol(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,zs(t,r)}}function nh(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var c=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var y={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?c=f=y:f=f.next=y,r=r.next}while(r!==null);f===null?c=f=n:f=f.next=n}else c=f=n;r={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var ih=!1;function cl(){if(ih){var t=Ga;if(t!==null)throw t}}function hl(t,n,r,l){ih=!1;var c=t.updateQueue;Gi=!1;var f=c.firstBaseUpdate,y=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var b=E,P=b.next;b.next=null,y===null?f=P:y.next=P,y=b;var G=t.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==y&&(E===null?G.firstBaseUpdate=P:E.next=P,G.lastBaseUpdate=b))}if(f!==null){var F=c.baseState;y=0,G=P=b=null,E=f;do{var k=E.lane&-536870913,B=k!==E.lane;if(B?(xt&k)===k:(l&k)===k){k!==0&&k===Ha&&(ih=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var gt=t,ft=E;k=n;var Kt=r;switch(ft.tag){case 1:if(gt=ft.payload,typeof gt=="function"){F=gt.call(Kt,F,k);break t}F=gt;break t;case 3:gt.flags=gt.flags&-65537|128;case 0:if(gt=ft.payload,k=typeof gt=="function"?gt.call(Kt,F,k):gt,k==null)break t;F=A({},F,k);break t;case 2:Gi=!0}}k=E.callback,k!==null&&(t.flags|=64,B&&(t.flags|=8192),B=c.callbacks,B===null?c.callbacks=[k]:B.push(k))}else B={lane:k,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(P=G=B,b=F):G=G.next=B,y|=k;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;B=E,E=B.next,B.next=null,c.lastBaseUpdate=B,c.shared.pending=null}}while(!0);G===null&&(b=F),c.baseState=b,c.firstBaseUpdate=P,c.lastBaseUpdate=G,f===null&&(c.shared.lanes=0),tr|=y,t.lanes=y,t.memoizedState=F}}function Dm(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function Cm(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)Dm(r[t],n)}var Qa=Z(null),Gu=Z(0);function Im(t,n){t=Vi,J(Gu,t),J(Qa,n),Vi=t|n.baseLanes}function rh(){J(Gu,Vi),J(Qa,Qa.current)}function ah(){Vi=Gu.current,nt(Qa),nt(Gu)}var Yi=0,bt=null,Ft=null,de=null,Qu=!1,Fa=!1,ia=!1,Fu=0,fl=0,Ya=null,Y0=0;function ue(){throw Error(s(321))}function sh(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!an(t[r],n[r]))return!1;return!0}function lh(t,n,r,l,c,f){return Yi=f,bt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=t===null||t.memoizedState===null?fg:dg,ia=!1,f=r(l,c),ia=!1,Fa&&(f=Nm(n,r,l,c)),Vm(t),f}function Vm(t){H.H=Ju;var n=Ft!==null&&Ft.next!==null;if(Yi=0,de=Ft=bt=null,Qu=!1,fl=0,Ya=null,n)throw Error(s(300));t===null||De||(t=t.dependencies,t!==null&&ku(t)&&(De=!0))}function Nm(t,n,r,l){bt=t;var c=0;do{if(Fa&&(Ya=null),fl=0,Fa=!1,25<=c)throw Error(s(301));if(c+=1,de=Ft=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=tE,f=n(r,l)}while(Fa);return f}function K0(){var t=H.H,n=t.useState()[0];return n=typeof n.then=="function"?dl(n):n,t=t.useState()[0],(Ft!==null?Ft.memoizedState:null)!==t&&(bt.flags|=1024),n}function uh(){var t=Fu!==0;return Fu=0,t}function oh(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function ch(t){if(Qu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Qu=!1}Yi=0,de=Ft=bt=null,Fa=!1,fl=Fu=0,Ya=null}function Ze(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return de===null?bt.memoizedState=de=t:de=de.next=t,de}function me(){if(Ft===null){var t=bt.alternate;t=t!==null?t.memoizedState:null}else t=Ft.next;var n=de===null?bt.memoizedState:de.next;if(n!==null)de=n,Ft=t;else{if(t===null)throw bt.alternate===null?Error(s(467)):Error(s(310));Ft=t,t={memoizedState:Ft.memoizedState,baseState:Ft.baseState,baseQueue:Ft.baseQueue,queue:Ft.queue,next:null},de===null?bt.memoizedState=de=t:de=de.next=t}return de}function hh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function dl(t){var n=fl;return fl+=1,Ya===null&&(Ya=[]),t=bm(Ya,t,n),n=bt,(de===null?n.memoizedState:de.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?fg:dg),t}function Yu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return dl(t);if(t.$$typeof===ht)return qe(t)}throw Error(s(438,String(t)))}function fh(t){var n=null,r=bt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=bt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=hh(),bt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=V;return n.index++,r}function bi(t,n){return typeof n=="function"?n(t):n}function Ku(t){var n=me();return dh(n,Ft,t)}function dh(t,n,r){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=r;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var y=c.next;c.next=f.next,f.next=y}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=y=null,b=null,P=n,G=!1;do{var F=P.lane&-536870913;if(F!==P.lane?(xt&F)===F:(Yi&F)===F){var k=P.revertLane;if(k===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),F===Ha&&(G=!0);else if((Yi&k)===k){P=P.next,k===Ha&&(G=!0);continue}else F={lane:0,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},b===null?(E=b=F,y=f):b=b.next=F,bt.lanes|=k,tr|=k;F=P.action,ia&&r(f,F),f=P.hasEagerState?P.eagerState:r(f,F)}else k={lane:F,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},b===null?(E=b=k,y=f):b=b.next=k,bt.lanes|=F,tr|=F;P=P.next}while(P!==null&&P!==n);if(b===null?y=f:b.next=E,!an(f,t.memoizedState)&&(De=!0,G&&(r=Ga,r!==null)))throw r;t.memoizedState=f,t.baseState=y,t.baseQueue=b,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function mh(t){var n=me(),r=n.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=t;var l=r.dispatch,c=r.pending,f=n.memoizedState;if(c!==null){r.pending=null;var y=c=c.next;do f=t(f,y.action),y=y.next;while(y!==c);an(f,n.memoizedState)||(De=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function Om(t,n,r){var l=bt,c=me(),f=kt;if(f){if(r===void 0)throw Error(s(407));r=r()}else r=n();var y=!an((Ft||c).memoizedState,r);y&&(c.memoizedState=r,De=!0),c=c.queue;var E=Um.bind(null,l,c,t);if(ml(2048,8,E,[t]),c.getSnapshot!==n||y||de!==null&&de.memoizedState.tag&1){if(l.flags|=2048,Ka(9,Xu(),xm.bind(null,l,c,r,n),null),$t===null)throw Error(s(349));f||(Yi&124)!==0||Mm(l,n,r)}return r}function Mm(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=bt.updateQueue,n===null?(n=hh(),bt.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function xm(t,n,r,l){n.value=r,n.getSnapshot=l,Lm(n)&&zm(t)}function Um(t,n,r){return r(function(){Lm(n)&&zm(t)})}function Lm(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!an(t,r)}catch{return!0}}function zm(t){var n=ka(t,2);n!==null&&hn(n,t,2)}function gh(t){var n=Ze();if(typeof t=="function"){var r=t;if(t=r(),ia){nn(!0);try{r()}finally{nn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:t},n}function Pm(t,n,r,l){return t.baseState=r,dh(t,Ft,typeof l=="function"?l:bi)}function X0(t,n,r,l,c){if($u(t))throw Error(s(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};H.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,km(n,f)):(f.next=r.next,n.pending=r.next=f)}}function km(t,n){var r=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=H.T,y={};H.T=y;try{var E=r(c,l),b=H.S;b!==null&&b(y,E),Bm(t,n,E)}catch(P){ph(t,n,P)}finally{H.T=f}}else try{f=r(c,l),Bm(t,n,f)}catch(P){ph(t,n,P)}}function Bm(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){qm(t,n,l)},function(l){return ph(t,n,l)}):qm(t,n,r)}function qm(t,n,r){n.status="fulfilled",n.value=r,jm(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,km(t,r)))}function ph(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,jm(n),n=n.next;while(n!==l)}t.action=null}function jm(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Hm(t,n){return n}function Gm(t,n){if(kt){var r=$t.formState;if(r!==null){t:{var l=bt;if(kt){if(ae){e:{for(var c=ae,f=Xn;c.nodeType!==8;){if(!f){c=null;break e}if(c=On(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){ae=On(c.nextSibling),l=c.data==="F!";break t}}Wr(l)}l=!1}l&&(n=r[0])}}return r=Ze(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hm,lastRenderedState:n},r.queue=l,r=og.bind(null,bt,l),l.dispatch=r,l=gh(!1),f=Th.bind(null,bt,!1,l.queue),l=Ze(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,r=X0.bind(null,bt,c,f,r),c.dispatch=r,l.memoizedState=t,[n,r,!1]}function Qm(t){var n=me();return Fm(n,Ft,t)}function Fm(t,n,r){if(n=dh(t,n,Hm)[0],t=Ku(bi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=dl(n)}catch(y){throw y===ll?ju:y}else l=n;n=me();var c=n.queue,f=c.dispatch;return r!==n.memoizedState&&(bt.flags|=2048,Ka(9,Xu(),Z0.bind(null,c,r),null)),[l,f,t]}function Z0(t,n){t.action=n}function Ym(t){var n=me(),r=Ft;if(r!==null)return Fm(n,r,t);me(),n=n.memoizedState,r=me();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function Ka(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=bt.updateQueue,n===null&&(n=hh(),bt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function Xu(){return{destroy:void 0,resource:void 0}}function Km(){return me().memoizedState}function Zu(t,n,r,l){var c=Ze();l=l===void 0?null:l,bt.flags|=t,c.memoizedState=Ka(1|n,Xu(),r,l)}function ml(t,n,r,l){var c=me();l=l===void 0?null:l;var f=c.memoizedState.inst;Ft!==null&&l!==null&&sh(l,Ft.memoizedState.deps)?c.memoizedState=Ka(n,f,r,l):(bt.flags|=t,c.memoizedState=Ka(1|n,f,r,l))}function Xm(t,n){Zu(8390656,8,t,n)}function Zm(t,n){ml(2048,8,t,n)}function $m(t,n){return ml(4,2,t,n)}function Jm(t,n){return ml(4,4,t,n)}function Wm(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function tg(t,n,r){r=r!=null?r.concat([t]):null,ml(4,4,Wm.bind(null,n,t),r)}function yh(){}function eg(t,n){var r=me();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&sh(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function ng(t,n){var r=me();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&sh(n,l[1]))return l[0];if(l=t(),ia){nn(!0);try{t()}finally{nn(!1)}}return r.memoizedState=[l,n],l}function _h(t,n,r){return r===void 0||(Yi&1073741824)!==0?t.memoizedState=n:(t.memoizedState=r,t=ap(),bt.lanes|=t,tr|=t,r)}function ig(t,n,r,l){return an(r,n)?r:Qa.current!==null?(t=_h(t,r,l),an(t,n)||(De=!0),t):(Yi&42)===0?(De=!0,t.memoizedState=r):(t=ap(),bt.lanes|=t,tr|=t,n)}function rg(t,n,r,l,c){var f=et.p;et.p=f!==0&&8>f?f:8;var y=H.T,E={};H.T=E,Th(t,!1,n,r);try{var b=c(),P=H.S;if(P!==null&&P(E,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var G=F0(b,l);gl(t,n,G,cn(t))}else gl(t,n,l,cn(t))}catch(F){gl(t,n,{then:function(){},status:"rejected",reason:F},cn())}finally{et.p=f,H.T=y}}function $0(){}function vh(t,n,r,l){if(t.tag!==5)throw Error(s(476));var c=ag(t).queue;rg(t,c,n,ut,r===null?$0:function(){return sg(t),r(l)})}function ag(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ut,baseState:ut,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:ut},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function sg(t){var n=ag(t).next.queue;gl(t,n,{},cn())}function Eh(){return qe(Ml)}function lg(){return me().memoizedState}function ug(){return me().memoizedState}function J0(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=cn();t=Qi(r);var l=Fi(n,t,r);l!==null&&(hn(l,n,r),ol(l,n,r)),n={cache:Zc()},t.payload=n;return}n=n.return}}function W0(t,n,r){var l=cn();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},$u(t)?cg(n,r):(r=Bc(t,n,r,l),r!==null&&(hn(r,t,l),hg(r,n,l)))}function og(t,n,r){var l=cn();gl(t,n,r,l)}function gl(t,n,r,l){var c={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if($u(t))cg(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,r);if(c.hasEagerState=!0,c.eagerState=E,an(E,y))return xu(t,n,c,0),$t===null&&Mu(),!1}catch{}finally{}if(r=Bc(t,n,c,l),r!==null)return hn(r,t,l),hg(r,n,l),!0}return!1}function Th(t,n,r,l){if(l={lane:2,revertLane:Wh(),action:l,hasEagerState:!1,eagerState:null,next:null},$u(t)){if(n)throw Error(s(479))}else n=Bc(t,r,l,2),n!==null&&hn(n,t,2)}function $u(t){var n=t.alternate;return t===bt||n!==null&&n===bt}function cg(t,n){Fa=Qu=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function hg(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,zs(t,r)}}var Ju={readContext:qe,use:Yu,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue},fg={readContext:qe,use:Yu,useCallback:function(t,n){return Ze().memoizedState=[t,n===void 0?null:n],t},useContext:qe,useEffect:Xm,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,Zu(4194308,4,Wm.bind(null,n,t),r)},useLayoutEffect:function(t,n){return Zu(4194308,4,t,n)},useInsertionEffect:function(t,n){Zu(4,2,t,n)},useMemo:function(t,n){var r=Ze();n=n===void 0?null:n;var l=t();if(ia){nn(!0);try{t()}finally{nn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=Ze();if(r!==void 0){var c=r(n);if(ia){nn(!0);try{r(n)}finally{nn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=W0.bind(null,bt,t),[l.memoizedState,t]},useRef:function(t){var n=Ze();return t={current:t},n.memoizedState=t},useState:function(t){t=gh(t);var n=t.queue,r=og.bind(null,bt,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:yh,useDeferredValue:function(t,n){var r=Ze();return _h(r,t,n)},useTransition:function(){var t=gh(!1);return t=rg.bind(null,bt,t.queue,!0,!1),Ze().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=bt,c=Ze();if(kt){if(r===void 0)throw Error(s(407));r=r()}else{if(r=n(),$t===null)throw Error(s(349));(xt&124)!==0||Mm(l,n,r)}c.memoizedState=r;var f={value:r,getSnapshot:n};return c.queue=f,Xm(Um.bind(null,l,f,t),[t]),l.flags|=2048,Ka(9,Xu(),xm.bind(null,l,f,r,n),null),r},useId:function(){var t=Ze(),n=$t.identifierPrefix;if(kt){var r=Ti,l=Ei;r=(l&~(1<<32-Be(l)-1)).toString(32)+r,n=""+n+"R"+r,r=Fu++,0<r&&(n+="H"+r.toString(32)),n+=""}else r=Y0++,n=""+n+"r"+r.toString(32)+"";return t.memoizedState=n},useHostTransitionStatus:Eh,useFormState:Gm,useActionState:Gm,useOptimistic:function(t){var n=Ze();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Th.bind(null,bt,!0,r),r.dispatch=n,[t,n]},useMemoCache:fh,useCacheRefresh:function(){return Ze().memoizedState=J0.bind(null,bt)}},dg={readContext:qe,use:Yu,useCallback:eg,useContext:qe,useEffect:Zm,useImperativeHandle:tg,useInsertionEffect:$m,useLayoutEffect:Jm,useMemo:ng,useReducer:Ku,useRef:Km,useState:function(){return Ku(bi)},useDebugValue:yh,useDeferredValue:function(t,n){var r=me();return ig(r,Ft.memoizedState,t,n)},useTransition:function(){var t=Ku(bi)[0],n=me().memoizedState;return[typeof t=="boolean"?t:dl(t),n]},useSyncExternalStore:Om,useId:lg,useHostTransitionStatus:Eh,useFormState:Qm,useActionState:Qm,useOptimistic:function(t,n){var r=me();return Pm(r,Ft,t,n)},useMemoCache:fh,useCacheRefresh:ug},tE={readContext:qe,use:Yu,useCallback:eg,useContext:qe,useEffect:Zm,useImperativeHandle:tg,useInsertionEffect:$m,useLayoutEffect:Jm,useMemo:ng,useReducer:mh,useRef:Km,useState:function(){return mh(bi)},useDebugValue:yh,useDeferredValue:function(t,n){var r=me();return Ft===null?_h(r,t,n):ig(r,Ft.memoizedState,t,n)},useTransition:function(){var t=mh(bi)[0],n=me().memoizedState;return[typeof t=="boolean"?t:dl(t),n]},useSyncExternalStore:Om,useId:lg,useHostTransitionStatus:Eh,useFormState:Ym,useActionState:Ym,useOptimistic:function(t,n){var r=me();return Ft!==null?Pm(r,Ft,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:fh,useCacheRefresh:ug},Xa=null,pl=0;function Wu(t){var n=pl;return pl+=1,Xa===null&&(Xa=[]),bm(Xa,t,n)}function yl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function to(t,n){throw n.$$typeof===D?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function mg(t){var n=t._init;return n(t._payload)}function gg(t){function n(M,I){if(t){var z=M.deletions;z===null?(M.deletions=[I],M.flags|=16):z.push(I)}}function r(M,I){if(!t)return null;for(;I!==null;)n(M,I),I=I.sibling;return null}function l(M){for(var I=new Map;M!==null;)M.key!==null?I.set(M.key,M):I.set(M.index,M),M=M.sibling;return I}function c(M,I){return M=vi(M,I),M.index=0,M.sibling=null,M}function f(M,I,z){return M.index=z,t?(z=M.alternate,z!==null?(z=z.index,z<I?(M.flags|=67108866,I):z):(M.flags|=67108866,I)):(M.flags|=1048576,I)}function y(M){return t&&M.alternate===null&&(M.flags|=67108866),M}function E(M,I,z,Q){return I===null||I.tag!==6?(I=jc(z,M.mode,Q),I.return=M,I):(I=c(I,z),I.return=M,I)}function b(M,I,z,Q){var at=z.type;return at===$?G(M,I,z.props.children,Q,z.key):I!==null&&(I.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===S&&mg(at)===I.type)?(I=c(I,z.props),yl(I,z),I.return=M,I):(I=Lu(z.type,z.key,z.props,null,M.mode,Q),yl(I,z),I.return=M,I)}function P(M,I,z,Q){return I===null||I.tag!==4||I.stateNode.containerInfo!==z.containerInfo||I.stateNode.implementation!==z.implementation?(I=Hc(z,M.mode,Q),I.return=M,I):(I=c(I,z.children||[]),I.return=M,I)}function G(M,I,z,Q,at){return I===null||I.tag!==7?(I=Xr(z,M.mode,Q,at),I.return=M,I):(I=c(I,z),I.return=M,I)}function F(M,I,z){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return I=jc(""+I,M.mode,z),I.return=M,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case U:return z=Lu(I.type,I.key,I.props,null,M.mode,z),yl(z,I),z.return=M,z;case j:return I=Hc(I,M.mode,z),I.return=M,I;case S:var Q=I._init;return I=Q(I._payload),F(M,I,z)}if(ie(I)||x(I))return I=Xr(I,M.mode,z,null),I.return=M,I;if(typeof I.then=="function")return F(M,Wu(I),z);if(I.$$typeof===ht)return F(M,Bu(M,I),z);to(M,I)}return null}function k(M,I,z,Q){var at=I!==null?I.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return at!==null?null:E(M,I,""+z,Q);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case U:return z.key===at?b(M,I,z,Q):null;case j:return z.key===at?P(M,I,z,Q):null;case S:return at=z._init,z=at(z._payload),k(M,I,z,Q)}if(ie(z)||x(z))return at!==null?null:G(M,I,z,Q,null);if(typeof z.then=="function")return k(M,I,Wu(z),Q);if(z.$$typeof===ht)return k(M,I,Bu(M,z),Q);to(M,z)}return null}function B(M,I,z,Q,at){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return M=M.get(z)||null,E(I,M,""+Q,at);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case U:return M=M.get(Q.key===null?z:Q.key)||null,b(I,M,Q,at);case j:return M=M.get(Q.key===null?z:Q.key)||null,P(I,M,Q,at);case S:var Dt=Q._init;return Q=Dt(Q._payload),B(M,I,z,Q,at)}if(ie(Q)||x(Q))return M=M.get(z)||null,G(I,M,Q,at,null);if(typeof Q.then=="function")return B(M,I,z,Wu(Q),at);if(Q.$$typeof===ht)return B(M,I,z,Bu(I,Q),at);to(I,Q)}return null}function gt(M,I,z,Q){for(var at=null,Dt=null,st=I,dt=I=0,Ie=null;st!==null&&dt<z.length;dt++){st.index>dt?(Ie=st,st=null):Ie=st.sibling;var zt=k(M,st,z[dt],Q);if(zt===null){st===null&&(st=Ie);break}t&&st&&zt.alternate===null&&n(M,st),I=f(zt,I,dt),Dt===null?at=zt:Dt.sibling=zt,Dt=zt,st=Ie}if(dt===z.length)return r(M,st),kt&&$r(M,dt),at;if(st===null){for(;dt<z.length;dt++)st=F(M,z[dt],Q),st!==null&&(I=f(st,I,dt),Dt===null?at=st:Dt.sibling=st,Dt=st);return kt&&$r(M,dt),at}for(st=l(st);dt<z.length;dt++)Ie=B(st,M,dt,z[dt],Q),Ie!==null&&(t&&Ie.alternate!==null&&st.delete(Ie.key===null?dt:Ie.key),I=f(Ie,I,dt),Dt===null?at=Ie:Dt.sibling=Ie,Dt=Ie);return t&&st.forEach(function(or){return n(M,or)}),kt&&$r(M,dt),at}function ft(M,I,z,Q){if(z==null)throw Error(s(151));for(var at=null,Dt=null,st=I,dt=I=0,Ie=null,zt=z.next();st!==null&&!zt.done;dt++,zt=z.next()){st.index>dt?(Ie=st,st=null):Ie=st.sibling;var or=k(M,st,zt.value,Q);if(or===null){st===null&&(st=Ie);break}t&&st&&or.alternate===null&&n(M,st),I=f(or,I,dt),Dt===null?at=or:Dt.sibling=or,Dt=or,st=Ie}if(zt.done)return r(M,st),kt&&$r(M,dt),at;if(st===null){for(;!zt.done;dt++,zt=z.next())zt=F(M,zt.value,Q),zt!==null&&(I=f(zt,I,dt),Dt===null?at=zt:Dt.sibling=zt,Dt=zt);return kt&&$r(M,dt),at}for(st=l(st);!zt.done;dt++,zt=z.next())zt=B(st,M,dt,zt.value,Q),zt!==null&&(t&&zt.alternate!==null&&st.delete(zt.key===null?dt:zt.key),I=f(zt,I,dt),Dt===null?at=zt:Dt.sibling=zt,Dt=zt);return t&&st.forEach(function(eT){return n(M,eT)}),kt&&$r(M,dt),at}function Kt(M,I,z,Q){if(typeof z=="object"&&z!==null&&z.type===$&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case U:t:{for(var at=z.key;I!==null;){if(I.key===at){if(at=z.type,at===$){if(I.tag===7){r(M,I.sibling),Q=c(I,z.props.children),Q.return=M,M=Q;break t}}else if(I.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===S&&mg(at)===I.type){r(M,I.sibling),Q=c(I,z.props),yl(Q,z),Q.return=M,M=Q;break t}r(M,I);break}else n(M,I);I=I.sibling}z.type===$?(Q=Xr(z.props.children,M.mode,Q,z.key),Q.return=M,M=Q):(Q=Lu(z.type,z.key,z.props,null,M.mode,Q),yl(Q,z),Q.return=M,M=Q)}return y(M);case j:t:{for(at=z.key;I!==null;){if(I.key===at)if(I.tag===4&&I.stateNode.containerInfo===z.containerInfo&&I.stateNode.implementation===z.implementation){r(M,I.sibling),Q=c(I,z.children||[]),Q.return=M,M=Q;break t}else{r(M,I);break}else n(M,I);I=I.sibling}Q=Hc(z,M.mode,Q),Q.return=M,M=Q}return y(M);case S:return at=z._init,z=at(z._payload),Kt(M,I,z,Q)}if(ie(z))return gt(M,I,z,Q);if(x(z)){if(at=x(z),typeof at!="function")throw Error(s(150));return z=at.call(z),ft(M,I,z,Q)}if(typeof z.then=="function")return Kt(M,I,Wu(z),Q);if(z.$$typeof===ht)return Kt(M,I,Bu(M,z),Q);to(M,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,I!==null&&I.tag===6?(r(M,I.sibling),Q=c(I,z),Q.return=M,M=Q):(r(M,I),Q=jc(z,M.mode,Q),Q.return=M,M=Q),y(M)):r(M,I)}return function(M,I,z,Q){try{pl=0;var at=Kt(M,I,z,Q);return Xa=null,at}catch(st){if(st===ll||st===ju)throw st;var Dt=sn(29,st,null,M.mode);return Dt.lanes=Q,Dt.return=M,Dt}finally{}}}var Za=gg(!0),pg=gg(!1),Sn=Z(null),Zn=null;function Ki(t){var n=t.alternate;J(Te,Te.current&1),J(Sn,t),Zn===null&&(n===null||Qa.current!==null||n.memoizedState!==null)&&(Zn=t)}function yg(t){if(t.tag===22){if(J(Te,Te.current),J(Sn,t),Zn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Zn=t)}}else Xi()}function Xi(){J(Te,Te.current),J(Sn,Sn.current)}function Ri(t){nt(Sn),Zn===t&&(Zn=null),nt(Te)}var Te=Z(0);function eo(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||ff(r)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Ah(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:A({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Sh={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=cn(),c=Qi(l);c.payload=n,r!=null&&(c.callback=r),n=Fi(t,c,l),n!==null&&(hn(n,t,l),ol(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=cn(),c=Qi(l);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=Fi(t,c,l),n!==null&&(hn(n,t,l),ol(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=cn(),l=Qi(r);l.tag=2,n!=null&&(l.callback=n),n=Fi(t,l,r),n!==null&&(hn(n,t,r),ol(n,t,r))}};function _g(t,n,r,l,c,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,y):n.prototype&&n.prototype.isPureReactComponent?!Ws(r,l)||!Ws(c,f):!0}function vg(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&Sh.enqueueReplaceState(n,n.state,null)}function ra(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=A({},r));for(var c in t)r[c]===void 0&&(r[c]=t[c])}return r}var no=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Eg(t){no(t)}function Tg(t){console.error(t)}function Ag(t){no(t)}function io(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Sg(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function bh(t,n,r){return r=Qi(r),r.tag=3,r.payload={element:null},r.callback=function(){io(t,n)},r}function bg(t){return t=Qi(t),t.tag=3,t}function Rg(t,n,r,l){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){Sg(n,r,l)}}var y=r.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){Sg(n,r,l),typeof c!="function"&&(er===null?er=new Set([this]):er.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function eE(t,n,r,l,c){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&rl(n,r,c,!0),r=Sn.current,r!==null){switch(r.tag){case 13:return Zn===null?Kh():r.alternate===null&&se===0&&(se=3),r.flags&=-257,r.flags|=65536,r.lanes=c,l===Wc?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),Zh(t,l,c)),!1;case 22:return r.flags|=65536,l===Wc?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),Zh(t,l,c)),!1}throw Error(s(435,r.tag))}return Zh(t,l,c),Kh(),!1}if(kt)return n=Sn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==Fc&&(t=Error(s(422),{cause:l}),il(vn(t,r)))):(l!==Fc&&(n=Error(s(423),{cause:l}),il(vn(n,r))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=vn(l,r),c=bh(t.stateNode,l,c),nh(t,c),se!==4&&(se=2)),!1;var f=Error(s(520),{cause:l});if(f=vn(f,r),bl===null?bl=[f]:bl.push(f),se!==4&&(se=2),n===null)return!0;l=vn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=c&-c,r.lanes|=t,t=bh(r.stateNode,l,t),nh(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(er===null||!er.has(f))))return r.flags|=65536,c&=-c,r.lanes|=c,c=bg(c),Rg(c,t,r,l),nh(r,c),!1}r=r.return}while(r!==null);return!1}var wg=Error(s(461)),De=!1;function xe(t,n,r,l){n.child=t===null?pg(n,null,r,l):Za(n,t.child,r,l)}function Dg(t,n,r,l,c){r=r.render;var f=n.ref;if("ref"in l){var y={};for(var E in l)E!=="ref"&&(y[E]=l[E])}else y=l;return ea(n),l=lh(t,n,r,y,f,c),E=uh(),t!==null&&!De?(oh(t,n,c),wi(t,n,c)):(kt&&E&&Gc(n),n.flags|=1,xe(t,n,l,c),n.child)}function Cg(t,n,r,l,c){if(t===null){var f=r.type;return typeof f=="function"&&!qc(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Ig(t,n,f,l,c)):(t=Lu(r.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Oh(t,c)){var y=f.memoizedProps;if(r=r.compare,r=r!==null?r:Ws,r(y,l)&&t.ref===n.ref)return wi(t,n,c)}return n.flags|=1,t=vi(f,l),t.ref=n.ref,t.return=n,n.child=t}function Ig(t,n,r,l,c){if(t!==null){var f=t.memoizedProps;if(Ws(f,l)&&t.ref===n.ref)if(De=!1,n.pendingProps=l=f,Oh(t,c))(t.flags&131072)!==0&&(De=!0);else return n.lanes=t.lanes,wi(t,n,c)}return Rh(t,n,r,l,c)}function Vg(t,n,r){var l=n.pendingProps,c=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|r:r,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return Ng(t,n,l,r)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&qu(n,f!==null?f.cachePool:null),f!==null?Im(n,f):rh(),yg(n);else return n.lanes=n.childLanes=536870912,Ng(t,n,f!==null?f.baseLanes|r:r,r)}else f!==null?(qu(n,f.cachePool),Im(n,f),Xi(),n.memoizedState=null):(t!==null&&qu(n,null),rh(),Xi());return xe(t,n,c,r),n.child}function Ng(t,n,r,l){var c=Jc();return c=c===null?null:{parent:Ee._currentValue,pool:c},n.memoizedState={baseLanes:r,cachePool:c},t!==null&&qu(n,null),rh(),yg(n),t!==null&&rl(t,n,l,!0),null}function ro(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function Rh(t,n,r,l,c){return ea(n),r=lh(t,n,r,l,void 0,c),l=uh(),t!==null&&!De?(oh(t,n,c),wi(t,n,c)):(kt&&l&&Gc(n),n.flags|=1,xe(t,n,r,c),n.child)}function Og(t,n,r,l,c,f){return ea(n),n.updateQueue=null,r=Nm(n,l,r,c),Vm(t),l=uh(),t!==null&&!De?(oh(t,n,f),wi(t,n,f)):(kt&&l&&Gc(n),n.flags|=1,xe(t,n,r,f),n.child)}function Mg(t,n,r,l,c){if(ea(n),n.stateNode===null){var f=Ba,y=r.contextType;typeof y=="object"&&y!==null&&(f=qe(y)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Sh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},th(n),y=r.contextType,f.context=typeof y=="object"&&y!==null?qe(y):Ba,f.state=n.memoizedState,y=r.getDerivedStateFromProps,typeof y=="function"&&(Ah(n,r,y,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&Sh.enqueueReplaceState(f,f.state,null),hl(n,l,f,c),cl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,b=ra(r,E);f.props=b;var P=f.context,G=r.contextType;y=Ba,typeof G=="object"&&G!==null&&(y=qe(G));var F=r.getDerivedStateFromProps;G=typeof F=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==y)&&vg(n,f,l,y),Gi=!1;var k=n.memoizedState;f.state=k,hl(n,l,f,c),cl(),P=n.memoizedState,E||k!==P||Gi?(typeof F=="function"&&(Ah(n,r,F,l),P=n.memoizedState),(b=Gi||_g(n,r,b,l,k,P,y))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=P),f.props=l,f.state=P,f.context=y,l=b):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,eh(t,n),y=n.memoizedProps,G=ra(r,y),f.props=G,F=n.pendingProps,k=f.context,P=r.contextType,b=Ba,typeof P=="object"&&P!==null&&(b=qe(P)),E=r.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==F||k!==b)&&vg(n,f,l,b),Gi=!1,k=n.memoizedState,f.state=k,hl(n,l,f,c),cl();var B=n.memoizedState;y!==F||k!==B||Gi||t!==null&&t.dependencies!==null&&ku(t.dependencies)?(typeof E=="function"&&(Ah(n,r,E,l),B=n.memoizedState),(G=Gi||_g(n,r,G,l,k,B,b)||t!==null&&t.dependencies!==null&&ku(t.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,B,b),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,B,b)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&k===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&k===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=B),f.props=l,f.state=B,f.context=b,l=G):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&k===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&k===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,ro(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Za(n,t.child,null,c),n.child=Za(n,null,r,c)):xe(t,n,r,c),n.memoizedState=f.state,t=n.child):t=wi(t,n,c),t}function xg(t,n,r,l){return nl(),n.flags|=256,xe(t,n,r,l),n.child}var wh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Dh(t){return{baseLanes:t,cachePool:Tm()}}function Ch(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=bn),t}function Ug(t,n,r){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(Te.current&2)!==0),y&&(c=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(kt){if(c?Ki(n):Xi(),kt){var E=ae,b;if(b=E){t:{for(b=E,E=Xn;b.nodeType!==8;){if(!E){E=null;break t}if(b=On(b.nextSibling),b===null){E=null;break t}}E=b}E!==null?(n.memoizedState={dehydrated:E,treeContext:Zr!==null?{id:Ei,overflow:Ti}:null,retryLane:536870912,hydrationErrors:null},b=sn(18,null,null,0),b.stateNode=E,b.return=n,n.child=b,Xe=n,ae=null,b=!0):b=!1}b||Wr(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return ff(E)?n.lanes=32:n.lanes=536870912,null;Ri(n)}return E=l.children,l=l.fallback,c?(Xi(),c=n.mode,E=ao({mode:"hidden",children:E},c),l=Xr(l,c,r,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=Dh(r),c.childLanes=Ch(t,y,r),n.memoizedState=wh,l):(Ki(n),Ih(n,E))}if(b=t.memoizedState,b!==null&&(E=b.dehydrated,E!==null)){if(f)n.flags&256?(Ki(n),n.flags&=-257,n=Vh(t,n,r)):n.memoizedState!==null?(Xi(),n.child=t.child,n.flags|=128,n=null):(Xi(),c=l.fallback,E=n.mode,l=ao({mode:"visible",children:l.children},E),c=Xr(c,E,r,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,Za(n,t.child,null,r),l=n.child,l.memoizedState=Dh(r),l.childLanes=Ch(t,y,r),n.memoizedState=wh,n=c);else if(Ki(n),ff(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var P=y.dgst;y=P,l=Error(s(419)),l.stack="",l.digest=y,il({value:l,source:null,stack:null}),n=Vh(t,n,r)}else if(De||rl(t,n,r,!1),y=(r&t.childLanes)!==0,De||y){if(y=$t,y!==null&&(l=r&-r,l=(l&42)!==0?1:Li(l),l=(l&(y.suspendedLanes|r))!==0?0:l,l!==0&&l!==b.retryLane))throw b.retryLane=l,ka(t,l),hn(y,t,l),wg;E.data==="$?"||Kh(),n=Vh(t,n,r)}else E.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=b.treeContext,ae=On(E.nextSibling),Xe=n,kt=!0,Jr=null,Xn=!1,t!==null&&(Tn[An++]=Ei,Tn[An++]=Ti,Tn[An++]=Zr,Ei=t.id,Ti=t.overflow,Zr=n),n=Ih(n,l.children),n.flags|=4096);return n}return c?(Xi(),c=l.fallback,E=n.mode,b=t.child,P=b.sibling,l=vi(b,{mode:"hidden",children:l.children}),l.subtreeFlags=b.subtreeFlags&65011712,P!==null?c=vi(P,c):(c=Xr(c,E,r,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=Dh(r):(b=E.cachePool,b!==null?(P=Ee._currentValue,b=b.parent!==P?{parent:P,pool:P}:b):b=Tm(),E={baseLanes:E.baseLanes|r,cachePool:b}),c.memoizedState=E,c.childLanes=Ch(t,y,r),n.memoizedState=wh,l):(Ki(n),r=t.child,t=r.sibling,r=vi(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=r,n.memoizedState=null,r)}function Ih(t,n){return n=ao({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function ao(t,n){return t=sn(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Vh(t,n,r){return Za(n,t.child,null,r),t=Ih(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Lg(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Kc(t.return,n,r)}function Nh(t,n,r,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=r,f.tailMode=c)}function zg(t,n,r){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(xe(t,n,l.children,r),l=Te.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Lg(t,r,n);else if(t.tag===19)Lg(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(J(Te,l),c){case"forwards":for(r=n.child,c=null;r!==null;)t=r.alternate,t!==null&&eo(t)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),Nh(n,!1,c,r,f);break;case"backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&eo(t)===null){n.child=c;break}t=c.sibling,c.sibling=r,r=c,c=t}Nh(n,!0,r,null,f);break;case"together":Nh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function wi(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),tr|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(rl(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,r=vi(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=vi(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Oh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&ku(t)))}function nE(t,n,r){switch(n.tag){case 3:Zt(n,n.stateNode.containerInfo),Hi(n,Ee,t.memoizedState.cache),nl();break;case 27:case 5:Ui(n);break;case 4:Zt(n,n.stateNode.containerInfo);break;case 10:Hi(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Ki(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Ug(t,n,r):(Ki(n),t=wi(t,n,r),t!==null?t.sibling:null);Ki(n);break;case 19:var c=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(rl(t,n,r,!1),l=(r&n.childLanes)!==0),c){if(l)return zg(t,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),J(Te,Te.current),l)break;return null;case 22:case 23:return n.lanes=0,Vg(t,n,r);case 24:Hi(n,Ee,t.memoizedState.cache)}return wi(t,n,r)}function Pg(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)De=!0;else{if(!Oh(t,r)&&(n.flags&128)===0)return De=!1,nE(t,n,r);De=(t.flags&131072)!==0}else De=!1,kt&&(n.flags&1048576)!==0&&mm(n,Pu,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")qc(l)?(t=ra(l,t),n.tag=1,n=Mg(null,n,l,t,r)):(n.tag=0,n=Rh(null,n,l,t,r));else{if(l!=null){if(c=l.$$typeof,c===Tt){n.tag=11,n=Dg(null,n,l,t,r);break t}else if(c===N){n.tag=14,n=Cg(null,n,l,t,r);break t}}throw n=Ne(l)||l,Error(s(306,n,""))}}return n;case 0:return Rh(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,c=ra(l,n.pendingProps),Mg(t,n,l,c,r);case 3:t:{if(Zt(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,eh(t,n),hl(n,l,null,r);var y=n.memoizedState;if(l=y.cache,Hi(n,Ee,l),l!==f.cache&&Xc(n,[Ee],r,!0),cl(),l=y.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=xg(t,n,l,r);break t}else if(l!==c){c=vn(Error(s(424)),n),il(c),n=xg(t,n,l,r);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ae=On(t.firstChild),Xe=n,kt=!0,Jr=null,Xn=!0,r=pg(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(nl(),l===c){n=wi(t,n,r);break t}xe(t,n,l,r)}n=n.child}return n;case 26:return ro(t,n),t===null?(r=jp(n.type,null,n.pendingProps,null))?n.memoizedState=r:kt||(r=n.type,t=n.pendingProps,l=Eo(yt.current).createElement(r),l[ye]=n,l[he]=t,Le(l,r,t),le(l),n.stateNode=l):n.memoizedState=jp(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Ui(n),t===null&&kt&&(l=n.stateNode=kp(n.type,n.pendingProps,yt.current),Xe=n,Xn=!0,c=ae,rr(n.type)?(df=c,ae=On(l.firstChild)):ae=c),xe(t,n,n.pendingProps.children,r),ro(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&kt&&((c=l=ae)&&(l=VE(l,n.type,n.pendingProps,Xn),l!==null?(n.stateNode=l,Xe=n,ae=On(l.firstChild),Xn=!1,c=!0):c=!1),c||Wr(n)),Ui(n),c=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,l=f.children,of(c,f)?l=null:y!==null&&of(c,y)&&(n.flags|=32),n.memoizedState!==null&&(c=lh(t,n,K0,null,null,r),Ml._currentValue=c),ro(t,n),xe(t,n,l,r),n.child;case 6:return t===null&&kt&&((t=r=ae)&&(r=NE(r,n.pendingProps,Xn),r!==null?(n.stateNode=r,Xe=n,ae=null,t=!0):t=!1),t||Wr(n)),null;case 13:return Ug(t,n,r);case 4:return Zt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Za(n,null,l,r):xe(t,n,l,r),n.child;case 11:return Dg(t,n,n.type,n.pendingProps,r);case 7:return xe(t,n,n.pendingProps,r),n.child;case 8:return xe(t,n,n.pendingProps.children,r),n.child;case 12:return xe(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,Hi(n,n.type,l.value),xe(t,n,l.children,r),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,ea(n),c=qe(c),l=l(c),n.flags|=1,xe(t,n,l,r),n.child;case 14:return Cg(t,n,n.type,n.pendingProps,r);case 15:return Ig(t,n,n.type,n.pendingProps,r);case 19:return zg(t,n,r);case 31:return l=n.pendingProps,r=n.mode,l={mode:l.mode,children:l.children},t===null?(r=ao(l,r),r.ref=n.ref,n.child=r,r.return=n,n=r):(r=vi(t.child,l),r.ref=n.ref,n.child=r,r.return=n,n=r),n;case 22:return Vg(t,n,r);case 24:return ea(n),l=qe(Ee),t===null?(c=Jc(),c===null&&(c=$t,f=Zc(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=r),c=f),n.memoizedState={parent:l,cache:c},th(n),Hi(n,Ee,c)):((t.lanes&r)!==0&&(eh(t,n),hl(n,null,null,r),cl()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),Hi(n,Ee,l)):(l=f.cache,Hi(n,Ee,l),l!==c.cache&&Xc(n,[Ee],r,!0))),xe(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Di(t){t.flags|=4}function kg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Yp(n)){if(n=Sn.current,n!==null&&((xt&4194048)===xt?Zn!==null:(xt&62914560)!==xt&&(xt&536870912)===0||n!==Zn))throw ul=Wc,Am;t.flags|=8192}}function so(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Us():536870912,t.lanes|=n,ts|=n)}function _l(t,n){if(!kt)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ee(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function iE(t,n,r){var l=n.pendingProps;switch(Qc(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ee(n),null;case 1:return ee(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Si(Ee),zn(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(el(n)?Di(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,ym())),ee(n),null;case 26:return r=n.memoizedState,t===null?(Di(n),r!==null?(ee(n),kg(n,r)):(ee(n),n.flags&=-16777217)):r?r!==t.memoizedState?(Di(n),ee(n),kg(n,r)):(ee(n),n.flags&=-16777217):(t.memoizedProps!==l&&Di(n),ee(n),n.flags&=-16777217),null;case 27:si(n),r=yt.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Di(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ee(n),null}t=ct.current,el(n)?gm(n):(t=kp(c,l,r),n.stateNode=t,Di(n))}return ee(n),null;case 5:if(si(n),r=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Di(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ee(n),null}if(t=ct.current,el(n))gm(n);else{switch(c=Eo(yt.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(r,{is:l.is}):c.createElement(r)}}t[ye]=n,t[he]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(Le(t,r,l),r){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Di(n)}}return ee(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Di(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=yt.current,el(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,c=Xe,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[ye]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||Op(t.nodeValue,r)),t||Wr(n)}else t=Eo(t).createTextNode(l),t[ye]=n,n.stateNode=t}return ee(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=el(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(s(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[ye]=n}else nl(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ee(n),c=!1}else c=ym(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(Ri(n),n):(Ri(n),null)}if(Ri(n),(n.flags&128)!==0)return n.lanes=r,n;if(r=l!==null,t=t!==null&&t.memoizedState!==null,r){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return r!==t&&r&&(n.child.flags|=8192),so(n,n.updateQueue),ee(n),null;case 4:return zn(),t===null&&rf(n.stateNode.containerInfo),ee(n),null;case 10:return Si(n.type),ee(n),null;case 19:if(nt(Te),c=n.memoizedState,c===null)return ee(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)_l(c,!1);else{if(se!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=eo(t),f!==null){for(n.flags|=128,_l(c,!1),t=f.updateQueue,n.updateQueue=t,so(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)dm(r,t),r=r.sibling;return J(Te,Te.current&1|2),n.child}t=t.sibling}c.tail!==null&&dn()>oo&&(n.flags|=128,l=!0,_l(c,!1),n.lanes=4194304)}else{if(!l)if(t=eo(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,so(n,t),_l(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!kt)return ee(n),null}else 2*dn()-c.renderingStartTime>oo&&r!==536870912&&(n.flags|=128,l=!0,_l(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=dn(),n.sibling=null,t=Te.current,J(Te,l?t&1|2:t&1),n):(ee(n),null);case 22:case 23:return Ri(n),ah(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(ee(n),n.subtreeFlags&6&&(n.flags|=8192)):ee(n),r=n.updateQueue,r!==null&&so(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&nt(na),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Si(Ee),ee(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function rE(t,n){switch(Qc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Si(Ee),zn(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return si(n),null;case 13:if(Ri(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));nl()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return nt(Te),null;case 4:return zn(),null;case 10:return Si(n.type),null;case 22:case 23:return Ri(n),ah(),t!==null&&nt(na),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Si(Ee),null;case 25:return null;default:return null}}function Bg(t,n){switch(Qc(n),n.tag){case 3:Si(Ee),zn();break;case 26:case 27:case 5:si(n);break;case 4:zn();break;case 13:Ri(n);break;case 19:nt(Te);break;case 10:Si(n.type);break;case 22:case 23:Ri(n),ah(),t!==null&&nt(na);break;case 24:Si(Ee)}}function vl(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var c=l.next;r=c;do{if((r.tag&t)===t){l=void 0;var f=r.create,y=r.inst;l=f(),y.destroy=l}r=r.next}while(r!==c)}}catch(E){Xt(n,n.return,E)}}function Zi(t,n,r){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var y=l.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,c=n;var b=r,P=E;try{P()}catch(G){Xt(c,b,G)}}}l=l.next}while(l!==f)}}catch(G){Xt(n,n.return,G)}}function qg(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{Cm(n,r)}catch(l){Xt(t,t.return,l)}}}function jg(t,n,r){r.props=ra(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Xt(t,n,l)}}function El(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(c){Xt(t,n,c)}}function $n(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(c){Xt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){Xt(t,n,c)}else r.current=null}function Hg(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break t;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(c){Xt(t,t.return,c)}}function Mh(t,n,r){try{var l=t.stateNode;RE(l,t.type,r,n),l[he]=n}catch(c){Xt(t,t.return,c)}}function Gg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&rr(t.type)||t.tag===4}function xh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Gg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&rr(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Uh(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=vo));else if(l!==4&&(l===27&&rr(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(Uh(t,n,r),t=t.sibling;t!==null;)Uh(t,n,r),t=t.sibling}function lo(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&rr(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(lo(t,n,r),t=t.sibling;t!==null;)lo(t,n,r),t=t.sibling}function Qg(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Le(n,l,r),n[ye]=t,n[he]=r}catch(f){Xt(t,t.return,f)}}var Ci=!1,oe=!1,Lh=!1,Fg=typeof WeakSet=="function"?WeakSet:Set,Ce=null;function aE(t,n){if(t=t.containerInfo,lf=wo,t=im(t),xc(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else t:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var y=0,E=-1,b=-1,P=0,G=0,F=t,k=null;e:for(;;){for(var B;F!==r||c!==0&&F.nodeType!==3||(E=y+c),F!==f||l!==0&&F.nodeType!==3||(b=y+l),F.nodeType===3&&(y+=F.nodeValue.length),(B=F.firstChild)!==null;)k=F,F=B;for(;;){if(F===t)break e;if(k===r&&++P===c&&(E=y),k===f&&++G===l&&(b=y),(B=F.nextSibling)!==null)break;F=k,k=F.parentNode}F=B}r=E===-1||b===-1?null:{start:E,end:b}}else r=null}r=r||{start:0,end:0}}else r=null;for(uf={focusedElem:t,selectionRange:r},wo=!1,Ce=n;Ce!==null;)if(n=Ce,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Ce=t;else for(;Ce!==null;){switch(n=Ce,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,c=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var gt=ra(r.type,c,r.elementType===r.type);t=l.getSnapshotBeforeUpdate(gt,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(ft){Xt(r,r.return,ft)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)hf(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":hf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Ce=t;break}Ce=n.return}}function Yg(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:$i(t,r),l&4&&vl(5,r);break;case 1:if($i(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(y){Xt(r,r.return,y)}else{var c=ra(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){Xt(r,r.return,y)}}l&64&&qg(r),l&512&&El(r,r.return);break;case 3:if($i(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Cm(t,n)}catch(y){Xt(r,r.return,y)}}break;case 27:n===null&&l&4&&Qg(r);case 26:case 5:$i(t,r),n===null&&l&4&&Hg(r),l&512&&El(r,r.return);break;case 12:$i(t,r);break;case 13:$i(t,r),l&4&&Zg(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=mE.bind(null,r),OE(t,r))));break;case 22:if(l=r.memoizedState!==null||Ci,!l){n=n!==null&&n.memoizedState!==null||oe,c=Ci;var f=oe;Ci=l,(oe=n)&&!f?Ji(t,r,(r.subtreeFlags&8772)!==0):$i(t,r),Ci=c,oe=f}break;case 30:break;default:$i(t,r)}}function Kg(t){var n=t.alternate;n!==null&&(t.alternate=null,Kg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&ki(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var te=null,$e=!1;function Ii(t,n,r){for(r=r.child;r!==null;)Xg(t,n,r),r=r.sibling}function Xg(t,n,r){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(re,r)}catch{}switch(r.tag){case 26:oe||$n(r,n),Ii(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:oe||$n(r,n);var l=te,c=$e;rr(r.type)&&(te=r.stateNode,$e=!1),Ii(t,n,r),Il(r.stateNode),te=l,$e=c;break;case 5:oe||$n(r,n);case 6:if(l=te,c=$e,te=null,Ii(t,n,r),te=l,$e=c,te!==null)if($e)try{(te.nodeType===9?te.body:te.nodeName==="HTML"?te.ownerDocument.body:te).removeChild(r.stateNode)}catch(f){Xt(r,n,f)}else try{te.removeChild(r.stateNode)}catch(f){Xt(r,n,f)}break;case 18:te!==null&&($e?(t=te,zp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),zl(t)):zp(te,r.stateNode));break;case 4:l=te,c=$e,te=r.stateNode.containerInfo,$e=!0,Ii(t,n,r),te=l,$e=c;break;case 0:case 11:case 14:case 15:oe||Zi(2,r,n),oe||Zi(4,r,n),Ii(t,n,r);break;case 1:oe||($n(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&jg(r,n,l)),Ii(t,n,r);break;case 21:Ii(t,n,r);break;case 22:oe=(l=oe)||r.memoizedState!==null,Ii(t,n,r),oe=l;break;default:Ii(t,n,r)}}function Zg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{zl(t)}catch(r){Xt(n,n.return,r)}}function sE(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Fg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Fg),n;default:throw Error(s(435,t.tag))}}function zh(t,n){var r=sE(t);n.forEach(function(l){var c=gE.bind(null,t,l);r.has(l)||(r.add(l),l.then(c,c))})}function ln(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var c=r[l],f=t,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:if(rr(E.type)){te=E.stateNode,$e=!1;break t}break;case 5:te=E.stateNode,$e=!1;break t;case 3:case 4:te=E.stateNode.containerInfo,$e=!0;break t}E=E.return}if(te===null)throw Error(s(160));Xg(f,y,c),te=null,$e=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)$g(n,t),n=n.sibling}var Nn=null;function $g(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:ln(n,t),un(t),l&4&&(Zi(3,t,t.return),vl(3,t),Zi(5,t,t.return));break;case 1:ln(n,t),un(t),l&512&&(oe||r===null||$n(r,r.return)),l&64&&Ci&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var c=Nn;if(ln(n,t),un(t),l&512&&(oe||r===null||$n(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){t:{l=t.type,r=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Mr]||f[ye]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),Le(f,l,r),f[ye]=t,le(f),l=f;break t;case"link":var y=Qp("link","href",c).get(l+(r.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){y.splice(E,1);break e}}f=c.createElement(l),Le(f,l,r),c.head.appendChild(f);break;case"meta":if(y=Qp("meta","content",c).get(l+(r.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){y.splice(E,1);break e}}f=c.createElement(l),Le(f,l,r),c.head.appendChild(f);break;default:throw Error(s(468,l))}f[ye]=t,le(f),l=f}t.stateNode=l}else Fp(c,t.type,t.stateNode);else t.stateNode=Gp(c,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?Fp(c,t.type,t.stateNode):Gp(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Mh(t,t.memoizedProps,r.memoizedProps)}break;case 27:ln(n,t),un(t),l&512&&(oe||r===null||$n(r,r.return)),r!==null&&l&4&&Mh(t,t.memoizedProps,r.memoizedProps);break;case 5:if(ln(n,t),un(t),l&512&&(oe||r===null||$n(r,r.return)),t.flags&32){c=t.stateNode;try{gn(c,"")}catch(B){Xt(t,t.return,B)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Mh(t,c,r!==null?r.memoizedProps:c)),l&1024&&(Lh=!0);break;case 6:if(ln(n,t),un(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(B){Xt(t,t.return,B)}}break;case 3:if(So=null,c=Nn,Nn=To(n.containerInfo),ln(n,t),Nn=c,un(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{zl(n.containerInfo)}catch(B){Xt(t,t.return,B)}Lh&&(Lh=!1,Jg(t));break;case 4:l=Nn,Nn=To(t.stateNode.containerInfo),ln(n,t),un(t),Nn=l;break;case 12:ln(n,t),un(t);break;case 13:ln(n,t),un(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Hh=dn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,zh(t,l)));break;case 22:c=t.memoizedState!==null;var b=r!==null&&r.memoizedState!==null,P=Ci,G=oe;if(Ci=P||c,oe=G||b,ln(n,t),oe=G,Ci=P,un(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(r===null||b||Ci||oe||aa(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){b=r=n;try{if(f=b.stateNode,c)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=b.stateNode;var F=b.memoizedProps.style,k=F!=null&&F.hasOwnProperty("display")?F.display:null;E.style.display=k==null||typeof k=="boolean"?"":(""+k).trim()}}catch(B){Xt(b,b.return,B)}}}else if(n.tag===6){if(r===null){b=n;try{b.stateNode.nodeValue=c?"":b.memoizedProps}catch(B){Xt(b,b.return,B)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,zh(t,r))));break;case 19:ln(n,t),un(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,zh(t,l)));break;case 30:break;case 21:break;default:ln(n,t),un(t)}}function un(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(Gg(l)){r=l;break}l=l.return}if(r==null)throw Error(s(160));switch(r.tag){case 27:var c=r.stateNode,f=xh(t);lo(t,f,c);break;case 5:var y=r.stateNode;r.flags&32&&(gn(y,""),r.flags&=-33);var E=xh(t);lo(t,E,y);break;case 3:case 4:var b=r.stateNode.containerInfo,P=xh(t);Uh(t,P,b);break;default:throw Error(s(161))}}catch(G){Xt(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Jg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Jg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function $i(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Yg(t,n.alternate,n),n=n.sibling}function aa(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Zi(4,n,n.return),aa(n);break;case 1:$n(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&jg(n,n.return,r),aa(n);break;case 27:Il(n.stateNode);case 26:case 5:$n(n,n.return),aa(n);break;case 22:n.memoizedState===null&&aa(n);break;case 30:aa(n);break;default:aa(n)}t=t.sibling}}function Ji(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:Ji(c,f,r),vl(4,f);break;case 1:if(Ji(c,f,r),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(P){Xt(l,l.return,P)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var b=c.shared.hiddenCallbacks;if(b!==null)for(c.shared.hiddenCallbacks=null,c=0;c<b.length;c++)Dm(b[c],E)}catch(P){Xt(l,l.return,P)}}r&&y&64&&qg(f),El(f,f.return);break;case 27:Qg(f);case 26:case 5:Ji(c,f,r),r&&l===null&&y&4&&Hg(f),El(f,f.return);break;case 12:Ji(c,f,r);break;case 13:Ji(c,f,r),r&&y&4&&Zg(c,f);break;case 22:f.memoizedState===null&&Ji(c,f,r),El(f,f.return);break;case 30:break;default:Ji(c,f,r)}n=n.sibling}}function Ph(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&al(r))}function kh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&al(t))}function Jn(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Wg(t,n,r,l),n=n.sibling}function Wg(t,n,r,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Jn(t,n,r,l),c&2048&&vl(9,n);break;case 1:Jn(t,n,r,l);break;case 3:Jn(t,n,r,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&al(t)));break;case 12:if(c&2048){Jn(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(b){Xt(n,n.return,b)}}else Jn(t,n,r,l);break;case 13:Jn(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?Jn(t,n,r,l):Tl(t,n):f._visibility&2?Jn(t,n,r,l):(f._visibility|=2,$a(t,n,r,l,(n.subtreeFlags&10256)!==0)),c&2048&&Ph(y,n);break;case 24:Jn(t,n,r,l),c&2048&&kh(n.alternate,n);break;default:Jn(t,n,r,l)}}function $a(t,n,r,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,y=n,E=r,b=l,P=y.flags;switch(y.tag){case 0:case 11:case 15:$a(f,y,E,b,c),vl(8,y);break;case 23:break;case 22:var G=y.stateNode;y.memoizedState!==null?G._visibility&2?$a(f,y,E,b,c):Tl(f,y):(G._visibility|=2,$a(f,y,E,b,c)),c&&P&2048&&Ph(y.alternate,y);break;case 24:$a(f,y,E,b,c),c&&P&2048&&kh(y.alternate,y);break;default:$a(f,y,E,b,c)}n=n.sibling}}function Tl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,c=l.flags;switch(l.tag){case 22:Tl(r,l),c&2048&&Ph(l.alternate,l);break;case 24:Tl(r,l),c&2048&&kh(l.alternate,l);break;default:Tl(r,l)}n=n.sibling}}var Al=8192;function Ja(t){if(t.subtreeFlags&Al)for(t=t.child;t!==null;)tp(t),t=t.sibling}function tp(t){switch(t.tag){case 26:Ja(t),t.flags&Al&&t.memoizedState!==null&&QE(Nn,t.memoizedState,t.memoizedProps);break;case 5:Ja(t);break;case 3:case 4:var n=Nn;Nn=To(t.stateNode.containerInfo),Ja(t),Nn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=Al,Al=16777216,Ja(t),Al=n):Ja(t));break;default:Ja(t)}}function ep(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Sl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ce=l,ip(l,t)}ep(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)np(t),t=t.sibling}function np(t){switch(t.tag){case 0:case 11:case 15:Sl(t),t.flags&2048&&Zi(9,t,t.return);break;case 3:Sl(t);break;case 12:Sl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,uo(t)):Sl(t);break;default:Sl(t)}}function uo(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ce=l,ip(l,t)}ep(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Zi(8,n,n.return),uo(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,uo(n));break;default:uo(n)}t=t.sibling}}function ip(t,n){for(;Ce!==null;){var r=Ce;switch(r.tag){case 0:case 11:case 15:Zi(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:al(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Ce=l;else t:for(r=t;Ce!==null;){l=Ce;var c=l.sibling,f=l.return;if(Kg(l),l===r){Ce=null;break t}if(c!==null){c.return=f,Ce=c;break t}Ce=f}}}var lE={getCacheForType:function(t){var n=qe(Ee),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r}},uE=typeof WeakMap=="function"?WeakMap:Map,Ht=0,$t=null,Ct=null,xt=0,Gt=0,on=null,Wi=!1,Wa=!1,Bh=!1,Vi=0,se=0,tr=0,sa=0,qh=0,bn=0,ts=0,bl=null,Je=null,jh=!1,Hh=0,oo=1/0,co=null,er=null,Ue=0,nr=null,es=null,ns=0,Gh=0,Qh=null,rp=null,Rl=0,Fh=null;function cn(){if((Ht&2)!==0&&xt!==0)return xt&-xt;if(H.T!==null){var t=Ha;return t!==0?t:Wh()}return zi()}function ap(){bn===0&&(bn=(xt&536870912)===0||kt?xs():536870912);var t=Sn.current;return t!==null&&(t.flags|=32),bn}function hn(t,n,r){(t===$t&&(Gt===2||Gt===9)||t.cancelPendingCommit!==null)&&(is(t,0),ir(t,xt,bn,!1)),ui(t,r),((Ht&2)===0||t!==$t)&&(t===$t&&((Ht&2)===0&&(sa|=r),se===4&&ir(t,xt,bn,!1)),Wn(t))}function sp(t,n,r){if((Ht&6)!==0)throw Error(s(327));var l=!r&&(n&124)===0&&(n&t.expiredLanes)===0||Or(t,n),c=l?hE(t,n):Xh(t,n,!0),f=l;do{if(c===0){Wa&&!l&&ir(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!oE(r)){c=Xh(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=t;c=bl;var b=E.current.memoizedState.isDehydrated;if(b&&(is(E,y).flags|=256),y=Xh(E,y,!1),y!==2){if(Bh&&!b){E.errorRecoveryDisabledLanes|=f,sa|=f,c=4;break t}f=Je,Je=c,f!==null&&(Je===null?Je=f:Je.push.apply(Je,f))}c=y}if(f=!1,c!==2)continue}}if(c===1){is(t,0),ir(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:ir(l,n,bn,!Wi);break t;case 2:Je=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(c=Hh+300-dn(),10<c)){if(ir(l,n,bn,!Wi),Ea(l,0,!0)!==0)break t;l.timeoutHandle=Up(lp.bind(null,l,r,Je,co,jh,n,bn,sa,ts,Wi,f,2,-0,0),c);break t}lp(l,r,Je,co,jh,n,bn,sa,ts,Wi,f,0,-0,0)}}break}while(!0);Wn(t)}function lp(t,n,r,l,c,f,y,E,b,P,G,F,k,B){if(t.timeoutHandle=-1,F=n.subtreeFlags,(F&8192||(F&16785408)===16785408)&&(Ol={stylesheets:null,count:0,unsuspend:GE},tp(n),F=FE(),F!==null)){t.cancelPendingCommit=F(mp.bind(null,t,n,f,r,l,c,y,E,b,G,1,k,B)),ir(t,f,y,!P);return}mp(t,n,f,r,l,c,y,E,b)}function oE(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var c=r[l],f=c.getSnapshot;c=c.value;try{if(!an(f(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ir(t,n,r,l){n&=~qh,n&=~sa,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-Be(c),y=1<<f;l[f]=-1,c&=~y}r!==0&&Pn(t,r,n)}function ho(){return(Ht&6)===0?(wl(0),!1):!0}function Yh(){if(Ct!==null){if(Gt===0)var t=Ct.return;else t=Ct,Ai=ta=null,ch(t),Xa=null,pl=0,t=Ct;for(;t!==null;)Bg(t.alternate,t),t=t.return;Ct=null}}function is(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,DE(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),Yh(),$t=t,Ct=r=vi(t.current,null),xt=n,Gt=0,on=null,Wi=!1,Wa=Or(t,n),Bh=!1,ts=bn=qh=sa=tr=se=0,Je=bl=null,jh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-Be(l),f=1<<c;n|=t[c],l&=~f}return Vi=n,Mu(),r}function up(t,n){bt=null,H.H=Ju,n===ll||n===ju?(n=Rm(),Gt=3):n===Am?(n=Rm(),Gt=4):Gt=n===wg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,on=n,Ct===null&&(se=1,io(t,vn(n,t.current)))}function op(){var t=H.H;return H.H=Ju,t===null?Ju:t}function cp(){var t=H.A;return H.A=lE,t}function Kh(){se=4,Wi||(xt&4194048)!==xt&&Sn.current!==null||(Wa=!0),(tr&134217727)===0&&(sa&134217727)===0||$t===null||ir($t,xt,bn,!1)}function Xh(t,n,r){var l=Ht;Ht|=2;var c=op(),f=cp();($t!==t||xt!==n)&&(co=null,is(t,n)),n=!1;var y=se;t:do try{if(Gt!==0&&Ct!==null){var E=Ct,b=on;switch(Gt){case 8:Yh(),y=6;break t;case 3:case 2:case 9:case 6:Sn.current===null&&(n=!0);var P=Gt;if(Gt=0,on=null,rs(t,E,b,P),r&&Wa){y=0;break t}break;default:P=Gt,Gt=0,on=null,rs(t,E,b,P)}}cE(),y=se;break}catch(G){up(t,G)}while(!0);return n&&t.shellSuspendCounter++,Ai=ta=null,Ht=l,H.H=c,H.A=f,Ct===null&&($t=null,xt=0,Mu()),y}function cE(){for(;Ct!==null;)hp(Ct)}function hE(t,n){var r=Ht;Ht|=2;var l=op(),c=cp();$t!==t||xt!==n?(co=null,oo=dn()+500,is(t,n)):Wa=Or(t,n);t:do try{if(Gt!==0&&Ct!==null){n=Ct;var f=on;e:switch(Gt){case 1:Gt=0,on=null,rs(t,n,f,1);break;case 2:case 9:if(Sm(f)){Gt=0,on=null,fp(n);break}n=function(){Gt!==2&&Gt!==9||$t!==t||(Gt=7),Wn(t)},f.then(n,n);break t;case 3:Gt=7;break t;case 4:Gt=5;break t;case 7:Sm(f)?(Gt=0,on=null,fp(n)):(Gt=0,on=null,rs(t,n,f,7));break;case 5:var y=null;switch(Ct.tag){case 26:y=Ct.memoizedState;case 5:case 27:var E=Ct;if(!y||Yp(y)){Gt=0,on=null;var b=E.sibling;if(b!==null)Ct=b;else{var P=E.return;P!==null?(Ct=P,fo(P)):Ct=null}break e}}Gt=0,on=null,rs(t,n,f,5);break;case 6:Gt=0,on=null,rs(t,n,f,6);break;case 8:Yh(),se=6;break t;default:throw Error(s(462))}}fE();break}catch(G){up(t,G)}while(!0);return Ai=ta=null,H.H=l,H.A=c,Ht=r,Ct!==null?0:($t=null,xt=0,Mu(),se)}function fE(){for(;Ct!==null&&!Vs();)hp(Ct)}function hp(t){var n=Pg(t.alternate,t,Vi);t.memoizedProps=t.pendingProps,n===null?fo(t):Ct=n}function fp(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=Og(r,n,n.pendingProps,n.type,void 0,xt);break;case 11:n=Og(r,n,n.pendingProps,n.type.render,n.ref,xt);break;case 5:ch(n);default:Bg(r,n),n=Ct=dm(n,Vi),n=Pg(r,n,Vi)}t.memoizedProps=t.pendingProps,n===null?fo(t):Ct=n}function rs(t,n,r,l){Ai=ta=null,ch(n),Xa=null,pl=0;var c=n.return;try{if(eE(t,c,n,r,xt)){se=1,io(t,vn(r,t.current)),Ct=null;return}}catch(f){if(c!==null)throw Ct=c,f;se=1,io(t,vn(r,t.current)),Ct=null;return}n.flags&32768?(kt||l===1?t=!0:Wa||(xt&536870912)!==0?t=!1:(Wi=t=!0,(l===2||l===9||l===3||l===6)&&(l=Sn.current,l!==null&&l.tag===13&&(l.flags|=16384))),dp(n,t)):fo(n)}function fo(t){var n=t;do{if((n.flags&32768)!==0){dp(n,Wi);return}t=n.return;var r=iE(n.alternate,n,Vi);if(r!==null){Ct=r;return}if(n=n.sibling,n!==null){Ct=n;return}Ct=n=t}while(n!==null);se===0&&(se=5)}function dp(t,n){do{var r=rE(t.alternate,t);if(r!==null){r.flags&=32767,Ct=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){Ct=t;return}Ct=t=r}while(t!==null);se=6,Ct=null}function mp(t,n,r,l,c,f,y,E,b){t.cancelPendingCommit=null;do mo();while(Ue!==0);if((Ht&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=kc,Ls(t,r,f,y,E,b),t===$t&&(Ct=$t=null,xt=0),es=n,nr=t,ns=r,Gh=f,Qh=c,rp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,pE(Cr,function(){return vp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,c=et.p,et.p=2,y=Ht,Ht|=4;try{aE(t,n,r)}finally{Ht=y,et.p=c,H.T=l}}Ue=1,gp(),pp(),yp()}}function gp(){if(Ue===1){Ue=0;var t=nr,n=es,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=H.T,H.T=null;var l=et.p;et.p=2;var c=Ht;Ht|=4;try{$g(n,t);var f=uf,y=im(t.containerInfo),E=f.focusedElem,b=f.selectionRange;if(y!==E&&E&&E.ownerDocument&&nm(E.ownerDocument.documentElement,E)){if(b!==null&&xc(E)){var P=b.start,G=b.end;if(G===void 0&&(G=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(G,E.value.length);else{var F=E.ownerDocument||document,k=F&&F.defaultView||window;if(k.getSelection){var B=k.getSelection(),gt=E.textContent.length,ft=Math.min(b.start,gt),Kt=b.end===void 0?ft:Math.min(b.end,gt);!B.extend&&ft>Kt&&(y=Kt,Kt=ft,ft=y);var M=em(E,ft),I=em(E,Kt);if(M&&I&&(B.rangeCount!==1||B.anchorNode!==M.node||B.anchorOffset!==M.offset||B.focusNode!==I.node||B.focusOffset!==I.offset)){var z=F.createRange();z.setStart(M.node,M.offset),B.removeAllRanges(),ft>Kt?(B.addRange(z),B.extend(I.node,I.offset)):(z.setEnd(I.node,I.offset),B.addRange(z))}}}}for(F=[],B=E;B=B.parentNode;)B.nodeType===1&&F.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<F.length;E++){var Q=F[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}wo=!!lf,uf=lf=null}finally{Ht=c,et.p=l,H.T=r}}t.current=n,Ue=2}}function pp(){if(Ue===2){Ue=0;var t=nr,n=es,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=H.T,H.T=null;var l=et.p;et.p=2;var c=Ht;Ht|=4;try{Yg(t,n.alternate,n)}finally{Ht=c,et.p=l,H.T=r}}Ue=3}}function yp(){if(Ue===4||Ue===3){Ue=0,uu();var t=nr,n=es,r=ns,l=rp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ue=5:(Ue=0,es=nr=null,_p(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(er=null),Ta(r),n=n.stateNode,jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(re,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=H.T,c=et.p,et.p=2,H.T=null;try{for(var f=t.onRecoverableError,y=0;y<l.length;y++){var E=l[y];f(E.value,{componentStack:E.stack})}}finally{H.T=n,et.p=c}}(ns&3)!==0&&mo(),Wn(t),c=t.pendingLanes,(r&4194090)!==0&&(c&42)!==0?t===Fh?Rl++:(Rl=0,Fh=t):Rl=0,wl(0)}}function _p(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,al(n)))}function mo(t){return gp(),pp(),yp(),vp()}function vp(){if(Ue!==5)return!1;var t=nr,n=Gh;Gh=0;var r=Ta(ns),l=H.T,c=et.p;try{et.p=32>r?32:r,H.T=null,r=Qh,Qh=null;var f=nr,y=ns;if(Ue=0,es=nr=null,ns=0,(Ht&6)!==0)throw Error(s(331));var E=Ht;if(Ht|=4,np(f.current),Wg(f,f.current,y,r),Ht=E,wl(0,!1),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(re,f)}catch{}return!0}finally{et.p=c,H.T=l,_p(t,n)}}function Ep(t,n,r){n=vn(r,n),n=bh(t.stateNode,n,2),t=Fi(t,n,2),t!==null&&(ui(t,2),Wn(t))}function Xt(t,n,r){if(t.tag===3)Ep(t,t,r);else for(;n!==null;){if(n.tag===3){Ep(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(er===null||!er.has(l))){t=vn(r,t),r=bg(2),l=Fi(n,r,2),l!==null&&(Rg(r,l,n,t),ui(l,2),Wn(l));break}}n=n.return}}function Zh(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new uE;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(r)||(Bh=!0,c.add(r),t=dE.bind(null,t,n,r),n.then(t,t))}function dE(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,$t===t&&(xt&r)===r&&(se===4||se===3&&(xt&62914560)===xt&&300>dn()-Hh?(Ht&2)===0&&is(t,0):qh|=r,ts===xt&&(ts=0)),Wn(t)}function Tp(t,n){n===0&&(n=Us()),t=ka(t,n),t!==null&&(ui(t,n),Wn(t))}function mE(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),Tp(t,r)}function gE(t,n){var r=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(r=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),Tp(t,r)}function pE(t,n){return wr(t,n)}var go=null,as=null,$h=!1,po=!1,Jh=!1,la=0;function Wn(t){t!==as&&t.next===null&&(as===null?go=as=t:as=as.next=t),po=!0,$h||($h=!0,_E())}function wl(t,n){if(!Jh&&po){Jh=!0;do for(var r=!1,l=go;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var y=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-Be(42|t)+1)-1,f&=c&~(y&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,Rp(l,f))}else f=xt,f=Ea(l,l===$t?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Or(l,f)||(r=!0,Rp(l,f));l=l.next}while(r);Jh=!1}}function yE(){Ap()}function Ap(){po=$h=!1;var t=0;la!==0&&(wE()&&(t=la),la=0);for(var n=dn(),r=null,l=go;l!==null;){var c=l.next,f=Sp(l,n);f===0?(l.next=null,r===null?go=c:r.next=c,c===null&&(as=r)):(r=l,(t!==0||(f&3)!==0)&&(po=!0)),l=c}wl(t)}function Sp(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-Be(f),E=1<<y,b=c[y];b===-1?((E&r)===0||(E&l)!==0)&&(c[y]=Ms(E,n)):b<=n&&(t.expiredLanes|=E),f&=~E}if(n=$t,r=xt,r=Ea(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(Gt===2||Gt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Dr(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Or(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&Dr(l),Ta(r)){case 2:case 8:r=_a;break;case 32:r=Cr;break;case 268435456:r=va;break;default:r=Cr}return l=bp.bind(null,t),r=wr(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&Dr(l),t.callbackPriority=2,t.callbackNode=null,2}function bp(t,n){if(Ue!==0&&Ue!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(mo()&&t.callbackNode!==r)return null;var l=xt;return l=Ea(t,t===$t?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(sp(t,l,n),Sp(t,dn()),t.callbackNode!=null&&t.callbackNode===r?bp.bind(null,t):null)}function Rp(t,n){if(mo())return null;sp(t,n,!0)}function _E(){CE(function(){(Ht&6)!==0?wr(Ns,yE):Ap()})}function Wh(){return la===0&&(la=xs()),la}function wp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Da(""+t)}function Dp(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function vE(t,n,r,l,c){if(n==="submit"&&r&&r.stateNode===c){var f=wp((c[he]||null).action),y=l.submitter;y&&(n=(n=y[he]||null)?wp(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new Ca("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(la!==0){var b=y?Dp(c,y):new FormData(c);vh(r,{pending:!0,data:b,method:c.method,action:f},null,b)}}else typeof f=="function"&&(E.preventDefault(),b=y?Dp(c,y):new FormData(c),vh(r,{pending:!0,data:b,method:c.method,action:f},f,b))},currentTarget:c}]})}}for(var tf=0;tf<Pc.length;tf++){var ef=Pc[tf],EE=ef.toLowerCase(),TE=ef[0].toUpperCase()+ef.slice(1);Vn(EE,"on"+TE)}Vn(sm,"onAnimationEnd"),Vn(lm,"onAnimationIteration"),Vn(um,"onAnimationStart"),Vn("dblclick","onDoubleClick"),Vn("focusin","onFocus"),Vn("focusout","onBlur"),Vn(P0,"onTransitionRun"),Vn(k0,"onTransitionStart"),Vn(B0,"onTransitionCancel"),Vn(om,"onTransitionEnd"),ci("onMouseEnter",["mouseout","mouseover"]),ci("onMouseLeave",["mouseout","mouseover"]),ci("onPointerEnter",["pointerout","pointerover"]),ci("onPointerLeave",["pointerout","pointerover"]),Cn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Cn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Cn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Cn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Cn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Cn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),AE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Dl));function Cp(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var y=l.length-1;0<=y;y--){var E=l[y],b=E.instance,P=E.currentTarget;if(E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=P;try{f(c)}catch(G){no(G)}c.currentTarget=null,f=b}else for(y=0;y<l.length;y++){if(E=l[y],b=E.instance,P=E.currentTarget,E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=P;try{f(c)}catch(G){no(G)}c.currentTarget=null,f=b}}}}function It(t,n){var r=n[Ps];r===void 0&&(r=n[Ps]=new Set);var l=t+"__bubble";r.has(l)||(Ip(n,t,2,!1),r.add(l))}function nf(t,n,r){var l=0;n&&(l|=4),Ip(r,t,l,n)}var yo="_reactListening"+Math.random().toString(36).slice(2);function rf(t){if(!t[yo]){t[yo]=!0,ks.forEach(function(r){r!=="selectionchange"&&(AE.has(r)||nf(r,!1,t),nf(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[yo]||(n[yo]=!0,nf("selectionchange",!1,n))}}function Ip(t,n,r,l){switch(Wp(n)){case 2:var c=XE;break;case 8:c=ZE;break;default:c=_f}r=c.bind(null,n,r,t),c=void 0,!yn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,r,{capture:!0,passive:c}):t.addEventListener(n,r,!0):c!==void 0?t.addEventListener(n,r,{passive:c}):t.addEventListener(n,r,!1)}function af(t,n,r,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var E=l.stateNode.containerInfo;if(E===c)break;if(y===4)for(y=l.return;y!==null;){var b=y.tag;if((b===3||b===4)&&y.stateNode.containerInfo===c)return;y=y.return}for(;E!==null;){if(y=oi(E),y===null)return;if(b=y.tag,b===5||b===6||b===26||b===27){l=f=y;continue t}E=E.parentNode}}l=l.return}_u(function(){var P=f,G=pn(r),F=[];t:{var k=cm.get(t);if(k!==void 0){var B=Ca,gt=t;switch(t){case"keypress":if(Gn(r)===0)break t;case"keydown":case"keyup":B=xa;break;case"focusin":gt="focus",B=Na;break;case"focusout":gt="blur",B=Na;break;case"beforeblur":case"afterblur":B=Na;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=_n;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=Vc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=wu;break;case sm:case lm:case um:B=Oa;break;case om:B=Cu;break;case"scroll":case"scrollend":B=vu;break;case"wheel":B=Ua;break;case"copy":case"cut":case"paste":B=Ma;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=$s;break;case"toggle":case"beforetoggle":B=Vu}var ft=(n&4)!==0,Kt=!ft&&(t==="scroll"||t==="scrollend"),M=ft?k!==null?k+"Capture":null:k;ft=[];for(var I=P,z;I!==null;){var Q=I;if(z=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||z===null||M===null||(Q=Br(I,M),Q!=null&&ft.push(Cl(I,Q,z))),Kt)break;I=I.return}0<ft.length&&(k=new B(k,gt,null,r,G),F.push({event:k,listeners:ft}))}}if((n&7)===0){t:{if(k=t==="mouseover"||t==="pointerover",B=t==="mouseout"||t==="pointerout",k&&r!==di&&(gt=r.relatedTarget||r.fromElement)&&(oi(gt)||gt[mn]))break t;if((B||k)&&(k=G.window===G?G:(k=G.ownerDocument)?k.defaultView||k.parentWindow:window,B?(gt=r.relatedTarget||r.toElement,B=P,gt=gt?oi(gt):null,gt!==null&&(Kt=h(gt),ft=gt.tag,gt!==Kt||ft!==5&&ft!==27&&ft!==6)&&(gt=null)):(B=null,gt=P),B!==gt)){if(ft=_n,Q="onMouseLeave",M="onMouseEnter",I="mouse",(t==="pointerout"||t==="pointerover")&&(ft=$s,Q="onPointerLeave",M="onPointerEnter",I="pointer"),Kt=B==null?k:Bn(B),z=gt==null?k:Bn(gt),k=new ft(Q,I+"leave",B,r,G),k.target=Kt,k.relatedTarget=z,Q=null,oi(G)===P&&(ft=new ft(M,I+"enter",gt,r,G),ft.target=z,ft.relatedTarget=Kt,Q=ft),Kt=Q,B&&gt)e:{for(ft=B,M=gt,I=0,z=ft;z;z=ss(z))I++;for(z=0,Q=M;Q;Q=ss(Q))z++;for(;0<I-z;)ft=ss(ft),I--;for(;0<z-I;)M=ss(M),z--;for(;I--;){if(ft===M||M!==null&&ft===M.alternate)break e;ft=ss(ft),M=ss(M)}ft=null}else ft=null;B!==null&&Vp(F,k,B,ft,!1),gt!==null&&Kt!==null&&Vp(F,Kt,gt,ft,!0)}}t:{if(k=P?Bn(P):window,B=k.nodeName&&k.nodeName.toLowerCase(),B==="select"||B==="input"&&k.type==="file")var at=Xd;else if(ve(k))if(Zd)at=U0;else{at=M0;var Dt=O0}else B=k.nodeName,!B||B.toLowerCase()!=="input"||k.type!=="checkbox"&&k.type!=="radio"?P&&Gs(P.elementType)&&(at=Xd):at=x0;if(at&&(at=at(t,P))){_i(F,at,r,G);break t}Dt&&Dt(t,k,P),t==="focusout"&&P&&k.type==="number"&&P.memoizedProps.value!=null&&qi(k,"number",k.value)}switch(Dt=P?Bn(P):window,t){case"focusin":(ve(Dt)||Dt.contentEditable==="true")&&(La=Dt,Uc=P,tl=null);break;case"focusout":tl=Uc=La=null;break;case"mousedown":Lc=!0;break;case"contextmenu":case"mouseup":case"dragend":Lc=!1,rm(F,r,G);break;case"selectionchange":if(z0)break;case"keydown":case"keyup":rm(F,r,G)}var st;if(Yn)t:{switch(t){case"compositionstart":var dt="onCompositionStart";break t;case"compositionend":dt="onCompositionEnd";break t;case"compositionupdate":dt="onCompositionUpdate";break t}dt=void 0}else Ot?q(t,r)&&(dt="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(dt="onCompositionStart");dt&&(p&&r.locale!=="ko"&&(Ot||dt!=="onCompositionStart"?dt==="onCompositionEnd"&&Ot&&(st=Fs()):(Hn=G,ji="value"in Hn?Hn.value:Hn.textContent,Ot=!0)),Dt=_o(P,dt),0<Dt.length&&(dt=new Xs(dt,t,null,r,G),F.push({event:dt,listeners:Dt}),st?dt.data=st:(st=W(r),st!==null&&(dt.data=st)))),(st=m?_e(t,r):Mt(t,r))&&(dt=_o(P,"onBeforeInput"),0<dt.length&&(Dt=new Xs("onBeforeInput","beforeinput",null,r,G),F.push({event:Dt,listeners:dt}),Dt.data=st)),vE(F,t,P,r,G)}Cp(F,n)})}function Cl(t,n,r){return{instance:t,listener:n,currentTarget:r}}function _o(t,n){for(var r=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Br(t,r),c!=null&&l.unshift(Cl(t,c,f)),c=Br(t,n),c!=null&&l.push(Cl(t,c,f))),t.tag===3)return l;t=t.return}return[]}function ss(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Vp(t,n,r,l,c){for(var f=n._reactName,y=[];r!==null&&r!==l;){var E=r,b=E.alternate,P=E.stateNode;if(E=E.tag,b!==null&&b===l)break;E!==5&&E!==26&&E!==27||P===null||(b=P,c?(P=Br(r,f),P!=null&&y.unshift(Cl(r,P,b))):c||(P=Br(r,f),P!=null&&y.push(Cl(r,P,b)))),r=r.return}y.length!==0&&t.push({event:n,listeners:y})}var SE=/\r\n?/g,bE=/\u0000|\uFFFD/g;function Np(t){return(typeof t=="string"?t:""+t).replace(SE,`
`).replace(bE,"")}function Op(t,n){return n=Np(n),Np(t)===n}function vo(){}function Yt(t,n,r,l,c,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||gn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&gn(t,""+l);break;case"className":qn(t,"class",l);break;case"tabIndex":qn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":qn(t,r,l);break;case"style":Hs(t,l,f);break;case"data":if(n!=="object"){qn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Da(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Yt(t,n,"name",c.name,c,null),Yt(t,n,"formEncType",c.formEncType,c,null),Yt(t,n,"formMethod",c.formMethod,c,null),Yt(t,n,"formTarget",c.formTarget,c,null)):(Yt(t,n,"encType",c.encType,c,null),Yt(t,n,"method",c.method,c,null),Yt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Da(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=vo);break;case"onScroll":l!=null&&It("scroll",t);break;case"onScrollEnd":l!=null&&It("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=Da(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":It("beforetoggle",t),It("toggle",t),Bi(t,"popover",l);break;case"xlinkActuate":Oe(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Oe(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Oe(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Oe(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Oe(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Oe(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Oe(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Oe(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Oe(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Bi(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Cc.get(r)||r,Bi(t,r,l))}}function sf(t,n,r,l,c,f){switch(r){case"style":Hs(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"children":typeof l=="string"?gn(t,l):(typeof l=="number"||typeof l=="bigint")&&gn(t,""+l);break;case"onScroll":l!=null&&It("scroll",t);break;case"onScrollEnd":l!=null&&It("scrollend",t);break;case"onClick":l!=null&&(t.onclick=vo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Aa.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),n=r.slice(2,c?r.length-7:void 0),f=t[he]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,c);break t}r in t?t[r]=l:l===!0?t.setAttribute(r,""):Bi(t,r,l)}}}function Le(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":It("error",t),It("load",t);var l=!1,c=!1,f;for(f in r)if(r.hasOwnProperty(f)){var y=r[f];if(y!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Yt(t,n,f,y,r,null)}}c&&Yt(t,n,"srcSet",r.srcSet,r,null),l&&Yt(t,n,"src",r.src,r,null);return;case"input":It("invalid",t);var E=f=y=c=null,b=null,P=null;for(l in r)if(r.hasOwnProperty(l)){var G=r[l];if(G!=null)switch(l){case"name":c=G;break;case"type":y=G;break;case"checked":b=G;break;case"defaultChecked":P=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,n));break;default:Yt(t,n,l,G,r,null)}}zr(t,f,E,b,P,y,c,!1),wa(t);return;case"select":It("invalid",t),l=y=f=null;for(c in r)if(r.hasOwnProperty(c)&&(E=r[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":l=E;default:Yt(t,n,c,E,r,null)}n=f,r=y,t.multiple=!!l,n!=null?fi(t,!!l,n,!1):r!=null&&fi(t,!!l,r,!0);return;case"textarea":It("invalid",t),f=c=l=null;for(y in r)if(r.hasOwnProperty(y)&&(E=r[y],E!=null))switch(y){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Yt(t,n,y,E,r,null)}Pr(t,l,c,f),wa(t);return;case"option":for(b in r)if(r.hasOwnProperty(b)&&(l=r[b],l!=null))switch(b){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Yt(t,n,b,l,r,null)}return;case"dialog":It("beforetoggle",t),It("toggle",t),It("cancel",t),It("close",t);break;case"iframe":case"object":It("load",t);break;case"video":case"audio":for(l=0;l<Dl.length;l++)It(Dl[l],t);break;case"image":It("error",t),It("load",t);break;case"details":It("toggle",t);break;case"embed":case"source":case"link":It("error",t),It("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in r)if(r.hasOwnProperty(P)&&(l=r[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Yt(t,n,P,l,r,null)}return;default:if(Gs(n)){for(G in r)r.hasOwnProperty(G)&&(l=r[G],l!==void 0&&sf(t,n,G,l,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(l=r[E],l!=null&&Yt(t,n,E,l,r,null))}function RE(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,y=null,E=null,b=null,P=null,G=null;for(B in r){var F=r[B];if(r.hasOwnProperty(B)&&F!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":b=F;default:l.hasOwnProperty(B)||Yt(t,n,B,null,l,F)}}for(var k in l){var B=l[k];if(F=r[k],l.hasOwnProperty(k)&&(B!=null||F!=null))switch(k){case"type":f=B;break;case"name":c=B;break;case"checked":P=B;break;case"defaultChecked":G=B;break;case"value":y=B;break;case"defaultValue":E=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,n));break;default:B!==F&&Yt(t,n,k,B,l,F)}}rn(t,y,E,b,P,G,f,c);return;case"select":B=y=E=k=null;for(f in r)if(b=r[f],r.hasOwnProperty(f)&&b!=null)switch(f){case"value":break;case"multiple":B=b;default:l.hasOwnProperty(f)||Yt(t,n,f,null,l,b)}for(c in l)if(f=l[c],b=r[c],l.hasOwnProperty(c)&&(f!=null||b!=null))switch(c){case"value":k=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==b&&Yt(t,n,c,f,l,b)}n=E,r=y,l=B,k!=null?fi(t,!!r,k,!1):!!l!=!!r&&(n!=null?fi(t,!!r,n,!0):fi(t,!!r,r?[]:"",!1));return;case"textarea":B=k=null;for(E in r)if(c=r[E],r.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Yt(t,n,E,null,l,c)}for(y in l)if(c=l[y],f=r[y],l.hasOwnProperty(y)&&(c!=null||f!=null))switch(y){case"value":k=c;break;case"defaultValue":B=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==f&&Yt(t,n,y,c,l,f)}Qt(t,k,B);return;case"option":for(var gt in r)if(k=r[gt],r.hasOwnProperty(gt)&&k!=null&&!l.hasOwnProperty(gt))switch(gt){case"selected":t.selected=!1;break;default:Yt(t,n,gt,null,l,k)}for(b in l)if(k=l[b],B=r[b],l.hasOwnProperty(b)&&k!==B&&(k!=null||B!=null))switch(b){case"selected":t.selected=k&&typeof k!="function"&&typeof k!="symbol";break;default:Yt(t,n,b,k,l,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ft in r)k=r[ft],r.hasOwnProperty(ft)&&k!=null&&!l.hasOwnProperty(ft)&&Yt(t,n,ft,null,l,k);for(P in l)if(k=l[P],B=r[P],l.hasOwnProperty(P)&&k!==B&&(k!=null||B!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(s(137,n));break;default:Yt(t,n,P,k,l,B)}return;default:if(Gs(n)){for(var Kt in r)k=r[Kt],r.hasOwnProperty(Kt)&&k!==void 0&&!l.hasOwnProperty(Kt)&&sf(t,n,Kt,void 0,l,k);for(G in l)k=l[G],B=r[G],!l.hasOwnProperty(G)||k===B||k===void 0&&B===void 0||sf(t,n,G,k,l,B);return}}for(var M in r)k=r[M],r.hasOwnProperty(M)&&k!=null&&!l.hasOwnProperty(M)&&Yt(t,n,M,null,l,k);for(F in l)k=l[F],B=r[F],!l.hasOwnProperty(F)||k===B||k==null&&B==null||Yt(t,n,F,k,l,B)}var lf=null,uf=null;function Eo(t){return t.nodeType===9?t:t.ownerDocument}function Mp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function xp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function of(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var cf=null;function wE(){var t=window.event;return t&&t.type==="popstate"?t===cf?!1:(cf=t,!0):(cf=null,!1)}var Up=typeof setTimeout=="function"?setTimeout:void 0,DE=typeof clearTimeout=="function"?clearTimeout:void 0,Lp=typeof Promise=="function"?Promise:void 0,CE=typeof queueMicrotask=="function"?queueMicrotask:typeof Lp<"u"?function(t){return Lp.resolve(null).then(t).catch(IE)}:Up;function IE(t){setTimeout(function(){throw t})}function rr(t){return t==="head"}function zp(t,n){var r=n,l=0,c=0;do{var f=r.nextSibling;if(t.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"){if(0<l&&8>l){r=l;var y=t.ownerDocument;if(r&1&&Il(y.documentElement),r&2&&Il(y.body),r&4)for(r=y.head,Il(r),y=r.firstChild;y;){var E=y.nextSibling,b=y.nodeName;y[Mr]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&y.rel.toLowerCase()==="stylesheet"||r.removeChild(y),y=E}}if(c===0){t.removeChild(f),zl(n);return}c--}else r==="$"||r==="$?"||r==="$!"?c++:l=r.charCodeAt(0)-48;else l=0;r=f}while(r);zl(n)}function hf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":hf(r),ki(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function VE(t,n,r,l){for(;t.nodeType===1;){var c=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Mr])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=On(t.nextSibling),t===null)break}return null}function NE(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=On(t.nextSibling),t===null))return null;return t}function ff(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function OE(t,n){var r=t.ownerDocument;if(t.data!=="$?"||r.readyState==="complete")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function On(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var df=null;function Pp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return t;n--}else r==="/$"&&n++}t=t.previousSibling}return null}function kp(t,n,r){switch(n=Eo(r),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Il(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);ki(t)}var Rn=new Map,Bp=new Set;function To(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ni=et.d;et.d={f:ME,r:xE,D:UE,C:LE,L:zE,m:PE,X:BE,S:kE,M:qE};function ME(){var t=Ni.f(),n=ho();return t||n}function xE(t){var n=kn(t);n!==null&&n.tag===5&&n.type==="form"?sg(n):Ni.r(t)}var ls=typeof document>"u"?null:document;function qp(t,n,r){var l=ls;if(l&&typeof n=="string"&&n){var c=fe(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),Bp.has(c)||(Bp.add(c),t={rel:t,crossOrigin:r,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),Le(n,"link",t),le(n),l.head.appendChild(n)))}}function UE(t){Ni.D(t),qp("dns-prefetch",t,null)}function LE(t,n){Ni.C(t,n),qp("preconnect",t,n)}function zE(t,n,r){Ni.L(t,n,r);var l=ls;if(l&&t&&n){var c='link[rel="preload"][as="'+fe(n)+'"]';n==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+fe(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+fe(r.imageSizes)+'"]')):c+='[href="'+fe(t)+'"]';var f=c;switch(n){case"style":f=us(t);break;case"script":f=os(t)}Rn.has(f)||(t=A({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Rn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Vl(f))||n==="script"&&l.querySelector(Nl(f))||(n=l.createElement("link"),Le(n,"link",t),le(n),l.head.appendChild(n)))}}function PE(t,n){Ni.m(t,n);var r=ls;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+fe(l)+'"][href="'+fe(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=os(t)}if(!Rn.has(f)&&(t=A({rel:"modulepreload",href:t},n),Rn.set(f,t),r.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Nl(f)))return}l=r.createElement("link"),Le(l,"link",t),le(l),r.head.appendChild(l)}}}function kE(t,n,r){Ni.S(t,n,r);var l=ls;if(l&&t){var c=Fe(l).hoistableStyles,f=us(t);n=n||"default";var y=c.get(f);if(!y){var E={loading:0,preload:null};if(y=l.querySelector(Vl(f)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Rn.get(f))&&mf(t,r);var b=y=l.createElement("link");le(b),Le(b,"link",t),b._p=new Promise(function(P,G){b.onload=P,b.onerror=G}),b.addEventListener("load",function(){E.loading|=1}),b.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Ao(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:E},c.set(f,y)}}}function BE(t,n){Ni.X(t,n);var r=ls;if(r&&t){var l=Fe(r).hoistableScripts,c=os(t),f=l.get(c);f||(f=r.querySelector(Nl(c)),f||(t=A({src:t,async:!0},n),(n=Rn.get(c))&&gf(t,n),f=r.createElement("script"),le(f),Le(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function qE(t,n){Ni.M(t,n);var r=ls;if(r&&t){var l=Fe(r).hoistableScripts,c=os(t),f=l.get(c);f||(f=r.querySelector(Nl(c)),f||(t=A({src:t,async:!0,type:"module"},n),(n=Rn.get(c))&&gf(t,n),f=r.createElement("script"),le(f),Le(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function jp(t,n,r,l){var c=(c=yt.current)?To(c):null;if(!c)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=us(r.href),r=Fe(c).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=us(r.href);var f=Fe(c).hoistableStyles,y=f.get(t);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=c.querySelector(Vl(t)))&&!f._p&&(y.instance=f,y.state.loading=5),Rn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Rn.set(t,r),f||jE(c,t,r,y.state))),n&&l===null)throw Error(s(528,""));return y}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=os(r),r=Fe(c).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function us(t){return'href="'+fe(t)+'"'}function Vl(t){return'link[rel="stylesheet"]['+t+"]"}function Hp(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function jE(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Le(n,"link",r),le(n),t.head.appendChild(n))}function os(t){return'[src="'+fe(t)+'"]'}function Nl(t){return"script[async]"+t}function Gp(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+fe(r.href)+'"]');if(l)return n.instance=l,le(l),l;var c=A({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),le(l),Le(l,"style",c),Ao(l,r.precedence,t),n.instance=l;case"stylesheet":c=us(r.href);var f=t.querySelector(Vl(c));if(f)return n.state.loading|=4,n.instance=f,le(f),f;l=Hp(r),(c=Rn.get(c))&&mf(l,c),f=(t.ownerDocument||t).createElement("link"),le(f);var y=f;return y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),Le(f,"link",l),n.state.loading|=4,Ao(f,r.precedence,t),n.instance=f;case"script":return f=os(r.src),(c=t.querySelector(Nl(f)))?(n.instance=c,le(c),c):(l=r,(c=Rn.get(f))&&(l=A({},r),gf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),le(c),Le(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Ao(l,r.precedence,t));return n.instance}function Ao(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,y=0;y<l.length;y++){var E=l[y];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function mf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function gf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var So=null;function Qp(t,n,r){if(So===null){var l=new Map,c=So=new Map;c.set(r,l)}else c=So,l=c.get(r),l||(l=new Map,c.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),c=0;c<r.length;c++){var f=r[c];if(!(f[Mr]||f[ye]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var E=l.get(y);E?E.push(f):l.set(y,[f])}}return l}function Fp(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function HE(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Yp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Ol=null;function GE(){}function QE(t,n,r){if(Ol===null)throw Error(s(475));var l=Ol;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=us(r.href),f=t.querySelector(Vl(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=bo.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,le(f);return}f=t.ownerDocument||t,r=Hp(r),(c=Rn.get(c))&&mf(r,c),f=f.createElement("link"),le(f);var y=f;y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),Le(f,"link",r),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=bo.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function FE(){if(Ol===null)throw Error(s(475));var t=Ol;return t.stylesheets&&t.count===0&&pf(t,t.stylesheets),0<t.count?function(n){var r=setTimeout(function(){if(t.stylesheets&&pf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r)}}:null}function bo(){if(this.count--,this.count===0){if(this.stylesheets)pf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Ro=null;function pf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Ro=new Map,n.forEach(YE,t),Ro=null,bo.call(t))}function YE(t,n){if(!(n.state.loading&4)){var r=Ro.get(t);if(r)var l=r.get(null);else{r=new Map,Ro.set(t,r);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var y=c[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(r.set(y.dataset.precedence,y),l=y)}l&&r.set(null,l)}c=n.instance,y=c.getAttribute("data-precedence"),f=r.get(y)||l,f===l&&r.set(null,c),r.set(y,c),this.count++,l=bo.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Ml={$$typeof:ht,Provider:null,Consumer:null,_currentValue:ut,_currentValue2:ut,_threadCount:0};function KE(t,n,r,l,c,f,y,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=li(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=li(0),this.hiddenUpdates=li(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Kp(t,n,r,l,c,f,y,E,b,P,G,F){return t=new KE(t,n,r,y,E,b,P,F),n=1,f===!0&&(n|=24),f=sn(3,null,null,n),t.current=f,f.stateNode=t,n=Zc(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},th(f),t}function Xp(t){return t?(t=Ba,t):Ba}function Zp(t,n,r,l,c,f){c=Xp(c),l.context===null?l.context=c:l.pendingContext=c,l=Qi(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=Fi(t,l,n),r!==null&&(hn(r,t,n),ol(r,t,n))}function $p(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function yf(t,n){$p(t,n),(t=t.alternate)&&$p(t,n)}function Jp(t){if(t.tag===13){var n=ka(t,67108864);n!==null&&hn(n,t,67108864),yf(t,67108864)}}var wo=!0;function XE(t,n,r,l){var c=H.T;H.T=null;var f=et.p;try{et.p=2,_f(t,n,r,l)}finally{et.p=f,H.T=c}}function ZE(t,n,r,l){var c=H.T;H.T=null;var f=et.p;try{et.p=8,_f(t,n,r,l)}finally{et.p=f,H.T=c}}function _f(t,n,r,l){if(wo){var c=vf(l);if(c===null)af(t,n,l,Do,r),ty(t,l);else if(JE(c,t,n,r,l))l.stopPropagation();else if(ty(t,l),n&4&&-1<$E.indexOf(t)){for(;c!==null;){var f=kn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=Dn(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var b=1<<31-Be(y);E.entanglements[1]|=b,y&=~b}Wn(f),(Ht&6)===0&&(oo=dn()+500,wl(0))}}break;case 13:E=ka(f,2),E!==null&&hn(E,f,2),ho(),yf(f,2)}if(f=vf(l),f===null&&af(t,n,l,Do,r),f===c)break;c=f}c!==null&&l.stopPropagation()}else af(t,n,l,null,r)}}function vf(t){return t=pn(t),Ef(t)}var Do=null;function Ef(t){if(Do=null,t=oi(t),t!==null){var n=h(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Do=t,null}function Wp(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ac()){case Ns:return 2;case _a:return 8;case Cr:case Sc:return 32;case va:return 268435456;default:return 32}default:return 32}}var Tf=!1,ar=null,sr=null,lr=null,xl=new Map,Ul=new Map,ur=[],$E="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ty(t,n){switch(t){case"focusin":case"focusout":ar=null;break;case"dragenter":case"dragleave":sr=null;break;case"mouseover":case"mouseout":lr=null;break;case"pointerover":case"pointerout":xl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ul.delete(n.pointerId)}}function Ll(t,n,r,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=kn(n),n!==null&&Jp(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function JE(t,n,r,l,c){switch(n){case"focusin":return ar=Ll(ar,t,n,r,l,c),!0;case"dragenter":return sr=Ll(sr,t,n,r,l,c),!0;case"mouseover":return lr=Ll(lr,t,n,r,l,c),!0;case"pointerover":var f=c.pointerId;return xl.set(f,Ll(xl.get(f)||null,t,n,r,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Ul.set(f,Ll(Ul.get(f)||null,t,n,r,l,c)),!0}return!1}function ey(t){var n=oi(t.target);if(n!==null){var r=h(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,hu(t.priority,function(){if(r.tag===13){var l=cn();l=Li(l);var c=ka(r,l);c!==null&&hn(c,r,l),yf(r,l)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Co(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=vf(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);di=l,r.target.dispatchEvent(l),di=null}else return n=kn(r),n!==null&&Jp(n),t.blockedOn=r,!1;n.shift()}return!0}function ny(t,n,r){Co(t)&&r.delete(n)}function WE(){Tf=!1,ar!==null&&Co(ar)&&(ar=null),sr!==null&&Co(sr)&&(sr=null),lr!==null&&Co(lr)&&(lr=null),xl.forEach(ny),Ul.forEach(ny)}function Io(t,n){t.blockedOn===n&&(t.blockedOn=null,Tf||(Tf=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,WE)))}var Vo=null;function iy(t){Vo!==t&&(Vo=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Vo===t&&(Vo=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(Ef(l||r)===null)continue;break}var f=kn(r);f!==null&&(t.splice(n,3),n-=3,vh(f,{pending:!0,data:c,method:r.method,action:l},l,c))}}))}function zl(t){function n(b){return Io(b,t)}ar!==null&&Io(ar,t),sr!==null&&Io(sr,t),lr!==null&&Io(lr,t),xl.forEach(n),Ul.forEach(n);for(var r=0;r<ur.length;r++){var l=ur[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ur.length&&(r=ur[0],r.blockedOn===null);)ey(r),r.blockedOn===null&&ur.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var c=r[l],f=r[l+1],y=c[he]||null;if(typeof f=="function")y||iy(r);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,y=f[he]||null)E=y.formAction;else if(Ef(c)!==null)continue}else E=y.action;typeof E=="function"?r[l+1]=E:(r.splice(l,3),l-=3),iy(r)}}}function Af(t){this._internalRoot=t}No.prototype.render=Af.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var r=n.current,l=cn();Zp(r,l,t,n,null,null)},No.prototype.unmount=Af.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Zp(t.current,2,null,t,null,null),ho(),n[mn]=null}};function No(t){this._internalRoot=t}No.prototype.unstable_scheduleHydration=function(t){if(t){var n=zi();t={blockedOn:null,target:t,priority:n};for(var r=0;r<ur.length&&n!==0&&n<ur[r].priority;r++);ur.splice(r,0,t),r===0&&ey(t)}};var ry=e.version;if(ry!=="19.1.0")throw Error(s(527,ry,"19.1.0"));et.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=_(n),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var tT={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Oo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Oo.isDisabled&&Oo.supportsFiber)try{re=Oo.inject(tT),jt=Oo}catch{}}return kl.createRoot=function(t,n){if(!u(t))throw Error(s(299));var r=!1,l="",c=Eg,f=Tg,y=Ag,E=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=Kp(t,1,!1,null,null,r,l,c,f,y,E,null),t[mn]=n.current,rf(t),new Af(n)},kl.hydrateRoot=function(t,n,r){if(!u(t))throw Error(s(299));var l=!1,c="",f=Eg,y=Tg,E=Ag,b=null,P=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(b=r.unstable_transitionCallbacks),r.formState!==void 0&&(P=r.formState)),n=Kp(t,1,!0,n,r??null,l,c,f,y,E,b,P),n.context=Xp(null),r=n.current,l=cn(),l=Li(l),c=Qi(l),c.callback=null,Fi(r,c,l),r=l,n.current.lanes=r,ui(n,r),Wn(n),t[mn]=n.current,rf(t),new No(n)},kl.version="19.1.0",kl}var my;function cT(){if(my)return Rf.exports;my=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Rf.exports=oT(),Rf.exports}var hT=cT();function fT({onClose:a,onConfirm:e}){const[i,s]=wn.useState("");return lt.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-30 backdrop-blur-sm flex justify-center items-center",children:lt.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-80 p-6 ring-1 ring-gray-200",children:[lt.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-800",children:"Admin Login"}),lt.jsx("input",{type:"password",value:i,onChange:u=>s(u.target.value),placeholder:"Enter code",autoComplete:"off",className:"w-full bg-white text-gray-900 border border-gray-300 rounded px-3 py-2 mb-4 focus:outline-none focus:ring-2 focus:ring-blue-400"}),lt.jsxs("div",{className:"flex justify-end space-x-2",children:[lt.jsx("button",{onClick:a,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 text-gray-700",children:"Cancel"}),lt.jsx("button",{onClick:()=>e(i),className:"px-3 py-1 bg-blue-600 hover:bg-blue-500 rounded text-white",children:"Confirm"})]})]})})}const dT=()=>{};var gy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O_=function(a){const e=[];let i=0;for(let s=0;s<a.length;s++){let u=a.charCodeAt(s);u<128?e[i++]=u:u<2048?(e[i++]=u>>6|192,e[i++]=u&63|128):(u&64512)===55296&&s+1<a.length&&(a.charCodeAt(s+1)&64512)===56320?(u=65536+((u&1023)<<10)+(a.charCodeAt(++s)&1023),e[i++]=u>>18|240,e[i++]=u>>12&63|128,e[i++]=u>>6&63|128,e[i++]=u&63|128):(e[i++]=u>>12|224,e[i++]=u>>6&63|128,e[i++]=u&63|128)}return e},mT=function(a){const e=[];let i=0,s=0;for(;i<a.length;){const u=a[i++];if(u<128)e[s++]=String.fromCharCode(u);else if(u>191&&u<224){const h=a[i++];e[s++]=String.fromCharCode((u&31)<<6|h&63)}else if(u>239&&u<365){const h=a[i++],d=a[i++],g=a[i++],_=((u&7)<<18|(h&63)<<12|(d&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(_>>10)),e[s++]=String.fromCharCode(56320+(_&1023))}else{const h=a[i++],d=a[i++];e[s++]=String.fromCharCode((u&15)<<12|(h&63)<<6|d&63)}}return e.join("")},M_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let u=0;u<a.length;u+=3){const h=a[u],d=u+1<a.length,g=d?a[u+1]:0,_=u+2<a.length,v=_?a[u+2]:0,A=h>>2,D=(h&3)<<4|g>>4;let U=(g&15)<<2|v>>6,j=v&63;_||(j=64,d||(U=64)),s.push(i[A],i[D],i[U],i[j])}return s.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(O_(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):mT(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let u=0;u<a.length;){const h=i[a.charAt(u++)],g=u<a.length?i[a.charAt(u)]:0;++u;const v=u<a.length?i[a.charAt(u)]:64;++u;const D=u<a.length?i[a.charAt(u)]:64;if(++u,h==null||g==null||v==null||D==null)throw new gT;const U=h<<2|g>>4;if(s.push(U),v!==64){const j=g<<4&240|v>>2;if(s.push(j),D!==64){const $=v<<6&192|D;s.push($)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class gT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const pT=function(a){const e=O_(a);return M_.encodeByteArray(e,!0)},Qo=function(a){return pT(a).replace(/\./g,"")},yT=function(a){try{return M_.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _T(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT=()=>_T().__FIREBASE_DEFAULTS__,ET=()=>{if(typeof process>"u"||typeof gy>"u")return;const a=gy.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},TT=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&yT(a[1]);return e&&JSON.parse(e)},ud=()=>{try{return dT()||vT()||ET()||TT()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},AT=a=>{var e,i;return(i=(e=ud())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[a]},x_=a=>{const e=AT(a);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},U_=()=>{var a;return(a=ud())===null||a===void 0?void 0:a.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L_(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",u=a.iat||0,h=a.sub||a.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:u,exp:u+3600,auth_time:u,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}}},a);return[Qo(JSON.stringify(i)),Qo(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bT(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function RT(){var a;const e=(a=ud())===null||a===void 0?void 0:a.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function wT(){return!RT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function DT(){try{return typeof indexedDB=="object"}catch{return!1}}function CT(){return new Promise((a,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(s);u.onsuccess=()=>{u.result.close(),i||self.indexedDB.deleteDatabase(s),a(!0)},u.onupgradeneeded=()=>{i=!1},u.onerror=()=>{var h;e(((h=u.error)===null||h===void 0?void 0:h.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IT="FirebaseError";class ma extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=IT,Object.setPrototypeOf(this,ma.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,z_.prototype.create)}}class z_{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},u=`${this.service}/${e}`,h=this.errors[e],d=h?VT(h,s):"Error",g=`${this.serviceName}: ${d} (${u}).`;return new ma(u,g,s)}}function VT(a,e){return a.replace(NT,(i,s)=>{const u=e[s];return u!=null?String(u):`<${s}?>`})}const NT=/\{\$([^}]+)}/g;function Fo(a,e){if(a===e)return!0;const i=Object.keys(a),s=Object.keys(e);for(const u of i){if(!s.includes(u))return!1;const h=a[u],d=e[u];if(py(h)&&py(d)){if(!Fo(h,d))return!1}else if(h!==d)return!1}for(const u of s)if(!i.includes(u))return!1;return!0}function py(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(a){return a&&a._delegate?a._delegate:a}class gs{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new ST;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const u=this.getOrInitializeService({instanceIdentifier:i});u&&s.resolve(u)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),u=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(h){if(u)return null;throw h}else{if(u)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(xT(e))try{this.getOrInitializeService({instanceIdentifier:ua})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:u});s.resolve(h)}catch{}}}}clearInstance(e=ua){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ua){return this.instances.has(e)}getOptions(e=ua){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const u=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[h,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(h);s===g&&d.resolve(u)}return u}onInit(e,i){var s;const u=this.normalizeInstanceIdentifier(i),h=(s=this.onInitCallbacks.get(u))!==null&&s!==void 0?s:new Set;h.add(e),this.onInitCallbacks.set(u,h);const d=this.instances.get(u);return d&&e(d,u),()=>{h.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const u of s)try{u(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:MT(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ua){return this.component?this.component.multipleInstances?e:ua:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function MT(a){return a===ua?void 0:a}function xT(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new OT(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Lt||(Lt={}));const LT={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},zT=Lt.INFO,PT={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},kT=(a,e,...i)=>{if(e<a.logLevel)return;const s=new Date().toISOString(),u=PT[e];if(u)console[u](`[${s}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class P_{constructor(e){this.name=e,this._logLevel=zT,this._logHandler=kT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Lt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?LT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...e),this._logHandler(this,Lt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...e),this._logHandler(this,Lt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...e),this._logHandler(this,Lt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...e),this._logHandler(this,Lt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...e),this._logHandler(this,Lt.ERROR,...e)}}const BT=(a,e)=>e.some(i=>a instanceof i);let yy,_y;function qT(){return yy||(yy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jT(){return _y||(_y=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const k_=new WeakMap,Pf=new WeakMap,B_=new WeakMap,If=new WeakMap,od=new WeakMap;function HT(a){const e=new Promise((i,s)=>{const u=()=>{a.removeEventListener("success",h),a.removeEventListener("error",d)},h=()=>{i(hr(a.result)),u()},d=()=>{s(a.error),u()};a.addEventListener("success",h),a.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&k_.set(i,a)}).catch(()=>{}),od.set(e,a),e}function GT(a){if(Pf.has(a))return;const e=new Promise((i,s)=>{const u=()=>{a.removeEventListener("complete",h),a.removeEventListener("error",d),a.removeEventListener("abort",d)},h=()=>{i(),u()},d=()=>{s(a.error||new DOMException("AbortError","AbortError")),u()};a.addEventListener("complete",h),a.addEventListener("error",d),a.addEventListener("abort",d)});Pf.set(a,e)}let kf={get(a,e,i){if(a instanceof IDBTransaction){if(e==="done")return Pf.get(a);if(e==="objectStoreNames")return a.objectStoreNames||B_.get(a);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return hr(a[e])},set(a,e,i){return a[e]=i,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function QT(a){kf=a(kf)}function FT(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=a.call(Vf(this),e,...i);return B_.set(s,e.sort?e.sort():[e]),hr(s)}:jT().includes(a)?function(...e){return a.apply(Vf(this),e),hr(k_.get(this))}:function(...e){return hr(a.apply(Vf(this),e))}}function YT(a){return typeof a=="function"?FT(a):(a instanceof IDBTransaction&&GT(a),BT(a,qT())?new Proxy(a,kf):a)}function hr(a){if(a instanceof IDBRequest)return HT(a);if(If.has(a))return If.get(a);const e=YT(a);return e!==a&&(If.set(a,e),od.set(e,a)),e}const Vf=a=>od.get(a);function KT(a,e,{blocked:i,upgrade:s,blocking:u,terminated:h}={}){const d=indexedDB.open(a,e),g=hr(d);return s&&d.addEventListener("upgradeneeded",_=>{s(hr(d.result),_.oldVersion,_.newVersion,hr(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),g.then(_=>{h&&_.addEventListener("close",()=>h()),u&&_.addEventListener("versionchange",v=>u(v.oldVersion,v.newVersion,v))}).catch(()=>{}),g}const XT=["get","getKey","getAll","getAllKeys","count"],ZT=["put","add","delete","clear"],Nf=new Map;function vy(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(Nf.get(e))return Nf.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,u=ZT.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(u||XT.includes(i)))return;const h=async function(d,...g){const _=this.transaction(d,u?"readwrite":"readonly");let v=_.store;return s&&(v=v.index(g.shift())),(await Promise.all([v[i](...g),u&&_.done]))[0]};return Nf.set(e,h),h}QT(a=>({...a,get:(e,i,s)=>vy(e,i)||a.get(e,i,s),has:(e,i)=>!!vy(e,i)||a.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(JT(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function JT(a){const e=a.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Bf="@firebase/app",Ey="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oi=new P_("@firebase/app"),WT="@firebase/app-compat",tA="@firebase/analytics-compat",eA="@firebase/analytics",nA="@firebase/app-check-compat",iA="@firebase/app-check",rA="@firebase/auth",aA="@firebase/auth-compat",sA="@firebase/database",lA="@firebase/data-connect",uA="@firebase/database-compat",oA="@firebase/functions",cA="@firebase/functions-compat",hA="@firebase/installations",fA="@firebase/installations-compat",dA="@firebase/messaging",mA="@firebase/messaging-compat",gA="@firebase/performance",pA="@firebase/performance-compat",yA="@firebase/remote-config",_A="@firebase/remote-config-compat",vA="@firebase/storage",EA="@firebase/storage-compat",TA="@firebase/firestore",AA="@firebase/vertexai",SA="@firebase/firestore-compat",bA="firebase",RA="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qf="[DEFAULT]",wA={[Bf]:"fire-core",[WT]:"fire-core-compat",[eA]:"fire-analytics",[tA]:"fire-analytics-compat",[iA]:"fire-app-check",[nA]:"fire-app-check-compat",[rA]:"fire-auth",[aA]:"fire-auth-compat",[sA]:"fire-rtdb",[lA]:"fire-data-connect",[uA]:"fire-rtdb-compat",[oA]:"fire-fn",[cA]:"fire-fn-compat",[hA]:"fire-iid",[fA]:"fire-iid-compat",[dA]:"fire-fcm",[mA]:"fire-fcm-compat",[gA]:"fire-perf",[pA]:"fire-perf-compat",[yA]:"fire-rc",[_A]:"fire-rc-compat",[vA]:"fire-gcs",[EA]:"fire-gcs-compat",[TA]:"fire-fst",[SA]:"fire-fst-compat",[AA]:"fire-vertex","fire-js":"fire-js",[bA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yo=new Map,DA=new Map,jf=new Map;function Ty(a,e){try{a.container.addComponent(e)}catch(i){Oi.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,i)}}function Kl(a){const e=a.name;if(jf.has(e))return Oi.debug(`There were multiple attempts to register component ${e}.`),!1;jf.set(e,a);for(const i of Yo.values())Ty(i,a);for(const i of DA.values())Ty(i,a);return!0}function q_(a,e){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(e)}function j_(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fr=new z_("app","Firebase",CA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(e,i,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new gs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H_=RA;function G_(a,e={}){let i=a;typeof e!="object"&&(e={name:e});const s=Object.assign({name:qf,automaticDataCollectionEnabled:!1},e),u=s.name;if(typeof u!="string"||!u)throw fr.create("bad-app-name",{appName:String(u)});if(i||(i=U_()),!i)throw fr.create("no-options");const h=Yo.get(u);if(h){if(Fo(i,h.options)&&Fo(s,h.config))return h;throw fr.create("duplicate-app",{appName:u})}const d=new UT(u);for(const _ of jf.values())d.addComponent(_);const g=new IA(i,s,d);return Yo.set(u,g),g}function Q_(a=qf){const e=Yo.get(a);if(!e&&a===qf&&U_())return G_();if(!e)throw fr.create("no-app",{appName:a});return e}function dr(a,e,i){var s;let u=(s=wA[a])!==null&&s!==void 0?s:a;i&&(u+=`-${i}`);const h=u.match(/\s|\//),d=e.match(/\s|\//);if(h||d){const g=[`Unable to register library "${u}" with version "${e}":`];h&&g.push(`library name "${u}" contains illegal characters (whitespace or "/")`),h&&d&&g.push("and"),d&&g.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Oi.warn(g.join(" "));return}Kl(new gs(`${u}-version`,()=>({library:u,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA="firebase-heartbeat-database",NA=1,Xl="firebase-heartbeat-store";let Of=null;function F_(){return Of||(Of=KT(VA,NA,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(Xl)}catch(i){console.warn(i)}}}}).catch(a=>{throw fr.create("idb-open",{originalErrorMessage:a.message})})),Of}async function OA(a){try{const i=(await F_()).transaction(Xl),s=await i.objectStore(Xl).get(Y_(a));return await i.done,s}catch(e){if(e instanceof ma)Oi.warn(e.message);else{const i=fr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Oi.warn(i.message)}}}async function Ay(a,e){try{const s=(await F_()).transaction(Xl,"readwrite");await s.objectStore(Xl).put(e,Y_(a)),await s.done}catch(i){if(i instanceof ma)Oi.warn(i.message);else{const s=fr.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Oi.warn(s.message)}}}function Y_(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MA=1024,xA=30;class UA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new zA(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,i;try{const u=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=Sy();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:u}),this._heartbeatsCache.heartbeats.length>xA){const d=PA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Oi.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=Sy(),{heartbeatsToSend:s,unsentEntries:u}=LA(this._heartbeatsCache.heartbeats),h=Qo(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,u.length>0?(this._heartbeatsCache.heartbeats=u,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return Oi.warn(i),""}}}function Sy(){return new Date().toISOString().substring(0,10)}function LA(a,e=MA){const i=[];let s=a.slice();for(const u of a){const h=i.find(d=>d.agent===u.agent);if(h){if(h.dates.push(u.date),by(i)>e){h.dates.pop();break}}else if(i.push({agent:u.agent,dates:[u.date]}),by(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class zA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return DT()?CT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await OA(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const u=await this.read();return Ay(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:u.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const u=await this.read();return Ay(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:u.lastSentHeartbeatDate,heartbeats:[...u.heartbeats,...e.heartbeats]})}else return}}function by(a){return Qo(JSON.stringify({version:2,heartbeats:a})).length}function PA(a){if(a.length===0)return-1;let e=0,i=a[0].date;for(let s=1;s<a.length;s++)a[s].date<i&&(i=a[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kA(a){Kl(new gs("platform-logger",e=>new $T(e),"PRIVATE")),Kl(new gs("heartbeat",e=>new UA(e),"PRIVATE")),dr(Bf,Ey,a),dr(Bf,Ey,"esm2017"),dr("fire-js","")}kA("");var Ry=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var mr,K_;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,S){function w(){}w.prototype=S.prototype,N.D=S.prototype,N.prototype=new w,N.prototype.constructor=N,N.C=function(V,O,x){for(var R=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)R[Ne-2]=arguments[Ne];return S.prototype[O].apply(V,R)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,i),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function u(N,S,w){w||(w=0);var V=Array(16);if(typeof S=="string")for(var O=0;16>O;++O)V[O]=S.charCodeAt(w++)|S.charCodeAt(w++)<<8|S.charCodeAt(w++)<<16|S.charCodeAt(w++)<<24;else for(O=0;16>O;++O)V[O]=S[w++]|S[w++]<<8|S[w++]<<16|S[w++]<<24;S=N.g[0],w=N.g[1],O=N.g[2];var x=N.g[3],R=S+(x^w&(O^x))+V[0]+3614090360&4294967295;S=w+(R<<7&4294967295|R>>>25),R=x+(O^S&(w^O))+V[1]+3905402710&4294967295,x=S+(R<<12&4294967295|R>>>20),R=O+(w^x&(S^w))+V[2]+606105819&4294967295,O=x+(R<<17&4294967295|R>>>15),R=w+(S^O&(x^S))+V[3]+3250441966&4294967295,w=O+(R<<22&4294967295|R>>>10),R=S+(x^w&(O^x))+V[4]+4118548399&4294967295,S=w+(R<<7&4294967295|R>>>25),R=x+(O^S&(w^O))+V[5]+1200080426&4294967295,x=S+(R<<12&4294967295|R>>>20),R=O+(w^x&(S^w))+V[6]+2821735955&4294967295,O=x+(R<<17&4294967295|R>>>15),R=w+(S^O&(x^S))+V[7]+4249261313&4294967295,w=O+(R<<22&4294967295|R>>>10),R=S+(x^w&(O^x))+V[8]+1770035416&4294967295,S=w+(R<<7&4294967295|R>>>25),R=x+(O^S&(w^O))+V[9]+2336552879&4294967295,x=S+(R<<12&4294967295|R>>>20),R=O+(w^x&(S^w))+V[10]+4294925233&4294967295,O=x+(R<<17&4294967295|R>>>15),R=w+(S^O&(x^S))+V[11]+2304563134&4294967295,w=O+(R<<22&4294967295|R>>>10),R=S+(x^w&(O^x))+V[12]+1804603682&4294967295,S=w+(R<<7&4294967295|R>>>25),R=x+(O^S&(w^O))+V[13]+4254626195&4294967295,x=S+(R<<12&4294967295|R>>>20),R=O+(w^x&(S^w))+V[14]+2792965006&4294967295,O=x+(R<<17&4294967295|R>>>15),R=w+(S^O&(x^S))+V[15]+1236535329&4294967295,w=O+(R<<22&4294967295|R>>>10),R=S+(O^x&(w^O))+V[1]+4129170786&4294967295,S=w+(R<<5&4294967295|R>>>27),R=x+(w^O&(S^w))+V[6]+3225465664&4294967295,x=S+(R<<9&4294967295|R>>>23),R=O+(S^w&(x^S))+V[11]+643717713&4294967295,O=x+(R<<14&4294967295|R>>>18),R=w+(x^S&(O^x))+V[0]+3921069994&4294967295,w=O+(R<<20&4294967295|R>>>12),R=S+(O^x&(w^O))+V[5]+3593408605&4294967295,S=w+(R<<5&4294967295|R>>>27),R=x+(w^O&(S^w))+V[10]+38016083&4294967295,x=S+(R<<9&4294967295|R>>>23),R=O+(S^w&(x^S))+V[15]+3634488961&4294967295,O=x+(R<<14&4294967295|R>>>18),R=w+(x^S&(O^x))+V[4]+3889429448&4294967295,w=O+(R<<20&4294967295|R>>>12),R=S+(O^x&(w^O))+V[9]+568446438&4294967295,S=w+(R<<5&4294967295|R>>>27),R=x+(w^O&(S^w))+V[14]+3275163606&4294967295,x=S+(R<<9&4294967295|R>>>23),R=O+(S^w&(x^S))+V[3]+4107603335&4294967295,O=x+(R<<14&4294967295|R>>>18),R=w+(x^S&(O^x))+V[8]+1163531501&4294967295,w=O+(R<<20&4294967295|R>>>12),R=S+(O^x&(w^O))+V[13]+2850285829&4294967295,S=w+(R<<5&4294967295|R>>>27),R=x+(w^O&(S^w))+V[2]+4243563512&4294967295,x=S+(R<<9&4294967295|R>>>23),R=O+(S^w&(x^S))+V[7]+1735328473&4294967295,O=x+(R<<14&4294967295|R>>>18),R=w+(x^S&(O^x))+V[12]+2368359562&4294967295,w=O+(R<<20&4294967295|R>>>12),R=S+(w^O^x)+V[5]+4294588738&4294967295,S=w+(R<<4&4294967295|R>>>28),R=x+(S^w^O)+V[8]+2272392833&4294967295,x=S+(R<<11&4294967295|R>>>21),R=O+(x^S^w)+V[11]+1839030562&4294967295,O=x+(R<<16&4294967295|R>>>16),R=w+(O^x^S)+V[14]+4259657740&4294967295,w=O+(R<<23&4294967295|R>>>9),R=S+(w^O^x)+V[1]+2763975236&4294967295,S=w+(R<<4&4294967295|R>>>28),R=x+(S^w^O)+V[4]+1272893353&4294967295,x=S+(R<<11&4294967295|R>>>21),R=O+(x^S^w)+V[7]+4139469664&4294967295,O=x+(R<<16&4294967295|R>>>16),R=w+(O^x^S)+V[10]+3200236656&4294967295,w=O+(R<<23&4294967295|R>>>9),R=S+(w^O^x)+V[13]+681279174&4294967295,S=w+(R<<4&4294967295|R>>>28),R=x+(S^w^O)+V[0]+3936430074&4294967295,x=S+(R<<11&4294967295|R>>>21),R=O+(x^S^w)+V[3]+3572445317&4294967295,O=x+(R<<16&4294967295|R>>>16),R=w+(O^x^S)+V[6]+76029189&4294967295,w=O+(R<<23&4294967295|R>>>9),R=S+(w^O^x)+V[9]+3654602809&4294967295,S=w+(R<<4&4294967295|R>>>28),R=x+(S^w^O)+V[12]+3873151461&4294967295,x=S+(R<<11&4294967295|R>>>21),R=O+(x^S^w)+V[15]+530742520&4294967295,O=x+(R<<16&4294967295|R>>>16),R=w+(O^x^S)+V[2]+3299628645&4294967295,w=O+(R<<23&4294967295|R>>>9),R=S+(O^(w|~x))+V[0]+4096336452&4294967295,S=w+(R<<6&4294967295|R>>>26),R=x+(w^(S|~O))+V[7]+1126891415&4294967295,x=S+(R<<10&4294967295|R>>>22),R=O+(S^(x|~w))+V[14]+2878612391&4294967295,O=x+(R<<15&4294967295|R>>>17),R=w+(x^(O|~S))+V[5]+4237533241&4294967295,w=O+(R<<21&4294967295|R>>>11),R=S+(O^(w|~x))+V[12]+1700485571&4294967295,S=w+(R<<6&4294967295|R>>>26),R=x+(w^(S|~O))+V[3]+2399980690&4294967295,x=S+(R<<10&4294967295|R>>>22),R=O+(S^(x|~w))+V[10]+4293915773&4294967295,O=x+(R<<15&4294967295|R>>>17),R=w+(x^(O|~S))+V[1]+2240044497&4294967295,w=O+(R<<21&4294967295|R>>>11),R=S+(O^(w|~x))+V[8]+1873313359&4294967295,S=w+(R<<6&4294967295|R>>>26),R=x+(w^(S|~O))+V[15]+4264355552&4294967295,x=S+(R<<10&4294967295|R>>>22),R=O+(S^(x|~w))+V[6]+2734768916&4294967295,O=x+(R<<15&4294967295|R>>>17),R=w+(x^(O|~S))+V[13]+1309151649&4294967295,w=O+(R<<21&4294967295|R>>>11),R=S+(O^(w|~x))+V[4]+4149444226&4294967295,S=w+(R<<6&4294967295|R>>>26),R=x+(w^(S|~O))+V[11]+3174756917&4294967295,x=S+(R<<10&4294967295|R>>>22),R=O+(S^(x|~w))+V[2]+718787259&4294967295,O=x+(R<<15&4294967295|R>>>17),R=w+(x^(O|~S))+V[9]+3951481745&4294967295,N.g[0]=N.g[0]+S&4294967295,N.g[1]=N.g[1]+(O+(R<<21&4294967295|R>>>11))&4294967295,N.g[2]=N.g[2]+O&4294967295,N.g[3]=N.g[3]+x&4294967295}s.prototype.u=function(N,S){S===void 0&&(S=N.length);for(var w=S-this.blockSize,V=this.B,O=this.h,x=0;x<S;){if(O==0)for(;x<=w;)u(this,N,x),x+=this.blockSize;if(typeof N=="string"){for(;x<S;)if(V[O++]=N.charCodeAt(x++),O==this.blockSize){u(this,V),O=0;break}}else for(;x<S;)if(V[O++]=N[x++],O==this.blockSize){u(this,V),O=0;break}}this.h=O,this.o+=S},s.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var S=1;S<N.length-8;++S)N[S]=0;var w=8*this.o;for(S=N.length-8;S<N.length;++S)N[S]=w&255,w/=256;for(this.u(N),N=Array(16),S=w=0;4>S;++S)for(var V=0;32>V;V+=8)N[w++]=this.g[S]>>>V&255;return N};function h(N,S){var w=g;return Object.prototype.hasOwnProperty.call(w,N)?w[N]:w[N]=S(N)}function d(N,S){this.h=S;for(var w=[],V=!0,O=N.length-1;0<=O;O--){var x=N[O]|0;V&&x==S||(w[O]=x,V=!1)}this.g=w}var g={};function _(N){return-128<=N&&128>N?h(N,function(S){return new d([S|0],0>S?-1:0)}):new d([N|0],0>N?-1:0)}function v(N){if(isNaN(N)||!isFinite(N))return D;if(0>N)return X(v(-N));for(var S=[],w=1,V=0;N>=w;V++)S[V]=N/w|0,w*=4294967296;return new d(S,0)}function A(N,S){if(N.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(N.charAt(0)=="-")return X(A(N.substring(1),S));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=v(Math.pow(S,8)),V=D,O=0;O<N.length;O+=8){var x=Math.min(8,N.length-O),R=parseInt(N.substring(O,O+x),S);8>x?(x=v(Math.pow(S,x)),V=V.j(x).add(v(R))):(V=V.j(w),V=V.add(v(R)))}return V}var D=_(0),U=_(1),j=_(16777216);a=d.prototype,a.m=function(){if(tt(this))return-X(this).m();for(var N=0,S=1,w=0;w<this.g.length;w++){var V=this.i(w);N+=(0<=V?V:4294967296+V)*S,S*=4294967296}return N},a.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if($(this))return"0";if(tt(this))return"-"+X(this).toString(N);for(var S=v(Math.pow(N,6)),w=this,V="";;){var O=Tt(w,S).g;w=vt(w,O.j(S));var x=((0<w.g.length?w.g[0]:w.h)>>>0).toString(N);if(w=O,$(w))return x+V;for(;6>x.length;)x="0"+x;V=x+V}},a.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function $(N){if(N.h!=0)return!1;for(var S=0;S<N.g.length;S++)if(N.g[S]!=0)return!1;return!0}function tt(N){return N.h==-1}a.l=function(N){return N=vt(this,N),tt(N)?-1:$(N)?0:1};function X(N){for(var S=N.g.length,w=[],V=0;V<S;V++)w[V]=~N.g[V];return new d(w,~N.h).add(U)}a.abs=function(){return tt(this)?X(this):this},a.add=function(N){for(var S=Math.max(this.g.length,N.g.length),w=[],V=0,O=0;O<=S;O++){var x=V+(this.i(O)&65535)+(N.i(O)&65535),R=(x>>>16)+(this.i(O)>>>16)+(N.i(O)>>>16);V=R>>>16,x&=65535,R&=65535,w[O]=R<<16|x}return new d(w,w[w.length-1]&-2147483648?-1:0)};function vt(N,S){return N.add(X(S))}a.j=function(N){if($(this)||$(N))return D;if(tt(this))return tt(N)?X(this).j(X(N)):X(X(this).j(N));if(tt(N))return X(this.j(X(N)));if(0>this.l(j)&&0>N.l(j))return v(this.m()*N.m());for(var S=this.g.length+N.g.length,w=[],V=0;V<2*S;V++)w[V]=0;for(V=0;V<this.g.length;V++)for(var O=0;O<N.g.length;O++){var x=this.i(V)>>>16,R=this.i(V)&65535,Ne=N.i(O)>>>16,ie=N.i(O)&65535;w[2*V+2*O]+=R*ie,At(w,2*V+2*O),w[2*V+2*O+1]+=x*ie,At(w,2*V+2*O+1),w[2*V+2*O+1]+=R*Ne,At(w,2*V+2*O+1),w[2*V+2*O+2]+=x*Ne,At(w,2*V+2*O+2)}for(V=0;V<S;V++)w[V]=w[2*V+1]<<16|w[2*V];for(V=S;V<2*S;V++)w[V]=0;return new d(w,0)};function At(N,S){for(;(N[S]&65535)!=N[S];)N[S+1]+=N[S]>>>16,N[S]&=65535,S++}function ht(N,S){this.g=N,this.h=S}function Tt(N,S){if($(S))throw Error("division by zero");if($(N))return new ht(D,D);if(tt(N))return S=Tt(X(N),S),new ht(X(S.g),X(S.h));if(tt(S))return S=Tt(N,X(S)),new ht(X(S.g),S.h);if(30<N.g.length){if(tt(N)||tt(S))throw Error("slowDivide_ only works with positive integers.");for(var w=U,V=S;0>=V.l(N);)w=pt(w),V=pt(V);var O=Nt(w,1),x=Nt(V,1);for(V=Nt(V,2),w=Nt(w,2);!$(V);){var R=x.add(V);0>=R.l(N)&&(O=O.add(w),x=R),V=Nt(V,1),w=Nt(w,1)}return S=vt(N,O.j(S)),new ht(O,S)}for(O=D;0<=N.l(S);){for(w=Math.max(1,Math.floor(N.m()/S.m())),V=Math.ceil(Math.log(w)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),x=v(w),R=x.j(S);tt(R)||0<R.l(N);)w-=V,x=v(w),R=x.j(S);$(x)&&(x=U),O=O.add(x),N=vt(N,R)}return new ht(O,N)}a.A=function(N){return Tt(this,N).h},a.and=function(N){for(var S=Math.max(this.g.length,N.g.length),w=[],V=0;V<S;V++)w[V]=this.i(V)&N.i(V);return new d(w,this.h&N.h)},a.or=function(N){for(var S=Math.max(this.g.length,N.g.length),w=[],V=0;V<S;V++)w[V]=this.i(V)|N.i(V);return new d(w,this.h|N.h)},a.xor=function(N){for(var S=Math.max(this.g.length,N.g.length),w=[],V=0;V<S;V++)w[V]=this.i(V)^N.i(V);return new d(w,this.h^N.h)};function pt(N){for(var S=N.g.length+1,w=[],V=0;V<S;V++)w[V]=N.i(V)<<1|N.i(V-1)>>>31;return new d(w,N.h)}function Nt(N,S){var w=S>>5;S%=32;for(var V=N.g.length-w,O=[],x=0;x<V;x++)O[x]=0<S?N.i(x+w)>>>S|N.i(x+w+1)<<32-S:N.i(x+w);return new d(O,N.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,K_=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=A,mr=d}).apply(typeof Ry<"u"?Ry:typeof self<"u"?self:typeof window<"u"?window:{});var Mo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var X_,Bl,Z_,ko,Hf,$_,J_,W_;(function(){var a,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,m,p){return o==Array.prototype||o==Object.prototype||(o[m]=p.value),o};function i(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof Mo=="object"&&Mo];for(var m=0;m<o.length;++m){var p=o[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var s=i(this);function u(o,m){if(m)t:{var p=s;o=o.split(".");for(var T=0;T<o.length-1;T++){var L=o[T];if(!(L in p))break t;p=p[L]}o=o[o.length-1],T=p[o],m=m(T),m!=T&&m!=null&&e(p,o,{configurable:!0,writable:!0,value:m})}}function h(o,m){o instanceof String&&(o+="");var p=0,T=!1,L={next:function(){if(!T&&p<o.length){var q=p++;return{value:m(q,o[q]),done:!1}}return T=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}u("Array.prototype.values",function(o){return o||function(){return h(this,function(m,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function _(o){var m=typeof o;return m=m!="object"?m:o?Array.isArray(o)?"array":m:"null",m=="array"||m=="object"&&typeof o.length=="number"}function v(o){var m=typeof o;return m=="object"&&o!=null||m=="function"}function A(o,m,p){return o.call.apply(o.bind,arguments)}function D(o,m,p){if(!o)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,T),o.apply(m,L)}}return function(){return o.apply(m,arguments)}}function U(o,m,p){return U=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:D,U.apply(null,arguments)}function j(o,m){var p=Array.prototype.slice.call(arguments,1);return function(){var T=p.slice();return T.push.apply(T,arguments),o.apply(this,T)}}function $(o,m){function p(){}p.prototype=m.prototype,o.aa=m.prototype,o.prototype=new p,o.prototype.constructor=o,o.Qb=function(T,L,q){for(var W=Array(arguments.length-2),Ot=2;Ot<arguments.length;Ot++)W[Ot-2]=arguments[Ot];return m.prototype[L].apply(T,W)}}function tt(o){const m=o.length;if(0<m){const p=Array(m);for(let T=0;T<m;T++)p[T]=o[T];return p}return[]}function X(o,m){for(let p=1;p<arguments.length;p++){const T=arguments[p];if(_(T)){const L=o.length||0,q=T.length||0;o.length=L+q;for(let W=0;W<q;W++)o[L+W]=T[W]}else o.push(T)}}class vt{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function At(o){return/^[\s\xa0]*$/.test(o)}function ht(){var o=g.navigator;return o&&(o=o.userAgent)?o:""}function Tt(o){return Tt[" "](o),o}Tt[" "]=function(){};var pt=ht().indexOf("Gecko")!=-1&&!(ht().toLowerCase().indexOf("webkit")!=-1&&ht().indexOf("Edge")==-1)&&!(ht().indexOf("Trident")!=-1||ht().indexOf("MSIE")!=-1)&&ht().indexOf("Edge")==-1;function Nt(o,m,p){for(const T in o)m.call(p,o[T],T,o)}function N(o,m){for(const p in o)m.call(void 0,o[p],p,o)}function S(o){const m={};for(const p in o)m[p]=o[p];return m}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(o,m){let p,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(p in T)o[p]=T[p];for(let q=0;q<w.length;q++)p=w[q],Object.prototype.hasOwnProperty.call(T,p)&&(o[p]=T[p])}}function O(o){var m=1;o=o.split(":");const p=[];for(;0<m&&o.length;)p.push(o.shift()),m--;return o.length&&p.push(o.join(":")),p}function x(o){g.setTimeout(()=>{throw o},0)}function R(){var o=Pt;let m=null;return o.g&&(m=o.g,o.g=o.g.next,o.g||(o.h=null),m.next=null),m}class Ne{constructor(){this.h=this.g=null}add(m,p){const T=ie.get();T.set(m,p),this.h?this.h.next=T:this.g=T,this.h=T}}var ie=new vt(()=>new H,o=>o.reset());class H{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let et,ut=!1,Pt=new Ne,C=()=>{const o=g.Promise.resolve(void 0);et=()=>{o.then(Z)}};var Z=()=>{for(var o;o=R();){try{o.h.call(o.g)}catch(p){x(p)}var m=ie;m.j(o),100>m.h&&(m.h++,o.next=m.g,m.g=o)}ut=!1};function nt(){this.s=this.s,this.C=this.C}nt.prototype.s=!1,nt.prototype.ma=function(){this.s||(this.s=!0,this.N())},nt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function J(o,m){this.type=o,this.g=this.target=m,this.defaultPrevented=!1}J.prototype.h=function(){this.defaultPrevented=!0};var ct=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var o=!1,m=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const p=()=>{};g.addEventListener("test",p,m),g.removeEventListener("test",p,m)}catch{}return o}();function wt(o,m){if(J.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var p=this.type=o.type,T=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=m,m=o.relatedTarget){if(pt){t:{try{Tt(m.nodeName);var L=!0;break t}catch{}L=!1}L||(m=null)}}else p=="mouseover"?m=o.fromElement:p=="mouseout"&&(m=o.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:yt[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&wt.aa.h.call(this)}}$(wt,J);var yt={2:"touch",3:"pen",4:"mouse"};wt.prototype.h=function(){wt.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var be="closure_listenable_"+(1e6*Math.random()|0),Zt=0;function zn(o,m,p,T,L){this.listener=o,this.proxy=null,this.src=m,this.type=p,this.capture=!!T,this.ha=L,this.key=++Zt,this.da=this.fa=!1}function Ui(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function si(o){this.src=o,this.g={},this.h=0}si.prototype.add=function(o,m,p,T,L){var q=o.toString();o=this.g[q],o||(o=this.g[q]=[],this.h++);var W=wr(o,m,T,L);return-1<W?(m=o[W],p||(m.fa=!1)):(m=new zn(m,this.src,q,!!T,L),m.fa=p,o.push(m)),m};function Rr(o,m){var p=m.type;if(p in o.g){var T=o.g[p],L=Array.prototype.indexOf.call(T,m,void 0),q;(q=0<=L)&&Array.prototype.splice.call(T,L,1),q&&(Ui(m),o.g[p].length==0&&(delete o.g[p],o.h--))}}function wr(o,m,p,T){for(var L=0;L<o.length;++L){var q=o[L];if(!q.da&&q.listener==m&&q.capture==!!p&&q.ha==T)return L}return-1}var Dr="closure_lm_"+(1e6*Math.random()|0),Vs={};function uu(o,m,p,T,L){if(Array.isArray(m)){for(var q=0;q<m.length;q++)uu(o,m[q],p,T,L);return null}return p=ou(p),o&&o[be]?o.K(m,p,v(T)?!!T.capture:!1,L):dn(o,m,p,!1,T,L)}function dn(o,m,p,T,L,q){if(!m)throw Error("Invalid event type");var W=v(L)?!!L.capture:!!L,Ot=va(o);if(Ot||(o[Dr]=Ot=new si(o)),p=Ot.add(m,p,T,W,q),p.proxy)return p;if(T=Ac(),p.proxy=T,T.src=o,T.listener=p,o.addEventListener)ct||(L=W),L===void 0&&(L=!1),o.addEventListener(m.toString(),T,L);else if(o.attachEvent)o.attachEvent(Cr(m.toString()),T);else if(o.addListener&&o.removeListener)o.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return p}function Ac(){function o(p){return m.call(o.src,o.listener,p)}const m=Sc;return o}function Ns(o,m,p,T,L){if(Array.isArray(m))for(var q=0;q<m.length;q++)Ns(o,m[q],p,T,L);else T=v(T)?!!T.capture:!!T,p=ou(p),o&&o[be]?(o=o.i,m=String(m).toString(),m in o.g&&(q=o.g[m],p=wr(q,p,T,L),-1<p&&(Ui(q[p]),Array.prototype.splice.call(q,p,1),q.length==0&&(delete o.g[m],o.h--)))):o&&(o=va(o))&&(m=o.g[m.toString()],o=-1,m&&(o=wr(m,p,T,L)),(p=-1<o?m[o]:null)&&_a(p))}function _a(o){if(typeof o!="number"&&o&&!o.da){var m=o.src;if(m&&m[be])Rr(m.i,o);else{var p=o.type,T=o.proxy;m.removeEventListener?m.removeEventListener(p,T,o.capture):m.detachEvent?m.detachEvent(Cr(p),T):m.addListener&&m.removeListener&&m.removeListener(T),(p=va(m))?(Rr(p,o),p.h==0&&(p.src=null,m[Dr]=null)):Ui(o)}}}function Cr(o){return o in Vs?Vs[o]:Vs[o]="on"+o}function Sc(o,m){if(o.da)o=!0;else{m=new wt(m,this);var p=o.listener,T=o.ha||o.src;o.fa&&_a(o),o=p.call(T,m)}return o}function va(o){return o=o[Dr],o instanceof si?o:null}var Os="__closure_events_fn_"+(1e9*Math.random()>>>0);function ou(o){return typeof o=="function"?o:(o[Os]||(o[Os]=function(m){return o.handleEvent(m)}),o[Os])}function re(){nt.call(this),this.i=new si(this),this.M=this,this.F=null}$(re,nt),re.prototype[be]=!0,re.prototype.removeEventListener=function(o,m,p,T){Ns(this,o,m,p,T)};function jt(o,m){var p,T=o.F;if(T)for(p=[];T;T=T.F)p.push(T);if(o=o.M,T=m.type||m,typeof m=="string")m=new J(m,o);else if(m instanceof J)m.target=m.target||o;else{var L=m;m=new J(T,o),V(m,L)}if(L=!0,p)for(var q=p.length-1;0<=q;q--){var W=m.g=p[q];L=nn(W,T,!0,m)&&L}if(W=m.g=o,L=nn(W,T,!0,m)&&L,L=nn(W,T,!1,m)&&L,p)for(q=0;q<p.length;q++)W=m.g=p[q],L=nn(W,T,!1,m)&&L}re.prototype.N=function(){if(re.aa.N.call(this),this.i){var o=this.i,m;for(m in o.g){for(var p=o.g[m],T=0;T<p.length;T++)Ui(p[T]);delete o.g[m],o.h--}}this.F=null},re.prototype.K=function(o,m,p,T){return this.i.add(String(o),m,!1,p,T)},re.prototype.L=function(o,m,p,T){return this.i.add(String(o),m,!0,p,T)};function nn(o,m,p,T){if(m=o.i.g[String(m)],!m)return!0;m=m.concat();for(var L=!0,q=0;q<m.length;++q){var W=m[q];if(W&&!W.da&&W.capture==p){var Ot=W.listener,_e=W.ha||W.src;W.fa&&Rr(o.i,W),L=Ot.call(_e,T)!==!1&&L}}return L&&!T.defaultPrevented}function Be(o,m,p){if(typeof o=="function")p&&(o=U(o,p));else if(o&&typeof o.handleEvent=="function")o=U(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(o,m||0)}function cu(o){o.g=Be(()=>{o.g=null,o.i&&(o.i=!1,cu(o))},o.l);const m=o.h;o.h=null,o.m.apply(null,m)}class bc extends nt{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:cu(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ir(o){nt.call(this),this.h=o,this.g={}}$(Ir,nt);var Vr=[];function Nr(o){Nt(o.g,function(m,p){this.g.hasOwnProperty(p)&&_a(m)},o),o.g={}}Ir.prototype.N=function(){Ir.aa.N.call(this),Nr(this)},Ir.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Dn=g.JSON.stringify,Ea=g.JSON.parse,Or=class{stringify(o){return g.JSON.stringify(o,void 0)}parse(o){return g.JSON.parse(o,void 0)}};function Ms(){}Ms.prototype.h=null;function xs(o){return o.h||(o.h=o.i())}function Us(){}var li={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ui(){J.call(this,"d")}$(ui,J);function Ls(){J.call(this,"c")}$(Ls,J);var Pn={},zs=null;function Li(){return zs=zs||new re}Pn.La="serverreachability";function Ta(o){J.call(this,Pn.La,o)}$(Ta,J);function zi(o){const m=Li();jt(m,new Ta(m))}Pn.STAT_EVENT="statevent";function hu(o,m){J.call(this,Pn.STAT_EVENT,o),this.stat=m}$(hu,J);function Wt(o){const m=Li();jt(m,new hu(m,o))}Pn.Ma="timingevent";function ye(o,m){J.call(this,Pn.Ma,o),this.size=m}$(ye,J);function he(o,m){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){o()},m)}function mn(){this.g=!0}mn.prototype.xa=function(){this.g=!1};function Ps(o,m,p,T,L,q){o.info(function(){if(o.g)if(q)for(var W="",Ot=q.split("&"),_e=0;_e<Ot.length;_e++){var Mt=Ot[_e].split("=");if(1<Mt.length){var we=Mt[0];Mt=Mt[1];var ve=we.split("_");W=2<=ve.length&&ve[1]=="type"?W+(we+"="+Mt+"&"):W+(we+"=redacted&")}}else W=null;else W=q;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+p+`
`+W})}function Rc(o,m,p,T,L,q,W){o.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+p+`
`+q+" "+W})}function Pi(o,m,p,T){o.info(function(){return"XMLHTTP TEXT ("+m+"): "+Mr(o,p)+(T?" "+T:"")})}function fu(o,m){o.info(function(){return"TIMEOUT: "+m})}mn.prototype.info=function(){};function Mr(o,m){if(!o.g)return m;if(!m)return null;try{var p=JSON.parse(m);if(p){for(o=0;o<p.length;o++)if(Array.isArray(p[o])){var T=p[o];if(!(2>T.length)){var L=T[1];if(Array.isArray(L)&&!(1>L.length)){var q=L[0];if(q!="noop"&&q!="stop"&&q!="close")for(var W=1;W<L.length;W++)L[W]=""}}}}return Dn(p)}catch{return m}}var ki={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},oi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},kn;function Bn(){}$(Bn,Ms),Bn.prototype.g=function(){return new XMLHttpRequest},Bn.prototype.i=function(){return{}},kn=new Bn;function Fe(o,m,p,T){this.j=o,this.i=m,this.l=p,this.R=T||1,this.U=new Ir(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new le}function le(){this.i=null,this.g="",this.h=!1}var ks={},Aa={};function Cn(o,m,p){o.L=1,o.v=Pr(rn(m)),o.m=p,o.P=!0,ci(o,null)}function ci(o,m){o.F=Date.now(),xr(o),o.A=rn(o.v);var p=o.A,T=o.R;Array.isArray(T)||(T=[String(T)]),Qs(p.i,"t",T),o.C=0,p=o.j.J,o.h=new le,o.g=Cu(o.j,p?m:null,!o.m),0<o.O&&(o.M=new bc(U(o.Y,o,o.g),o.O)),m=o.U,p=o.g,T=o.ca;var L="readystatechange";Array.isArray(L)||(L&&(Vr[0]=L.toString()),L=Vr);for(var q=0;q<L.length;q++){var W=uu(p,L[q],T||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=o.H?S(o.H):{},o.m?(o.u||(o.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,m)):(o.u="GET",o.g.ea(o.A,o.u,null,m)),zi(),Ps(o.i,o.u,o.A,o.l,o.R,o.m)}Fe.prototype.ca=function(o){o=o.target;const m=this.M;m&&_n(o)==3?m.j():this.Y(o)},Fe.prototype.Y=function(o){try{if(o==this.g)t:{const ve=_n(this.g);var m=this.g.Ba();const _i=this.g.Z();if(!(3>ve)&&(ve!=3||this.g&&(this.h.h||this.g.oa()||Eu(this.g)))){this.J||ve!=4||m==7||(m==8||0>=_i?zi(3):zi(2)),Bi(this);var p=this.g.Z();this.X=p;e:if(du(this)){var T=Eu(this.g);o="";var L=T.length,q=_n(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Oe(this),qn(this);var W="";break e}this.h.i=new g.TextDecoder}for(m=0;m<L;m++)this.h.h=!0,o+=this.h.i.decode(T[m],{stream:!(q&&m==L-1)});T.length=0,this.h.g+=o,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=p==200,Rc(this.i,this.u,this.A,this.l,this.R,ve,p),this.o){if(this.T&&!this.K){e:{if(this.g){var Ot,_e=this.g;if((Ot=_e.g?_e.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!At(Ot)){var Mt=Ot;break e}}Mt=null}if(p=Mt)Pi(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ur(this,p);else{this.o=!1,this.s=3,Wt(12),Oe(this),qn(this);break t}}if(this.P){p=!0;let Me;for(;!this.J&&this.C<W.length;)if(Me=mu(this,W),Me==Aa){ve==4&&(this.s=4,Wt(14),p=!1),Pi(this.i,this.l,null,"[Incomplete Response]");break}else if(Me==ks){this.s=4,Wt(15),Pi(this.i,this.l,W,"[Invalid Chunk]"),p=!1;break}else Pi(this.i,this.l,Me,null),Ur(this,Me);if(du(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ve!=4||W.length!=0||this.h.h||(this.s=1,Wt(16),p=!1),this.o=this.o&&p,!p)Pi(this.i,this.l,W,"[Invalid Chunked Response]"),Oe(this),qn(this);else if(0<W.length&&!this.W){this.W=!0;var we=this.j;we.g==this&&we.ba&&!we.M&&(we.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),Fr(we),we.M=!0,Wt(11))}}else Pi(this.i,this.l,W,null),Ur(this,W);ve==4&&Oe(this),this.o&&!this.J&&(ve==4?Ru(this.j,this):(this.o=!1,xr(this)))}else Vc(this.g),p==400&&0<W.indexOf("Unknown SID")?(this.s=3,Wt(12)):(this.s=0,Wt(13)),Oe(this),qn(this)}}}catch{}finally{}};function du(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function mu(o,m){var p=o.C,T=m.indexOf(`
`,p);return T==-1?Aa:(p=Number(m.substring(p,T)),isNaN(p)?ks:(T+=1,T+p>m.length?Aa:(m=m.slice(T,T+p),o.C=T+p,m)))}Fe.prototype.cancel=function(){this.J=!0,Oe(this)};function xr(o){o.S=Date.now()+o.I,gu(o,o.I)}function gu(o,m){if(o.B!=null)throw Error("WatchDog timer not null");o.B=he(U(o.ba,o),m)}function Bi(o){o.B&&(g.clearTimeout(o.B),o.B=null)}Fe.prototype.ba=function(){this.B=null;const o=Date.now();0<=o-this.S?(fu(this.i,this.A),this.L!=2&&(zi(),Wt(17)),Oe(this),this.s=2,qn(this)):gu(this,this.S-o)};function qn(o){o.j.G==0||o.J||Ru(o.j,o)}function Oe(o){Bi(o);var m=o.M;m&&typeof m.ma=="function"&&m.ma(),o.M=null,Nr(o.U),o.g&&(m=o.g,o.g=null,m.abort(),m.ma())}function Ur(o,m){try{var p=o.j;if(p.G!=0&&(p.g==o||Bs(p.h,o))){if(!o.K&&Bs(p.h,o)&&p.G==3){try{var T=p.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!p.u){if(p.g)if(p.g.F+3e3<o.F)xa(p),Oa(p);else break t;Zs(p),Wt(18)}}else p.za=L[1],0<p.za-p.T&&37500>L[2]&&p.F&&p.v==0&&!p.C&&(p.C=he(U(p.Za,p),6e3));if(1>=ba(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else yi(p,11)}else if((o.K||p.g==o)&&xa(p),!At(m))for(L=p.Da.g.parse(m),m=0;m<L.length;m++){let Mt=L[m];if(p.T=Mt[0],Mt=Mt[1],p.G==2)if(Mt[0]=="c"){p.K=Mt[1],p.ia=Mt[2];const we=Mt[3];we!=null&&(p.la=we,p.j.info("VER="+p.la));const ve=Mt[4];ve!=null&&(p.Aa=ve,p.j.info("SVER="+p.Aa));const _i=Mt[5];_i!=null&&typeof _i=="number"&&0<_i&&(T=1.5*_i,p.L=T,p.j.info("backChannelRequestTimeoutMs_="+T)),T=p;const Me=o.g;if(Me){const Kn=Me.g?Me.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Kn){var q=T.h;q.g||Kn.indexOf("spdy")==-1&&Kn.indexOf("quic")==-1&&Kn.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Ra(q,q.h),q.h=null))}if(T.D){const Js=Me.g?Me.g.getResponseHeader("X-HTTP-Session-Id"):null;Js&&(T.ya=Js,Qt(T.I,T.D,Js))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-o.F,p.j.info("Handshake RTT: "+p.R+"ms")),T=p;var W=o;if(T.qa=Du(T,T.J?T.ia:null,T.W),W.K){Ye(T.h,W);var Ot=W,_e=T.L;_e&&(Ot.I=_e),Ot.B&&(Bi(Ot),xr(Ot)),T.g=W}else Su(T);0<p.i.length&&Ma(p)}else Mt[0]!="stop"&&Mt[0]!="close"||yi(p,7);else p.G==3&&(Mt[0]=="stop"||Mt[0]=="close"?Mt[0]=="stop"?yi(p,7):Ks(p):Mt[0]!="noop"&&p.l&&p.l.ta(Mt),p.v=0)}}zi(4)}catch{}}var pu=class{constructor(o,m){this.g=o,this.map=m}};function hi(o){this.l=o||10,g.PerformanceNavigationTiming?(o=g.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Sa(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function ba(o){return o.h?1:o.g?o.g.size:0}function Bs(o,m){return o.h?o.h==m:o.g?o.g.has(m):!1}function Ra(o,m){o.g?o.g.add(m):o.h=m}function Ye(o,m){o.h&&o.h==m?o.h=null:o.g&&o.g.has(m)&&o.g.delete(m)}hi.prototype.cancel=function(){if(this.i=qs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function qs(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let m=o.i;for(const p of o.g.values())m=m.concat(p.D);return m}return tt(o.i)}function wc(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(_(o)){for(var m=[],p=o.length,T=0;T<p;T++)m.push(o[T]);return m}m=[],p=0;for(T in o)m[p++]=o[T];return m}function wa(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(_(o)||typeof o=="string"){var m=[];o=o.length;for(var p=0;p<o;p++)m.push(p);return m}m=[],p=0;for(const T in o)m[p++]=T;return m}}}function js(o,m){if(o.forEach&&typeof o.forEach=="function")o.forEach(m,void 0);else if(_(o)||typeof o=="string")Array.prototype.forEach.call(o,m,void 0);else for(var p=wa(o),T=wc(o),L=T.length,q=0;q<L;q++)m.call(void 0,T[q],p&&p[q],o)}var Lr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Dc(o,m){if(o){o=o.split("&");for(var p=0;p<o.length;p++){var T=o[p].indexOf("="),L=null;if(0<=T){var q=o[p].substring(0,T);L=o[p].substring(T+1)}else q=o[p];m(q,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function fe(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof fe){this.h=o.h,zr(this,o.j),this.o=o.o,this.g=o.g,qi(this,o.s),this.l=o.l;var m=o.i,p=new di;p.i=m.i,m.g&&(p.g=new Map(m.g),p.h=m.h),fi(this,p),this.m=o.m}else o&&(m=String(o).match(Lr))?(this.h=!1,zr(this,m[1]||"",!0),this.o=gn(m[2]||""),this.g=gn(m[3]||"",!0),qi(this,m[4]),this.l=gn(m[5]||"",!0),fi(this,m[6]||"",!0),this.m=gn(m[7]||"")):(this.h=!1,this.i=new di(null,this.h))}fe.prototype.toString=function(){var o=[],m=this.j;m&&o.push(kr(m,Hs,!0),":");var p=this.g;return(p||m=="file")&&(o.push("//"),(m=this.o)&&o.push(kr(m,Hs,!0),"@"),o.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&o.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&o.push("/"),o.push(kr(p,p.charAt(0)=="/"?Cc:Gs,!0))),(p=this.i.toString())&&o.push("?",p),(p=this.m)&&o.push("#",kr(p,Da)),o.join("")};function rn(o){return new fe(o)}function zr(o,m,p){o.j=p?gn(m,!0):m,o.j&&(o.j=o.j.replace(/:$/,""))}function qi(o,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);o.s=m}else o.s=null}function fi(o,m,p){m instanceof di?(o.i=m,_u(o.i,o.h)):(p||(m=kr(m,Ic)),o.i=new di(m,o.h))}function Qt(o,m,p){o.i.set(m,p)}function Pr(o){return Qt(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function gn(o,m){return o?m?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function kr(o,m,p){return typeof o=="string"?(o=encodeURI(o).replace(m,yu),p&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function yu(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var Hs=/[#\/\?@]/g,Gs=/[#\?:]/g,Cc=/[#\?]/g,Ic=/[#\?@]/g,Da=/#/g;function di(o,m){this.h=this.g=null,this.i=o||null,this.j=!!m}function pn(o){o.g||(o.g=new Map,o.h=0,o.i&&Dc(o.i,function(m,p){o.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}a=di.prototype,a.add=function(o,m){pn(this),this.i=null,o=jn(this,o);var p=this.g.get(o);return p||this.g.set(o,p=[]),p.push(m),this.h+=1,this};function mi(o,m){pn(o),m=jn(o,m),o.g.has(m)&&(o.i=null,o.h-=o.g.get(m).length,o.g.delete(m))}function gi(o,m){return pn(o),m=jn(o,m),o.g.has(m)}a.forEach=function(o,m){pn(this),this.g.forEach(function(p,T){p.forEach(function(L){o.call(m,L,T,this)},this)},this)},a.na=function(){pn(this);const o=Array.from(this.g.values()),m=Array.from(this.g.keys()),p=[];for(let T=0;T<m.length;T++){const L=o[T];for(let q=0;q<L.length;q++)p.push(m[T])}return p},a.V=function(o){pn(this);let m=[];if(typeof o=="string")gi(this,o)&&(m=m.concat(this.g.get(jn(this,o))));else{o=Array.from(this.g.values());for(let p=0;p<o.length;p++)m=m.concat(o[p])}return m},a.set=function(o,m){return pn(this),this.i=null,o=jn(this,o),gi(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[m]),this.h+=1,this},a.get=function(o,m){return o?(o=this.V(o),0<o.length?String(o[0]):m):m};function Qs(o,m,p){mi(o,m),0<p.length&&(o.i=null,o.g.set(jn(o,m),tt(p)),o.h+=p.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],m=Array.from(this.g.keys());for(var p=0;p<m.length;p++){var T=m[p];const q=encodeURIComponent(String(T)),W=this.V(T);for(T=0;T<W.length;T++){var L=q;W[T]!==""&&(L+="="+encodeURIComponent(String(W[T]))),o.push(L)}}return this.i=o.join("&")};function jn(o,m){return m=String(m),o.j&&(m=m.toLowerCase()),m}function _u(o,m){m&&!o.j&&(pn(o),o.i=null,o.g.forEach(function(p,T){var L=T.toLowerCase();T!=L&&(mi(this,T),Qs(this,L,p))},o)),o.j=m}function Br(o,m){const p=new mn;if(g.Image){const T=new Image;T.onload=j(yn,p,"TestLoadImage: loaded",!0,m,T),T.onerror=j(yn,p,"TestLoadImage: error",!1,m,T),T.onabort=j(yn,p,"TestLoadImage: abort",!1,m,T),T.ontimeout=j(yn,p,"TestLoadImage: timeout",!1,m,T),g.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=o}else m(!1)}function In(o,m){const p=new mn,T=new AbortController,L=setTimeout(()=>{T.abort(),yn(p,"TestPingServer: timeout",!1,m)},1e4);fetch(o,{signal:T.signal}).then(q=>{clearTimeout(L),q.ok?yn(p,"TestPingServer: ok",!0,m):yn(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),yn(p,"TestPingServer: error",!1,m)})}function yn(o,m,p,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(p)}catch{}}function qr(){this.g=new Or}function Hn(o,m,p){const T=p||"";try{js(o,function(L,q){let W=L;v(L)&&(W=Dn(L)),m.push(T+q+"="+encodeURIComponent(W))})}catch(L){throw m.push(T+"type="+encodeURIComponent("_badmap")),L}}function ji(o){this.l=o.Ub||null,this.j=o.eb||!1}$(ji,Ms),ji.prototype.g=function(){return new pi(this.l,this.j)},ji.prototype.i=function(o){return function(){return o}}({});function pi(o,m){re.call(this),this.D=o,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}$(pi,re),a=pi.prototype,a.open=function(o,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=m,this.readyState=1,Qn(this)},a.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(m.body=o),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Gn(this)),this.readyState=0},a.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,Qn(this)),this.g&&(this.readyState=3,Qn(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Fs(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function Fs(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}a.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var m=o.value?o.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!o.done}))&&(this.response=this.responseText+=m)}o.done?Gn(this):Qn(this),this.readyState==3&&Fs(this)}},a.Ra=function(o){this.g&&(this.response=this.responseText=o,Gn(this))},a.Qa=function(o){this.g&&(this.response=o,Gn(this))},a.ga=function(){this.g&&Gn(this)};function Gn(o){o.readyState=4,o.l=null,o.j=null,o.v=null,Qn(o)}a.setRequestHeader=function(o,m){this.u.append(o,m)},a.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,o.push(p[0]+": "+p[1]),p=m.next();return o.join(`\r
`)};function Qn(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(pi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function Ys(o){let m="";return Nt(o,function(p,T){m+=T,m+=":",m+=p,m+=`\r
`}),m}function Re(o,m,p){t:{for(T in p){var T=!1;break t}T=!0}T||(p=Ys(p),typeof o=="string"?p!=null&&encodeURIComponent(String(p)):Qt(o,m,p))}function Bt(o){re.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}$(Bt,re);var Ca=/^https?$/i,jr=["POST","PUT"];a=Bt.prototype,a.Ha=function(o){this.J=o},a.ea=function(o,m,p,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);m=m?m.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():kn.g(),this.v=this.o?xs(this.o):xs(kn),this.g.onreadystatechange=U(this.Ea,this);try{this.B=!0,this.g.open(m,String(o),!0),this.B=!1}catch(q){vu(this,q);return}if(o=p||"",p=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)p.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())p.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(p.keys()).find(q=>q.toLowerCase()=="content-type"),L=g.FormData&&o instanceof g.FormData,!(0<=Array.prototype.indexOf.call(jr,m,void 0))||T||L||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,W]of p)this.g.setRequestHeader(q,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Hr(this),this.u=!0,this.g.send(o),this.u=!1}catch(q){vu(this,q)}};function vu(o,m){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=m,o.m=5,Ia(o),Fn(o)}function Ia(o){o.A||(o.A=!0,jt(o,"complete"),jt(o,"error"))}a.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,jt(this,"complete"),jt(this,"abort"),Fn(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fn(this,!0)),Bt.aa.N.call(this)},a.Ea=function(){this.s||(this.B||this.u||this.j?Va(this):this.bb())},a.bb=function(){Va(this)};function Va(o){if(o.h&&typeof d<"u"&&(!o.v[1]||_n(o)!=4||o.Z()!=2)){if(o.u&&_n(o)==4)Be(o.Ea,0,o);else if(jt(o,"readystatechange"),_n(o)==4){o.h=!1;try{const W=o.Z();t:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var T;if(T=W===0){var L=String(o.D).match(Lr)[1]||null;!L&&g.self&&g.self.location&&(L=g.self.location.protocol.slice(0,-1)),T=!Ca.test(L?L.toLowerCase():"")}p=T}if(p)jt(o,"complete"),jt(o,"success");else{o.m=6;try{var q=2<_n(o)?o.g.statusText:""}catch{q=""}o.l=q+" ["+o.Z()+"]",Ia(o)}}finally{Fn(o)}}}}function Fn(o,m){if(o.g){Hr(o);const p=o.g,T=o.v[0]?()=>{}:null;o.g=null,o.v=null,m||jt(o,"ready");try{p.onreadystatechange=T}catch{}}}function Hr(o){o.I&&(g.clearTimeout(o.I),o.I=null)}a.isActive=function(){return!!this.g};function _n(o){return o.g?o.g.readyState:0}a.Z=function(){try{return 2<_n(this)?this.g.status:-1}catch{return-1}},a.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.Oa=function(o){if(this.g){var m=this.g.responseText;return o&&m.indexOf(o)==0&&(m=m.substring(o.length)),Ea(m)}};function Eu(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function Vc(o){const m={};o=(o.g&&2<=_n(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<o.length;T++){if(At(o[T]))continue;var p=O(o[T]);const L=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const q=m[L]||[];m[L]=q,q.push(p)}N(m,function(T){return T.join(", ")})}a.Ba=function(){return this.m},a.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Gr(o,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[o]||m}function Na(o){this.Aa=0,this.i=[],this.j=new mn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Gr("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Gr("baseRetryDelayMs",5e3,o),this.cb=Gr("retryDelaySeedMs",1e4,o),this.Wa=Gr("forwardChannelMaxRetries",2,o),this.wa=Gr("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new hi(o&&o.concurrentRequestLimit),this.Da=new qr,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}a=Na.prototype,a.la=8,a.G=1,a.connect=function(o,m,p,T){Wt(0),this.W=o,this.H=m||{},p&&T!==void 0&&(this.H.OSID=p,this.H.OAID=T),this.F=this.X,this.I=Du(this,null,this.W),Ma(this)};function Ks(o){if(Tu(o),o.G==3){var m=o.U++,p=rn(o.I);if(Qt(p,"SID",o.K),Qt(p,"RID",m),Qt(p,"TYPE","terminate"),Qr(o,p),m=new Fe(o,o.j,m),m.L=2,m.v=Pr(rn(p)),p=!1,g.navigator&&g.navigator.sendBeacon)try{p=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!p&&g.Image&&(new Image().src=m.v,p=!0),p||(m.g=Cu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),xr(m)}wu(o)}function Oa(o){o.g&&(Fr(o),o.g.cancel(),o.g=null)}function Tu(o){Oa(o),o.u&&(g.clearTimeout(o.u),o.u=null),xa(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&g.clearTimeout(o.s),o.s=null)}function Ma(o){if(!Sa(o.h)&&!o.s){o.s=!0;var m=o.Ga;et||C(),ut||(et(),ut=!0),Pt.add(m,o),o.B=0}}function Nc(o,m){return ba(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=m.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=he(U(o.Ga,o,m),$s(o,o.B)),o.B++,!0)}a.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const L=new Fe(this,this.j,o);let q=this.o;if(this.S&&(q?(q=S(q),V(q,this.S)):q=this.S),this.m!==null||this.O||(L.H=q,q=null),this.P)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var T=this.i[p];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=Au(this,L,m),p=rn(this.I),Qt(p,"RID",o),Qt(p,"CVER",22),this.D&&Qt(p,"X-HTTP-Session-Id",this.D),Qr(this,p),q&&(this.O?m="headers="+encodeURIComponent(String(Ys(q)))+"&"+m:this.m&&Re(p,this.m,q)),Ra(this.h,L),this.Ua&&Qt(p,"TYPE","init"),this.P?(Qt(p,"$req",m),Qt(p,"SID","null"),L.T=!0,Cn(L,p,null)):Cn(L,p,m),this.G=2}}else this.G==3&&(o?Xs(this,o):this.i.length==0||Sa(this.h)||Xs(this))};function Xs(o,m){var p;m?p=m.l:p=o.U++;const T=rn(o.I);Qt(T,"SID",o.K),Qt(T,"RID",p),Qt(T,"AID",o.T),Qr(o,T),o.m&&o.o&&Re(T,o.m,o.o),p=new Fe(o,o.j,p,o.B+1),o.m===null&&(p.H=o.o),m&&(o.i=m.D.concat(o.i)),m=Au(o,p,1e3),p.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),Ra(o.h,p),Cn(p,T,m)}function Qr(o,m){o.H&&Nt(o.H,function(p,T){Qt(m,T,p)}),o.l&&js({},function(p,T){Qt(m,T,p)})}function Au(o,m,p){p=Math.min(o.i.length,p);var T=o.l?U(o.l.Na,o.l,o):null;t:{var L=o.i;let q=-1;for(;;){const W=["count="+p];q==-1?0<p?(q=L[0].g,W.push("ofs="+q)):q=0:W.push("ofs="+q);let Ot=!0;for(let _e=0;_e<p;_e++){let Mt=L[_e].g;const we=L[_e].map;if(Mt-=q,0>Mt)q=Math.max(0,L[_e].g-100),Ot=!1;else try{Hn(we,W,"req"+Mt+"_")}catch{T&&T(we)}}if(Ot){T=W.join("&");break t}}}return o=o.i.splice(0,p),m.D=o,T}function Su(o){if(!o.g&&!o.u){o.Y=1;var m=o.Fa;et||C(),ut||(et(),ut=!0),Pt.add(m,o),o.v=0}}function Zs(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=he(U(o.Fa,o),$s(o,o.v)),o.v++,!0)}a.Fa=function(){if(this.u=null,bu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=he(U(this.ab,this),o)}},a.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Wt(10),Oa(this),bu(this))};function Fr(o){o.A!=null&&(g.clearTimeout(o.A),o.A=null)}function bu(o){o.g=new Fe(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var m=rn(o.qa);Qt(m,"RID","rpc"),Qt(m,"SID",o.K),Qt(m,"AID",o.T),Qt(m,"CI",o.F?"0":"1"),!o.F&&o.ja&&Qt(m,"TO",o.ja),Qt(m,"TYPE","xmlhttp"),Qr(o,m),o.m&&o.o&&Re(m,o.m,o.o),o.L&&(o.g.I=o.L);var p=o.g;o=o.ia,p.L=1,p.v=Pr(rn(m)),p.m=null,p.P=!0,ci(p,o)}a.Za=function(){this.C!=null&&(this.C=null,Oa(this),Zs(this),Wt(19))};function xa(o){o.C!=null&&(g.clearTimeout(o.C),o.C=null)}function Ru(o,m){var p=null;if(o.g==m){xa(o),Fr(o),o.g=null;var T=2}else if(Bs(o.h,m))p=m.D,Ye(o.h,m),T=1;else return;if(o.G!=0){if(m.o)if(T==1){p=m.m?m.m.length:0,m=Date.now()-m.F;var L=o.B;T=Li(),jt(T,new ye(T,p)),Ma(o)}else Su(o);else if(L=m.s,L==3||L==0&&0<m.X||!(T==1&&Nc(o,m)||T==2&&Zs(o)))switch(p&&0<p.length&&(m=o.h,m.i=m.i.concat(p)),L){case 1:yi(o,5);break;case 4:yi(o,10);break;case 3:yi(o,6);break;default:yi(o,2)}}}function $s(o,m){let p=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(p*=2),p*m}function yi(o,m){if(o.j.info("Error code "+m),m==2){var p=U(o.fb,o),T=o.Xa;const L=!T;T=new fe(T||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||zr(T,"https"),Pr(T),L?Br(T.toString(),p):In(T.toString(),p)}else Wt(2);o.G=0,o.l&&o.l.sa(m),wu(o),Tu(o)}a.fb=function(o){o?(this.j.info("Successfully pinged google.com"),Wt(2)):(this.j.info("Failed to ping google.com"),Wt(1))};function wu(o){if(o.G=0,o.ka=[],o.l){const m=qs(o.h);(m.length!=0||o.i.length!=0)&&(X(o.ka,m),X(o.ka,o.i),o.h.i.length=0,tt(o.i),o.i.length=0),o.l.ra()}}function Du(o,m,p){var T=p instanceof fe?rn(p):new fe(p);if(T.g!="")m&&(T.g=m+"."+T.g),qi(T,T.s);else{var L=g.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;var q=new fe(null);T&&zr(q,T),m&&(q.g=m),L&&qi(q,L),p&&(q.l=p),T=q}return p=o.D,m=o.ya,p&&m&&Qt(T,p,m),Qt(T,"VER",o.la),Qr(o,T),T}function Cu(o,m,p){if(m&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=o.Ca&&!o.pa?new Bt(new ji({eb:p})):new Bt(o.pa),m.Ha(o.J),m}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function Iu(){}a=Iu.prototype,a.ua=function(){},a.ta=function(){},a.sa=function(){},a.ra=function(){},a.isActive=function(){return!0},a.Na=function(){};function Ua(){}Ua.prototype.g=function(o,m){return new Ke(o,m)};function Ke(o,m){re.call(this),this.g=new Na(m),this.l=o,this.h=m&&m.messageUrlParams||null,o=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(o?o["X-WebChannel-Content-Type"]=m.messageContentType:o={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(o?o["X-WebChannel-Client-Profile"]=m.va:o={"X-WebChannel-Client-Profile":m.va}),this.g.S=o,(o=m&&m.Sb)&&!At(o)&&(this.g.m=o),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!At(m)&&(this.g.D=m,o=this.h,o!==null&&m in o&&(o=this.h,m in o&&delete o[m])),this.j=new Yn(this)}$(Ke,re),Ke.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ke.prototype.close=function(){Ks(this.g)},Ke.prototype.o=function(o){var m=this.g;if(typeof o=="string"){var p={};p.__data__=o,o=p}else this.u&&(p={},p.__data__=Dn(o),o=p);m.i.push(new pu(m.Ya++,o)),m.G==3&&Ma(m)},Ke.prototype.N=function(){this.g.l=null,delete this.j,Ks(this.g),delete this.g,Ke.aa.N.call(this)};function Vu(o){ui.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var m=o.__sm__;if(m){t:{for(const p in m){o=p;break t}o=void 0}(this.i=o)&&(o=this.i,m=m!==null&&o in m?m[o]:void 0),this.data=m}else this.data=o}$(Vu,ui);function Nu(){Ls.call(this),this.status=1}$(Nu,Ls);function Yn(o){this.g=o}$(Yn,Iu),Yn.prototype.ua=function(){jt(this.g,"a")},Yn.prototype.ta=function(o){jt(this.g,new Vu(o))},Yn.prototype.sa=function(o){jt(this.g,new Nu)},Yn.prototype.ra=function(){jt(this.g,"b")},Ua.prototype.createWebChannel=Ua.prototype.g,Ke.prototype.send=Ke.prototype.o,Ke.prototype.open=Ke.prototype.m,Ke.prototype.close=Ke.prototype.close,W_=function(){return new Ua},J_=function(){return Li()},$_=Pn,Hf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ki.NO_ERROR=0,ki.TIMEOUT=8,ki.HTTP_ERROR=6,ko=ki,oi.COMPLETE="complete",Z_=oi,Us.EventType=li,li.OPEN="a",li.CLOSE="b",li.ERROR="c",li.MESSAGE="d",re.prototype.listen=re.prototype.K,Bl=Us,Bt.prototype.listenOnce=Bt.prototype.L,Bt.prototype.getLastError=Bt.prototype.Ka,Bt.prototype.getLastErrorCode=Bt.prototype.Ba,Bt.prototype.getStatus=Bt.prototype.Z,Bt.prototype.getResponseJson=Bt.prototype.Oa,Bt.prototype.getResponseText=Bt.prototype.oa,Bt.prototype.send=Bt.prototype.ea,Bt.prototype.setWithCredentials=Bt.prototype.Ha,X_=Bt}).apply(typeof Mo<"u"?Mo:typeof self<"u"?self:typeof window<"u"?window:{});const wy="@firebase/firestore",Dy="4.7.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ge.UNAUTHENTICATED=new Ge(null),Ge.GOOGLE_CREDENTIALS=new Ge("google-credentials-uid"),Ge.FIRST_PARTY=new Ge("first-party-uid"),Ge.MOCK_USER=new Ge("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rs="11.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha=new P_("@firebase/firestore");function cs(){return ha.logLevel}function it(a,...e){if(ha.logLevel<=Lt.DEBUG){const i=e.map(cd);ha.debug(`Firestore (${Rs}): ${a}`,...i)}}function Mi(a,...e){if(ha.logLevel<=Lt.ERROR){const i=e.map(cd);ha.error(`Firestore (${Rs}): ${a}`,...i)}}function ps(a,...e){if(ha.logLevel<=Lt.WARN){const i=e.map(cd);ha.warn(`Firestore (${Rs}): ${a}`,...i)}}function cd(a){if(typeof a=="string")return a;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mt(a,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,tv(a,s,i)}function tv(a,e,i){let s=`FIRESTORE (${Rs}) INTERNAL ASSERTION FAILED: ${e} (ID: ${a.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw Mi(s),new Error(s)}function qt(a,e,i,s){let u="Unexpected state";typeof i=="string"?u=i:s=i,a||tv(e,u,s)}function Et(a,e){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class rt extends ma{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ev{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class BA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(Ge.UNAUTHENTICATED))}shutdown(){}}class qA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class jA{constructor(e){this.t=e,this.currentUser=Ge.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){qt(this.o===void 0,42304);let s=this.i;const u=_=>this.i!==s?(s=this.i,i(_)):Promise.resolve();let h=new ca;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new ca,e.enqueueRetryable(()=>u(this.currentUser))};const d=()=>{const _=h;e.enqueueRetryable(async()=>{await _.promise,await u(this.currentUser)})},g=_=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(_=>g(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new ca)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==e?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(qt(typeof s.accessToken=="string",31837,{l:s}),new ev(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qt(e===null||typeof e=="string",2055,{h:e}),new Ge(e)}}class HA{constructor(e,i,s){this.P=e,this.T=i,this.I=s,this.type="FirstParty",this.user=Ge.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class GA{constructor(e,i,s){this.P=e,this.T=i,this.I=s}getToken(){return Promise.resolve(new HA(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable(()=>i(Ge.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Cy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class QA{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,j_(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){qt(this.o===void 0,3512);const s=h=>{h.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,it("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>s(h))};const u=h=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(h=>u(h)),setTimeout(()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?u(h):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Cy(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(qt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Cy(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FA(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<a;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nv(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const u=FA(40);for(let h=0;h<u.length;++h)s.length<20&&u[h]<i&&(s+=e.charAt(u[h]%62))}return s}}function Rt(a,e){return a<e?-1:a>e?1:0}function Gf(a,e){let i=0;for(;i<a.length&&i<e.length;){const s=a.codePointAt(i),u=e.codePointAt(i);if(s!==u){if(s<128&&u<128)return Rt(s,u);{const h=nv(),d=YA(h.encode(Iy(a,i)),h.encode(Iy(e,i)));return d!==0?d:Rt(s,u)}}i+=s>65535?2:1}return Rt(a.length,e.length)}function Iy(a,e){return a.codePointAt(e)>65535?a.substring(e,e+2):a.substring(e,e+1)}function YA(a,e){for(let i=0;i<a.length&&i<e.length;++i)if(a[i]!==e[i])return Rt(a[i],e[i]);return Rt(a.length,e.length)}function ys(a,e,i){return a.length===e.length&&a.every((s,u)=>i(s,e[u]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vy=-62135596800,Ny=1e6;class Ae{static now(){return Ae.fromMillis(Date.now())}static fromDate(e){return Ae.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*Ny);return new Ae(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new rt(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new rt(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Vy)throw new rt(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new rt(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ny}_compareTo(e){return this.seconds===e.seconds?Rt(this.nanoseconds,e.nanoseconds):Rt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Vy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{static fromTimestamp(e){return new _t(e)}static min(){return new _t(new Ae(0,0))}static max(){return new _t(new Ae(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oy="__name__";class ti{constructor(e,i,s){i===void 0?i=0:i>e.length&&mt(637,{offset:i,range:e.length}),s===void 0?s=e.length-i:s>e.length-i&&mt(1746,{length:s,range:e.length-i}),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return ti.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof ti?e.forEach(s=>{i.push(s)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let u=0;u<s;u++){const h=ti.compareSegments(e.get(u),i.get(u));if(h!==0)return h}return Rt(e.length,i.length)}static compareSegments(e,i){const s=ti.isNumericId(e),u=ti.isNumericId(i);return s&&!u?-1:!s&&u?1:s&&u?ti.extractNumericId(e).compare(ti.extractNumericId(i)):Gf(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return mr.fromString(e.substring(4,e.length-2))}}class Jt extends ti{construct(e,i,s){return new Jt(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new rt(K.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(u=>u.length>0))}return new Jt(i)}static emptyPath(){return new Jt([])}}const KA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pe extends ti{construct(e,i,s){return new Pe(e,i,s)}static isValidIdentifier(e){return KA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pe.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Oy}static keyField(){return new Pe([Oy])}static fromServerFormat(e){const i=[];let s="",u=0;const h=()=>{if(s.length===0)throw new rt(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;u<e.length;){const g=e[u];if(g==="\\"){if(u+1===e.length)throw new rt(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[u+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new rt(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=_,u+=2}else g==="`"?(d=!d,u++):g!=="."||d?(s+=g,u++):(h(),u++)}if(h(),d)throw new rt(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Pe(i)}static emptyPath(){return new Pe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e){this.path=e}static fromPath(e){return new ot(Jt.fromString(e))}static fromName(e){return new ot(Jt.fromString(e).popFirst(5))}static empty(){return new ot(Jt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Jt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Jt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ot(new Jt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zl=-1;function XA(a,e){const i=a.toTimestamp().seconds,s=a.toTimestamp().nanoseconds+1,u=_t.fromTimestamp(s===1e9?new Ae(i+1,0):new Ae(i,s));return new yr(u,ot.empty(),e)}function ZA(a){return new yr(a.readTime,a.key,Zl)}class yr{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new yr(_t.min(),ot.empty(),Zl)}static max(){return new yr(_t.max(),ot.empty(),Zl)}}function $A(a,e){let i=a.readTime.compareTo(e.readTime);return i!==0?i:(i=ot.comparator(a.documentKey,e.documentKey),i!==0?i:Rt(a.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class WA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ws(a){if(a.code!==K.FAILED_PRECONDITION||a.message!==JA)throw a;it("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&mt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Y((s,u)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(s,u)},this.catchCallback=h=>{this.wrapFailure(i,h).next(s,u)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof Y?i:Y.resolve(i)}catch(i){return Y.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):Y.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):Y.reject(i)}static resolve(e){return new Y((i,s)=>{i(e)})}static reject(e){return new Y((i,s)=>{s(e)})}static waitFor(e){return new Y((i,s)=>{let u=0,h=0,d=!1;e.forEach(g=>{++u,g.next(()=>{++h,d&&h===u&&i()},_=>s(_))}),d=!0,h===u&&i()})}static or(e){let i=Y.resolve(!1);for(const s of e)i=i.next(u=>u?Y.resolve(u):s());return i}static forEach(e,i){const s=[];return e.forEach((u,h)=>{s.push(i.call(this,u,h))}),this.waitFor(s)}static mapArray(e,i){return new Y((s,u)=>{const h=e.length,d=new Array(h);let g=0;for(let _=0;_<h;_++){const v=_;i(e[v]).next(A=>{d[v]=A,++g,g===h&&s(d)},A=>u(A))}})}static doWhile(e,i){return new Y((s,u)=>{const h=()=>{e()===!0?i().next(()=>{h()},u):s()};h()})}}function tS(a){const e=a.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Ds(a){return a.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>i.writeSequenceNumber(s))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}lc.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hd=-1;function uc(a){return a==null}function Ko(a){return a===0&&1/a==-1/0}function eS(a){return typeof a=="number"&&Number.isInteger(a)&&!Ko(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rv="";function nS(a){let e="";for(let i=0;i<a.length;i++)e.length>0&&(e=My(e)),e=iS(a.get(i),e);return My(e)}function iS(a,e){let i=e;const s=a.length;for(let u=0;u<s;u++){const h=a.charAt(u);switch(h){case"\0":i+="";break;case rv:i+="";break;default:i+=h}}return i}function My(a){return a+rv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xy(a){let e=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e++;return e}function Sr(a,e){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e(i,a[i])}function av(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e,i){this.comparator=e,this.root=i||ze.EMPTY}insert(e,i){return new ne(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,ze.BLACK,null,null))}remove(e){return new ne(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ze.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const u=this.comparator(e,s.key);if(u===0)return i+s.left.size;u<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,s)=>(e(i,s),!1))}toString(){const e=[];return this.inorderTraversal((i,s)=>(e.push(`${i}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xo(this.root,e,this.comparator,!1)}getReverseIterator(){return new xo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xo(this.root,e,this.comparator,!0)}}class xo{constructor(e,i,s,u){this.isReverse=u,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?s(e.key,i):1,i&&u&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ze{constructor(e,i,s,u,h){this.key=e,this.value=i,this.color=s??ze.RED,this.left=u??ze.EMPTY,this.right=h??ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,u,h){return new ze(e??this.key,i??this.value,s??this.color,u??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let u=this;const h=s(e,u.key);return u=h<0?u.copy(null,null,null,u.left.insert(e,i,s),null):h===0?u.copy(null,i,null,null,null):u.copy(null,null,null,null,u.right.insert(e,i,s)),u.fixUp()}removeMin(){if(this.left.isEmpty())return ze.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,u=this;if(i(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,i),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),i(e,u.key)===0){if(u.right.isEmpty())return ze.EMPTY;s=u.right.min(),u=u.copy(s.key,s.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,i))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw mt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw mt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw mt(27949);return e+(this.isRed()?0:1)}}ze.EMPTY=null,ze.RED=!0,ze.BLACK=!1;ze.EMPTY=new class{constructor(){this.size=0}get key(){throw mt(57766)}get value(){throw mt(16141)}get color(){throw mt(16727)}get left(){throw mt(29726)}get right(){throw mt(36894)}copy(e,i,s,u,h){return this}insert(e,i,s){return new ze(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.comparator=e,this.data=new ne(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,s)=>(e(i),!1))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const u=s.getNext();if(this.comparator(u.key,e[1])>=0)return;i(u.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Uy(this.data.getIterator())}getIteratorFrom(e){return new Uy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(s=>{i=i.add(s)}),i}isEqual(e){if(!(e instanceof Se)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=s.getNext().key;if(this.comparator(u,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new Se(this.comparator);return i.data=e,i}}class Uy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.fields=e,e.sort(Pe.comparator)}static empty(){return new fn([])}unionWith(e){let i=new Se(Pe.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new fn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return ys(this.fields,e.fields,(i,s)=>i.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(u){try{return atob(u)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new sv("Invalid base64 string: "+h):h}}(e);return new ke(i)}static fromUint8Array(e){const i=function(u){let h="";for(let d=0;d<u.length;++d)h+=String.fromCharCode(u[d]);return h}(e);return new ke(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let u=0;u<i.length;u++)s[u]=i.charCodeAt(u);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Rt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ke.EMPTY_BYTE_STRING=new ke("");const rS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _r(a){if(qt(!!a,39018),typeof a=="string"){let e=0;const i=rS.exec(a);if(qt(!!i,46558,{timestamp:a}),i[1]){let u=i[1];u=(u+"000000000").substr(0,9),e=Number(u)}const s=new Date(a);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ce(a.seconds),nanos:ce(a.nanos)}}function ce(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function vr(a){return typeof a=="string"?ke.fromBase64String(a):ke.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lv="server_timestamp",uv="__type__",ov="__previous_value__",cv="__local_write_time__";function fd(a){var e,i;return((i=(((e=a==null?void 0:a.mapValue)===null||e===void 0?void 0:e.fields)||{})[uv])===null||i===void 0?void 0:i.stringValue)===lv}function oc(a){const e=a.mapValue.fields[ov];return fd(e)?oc(e):e}function $l(a){const e=_r(a.mapValue.fields[cv].timestampValue);return new Ae(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(e,i,s,u,h,d,g,_,v){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=u,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=v}}const Xo="(default)";class Jl{constructor(e,i){this.projectId=e,this.database=i||Xo}static empty(){return new Jl("","")}get isDefaultDatabase(){return this.database===Xo}isEqual(e){return e instanceof Jl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hv="__type__",sS="__max__",Uo={mapValue:{}},fv="__vector__",Zo="value";function Er(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?fd(a)?4:uS(a)?9007199254740991:lS(a)?10:11:mt(28295,{value:a})}function ii(a,e){if(a===e)return!0;const i=Er(a);if(i!==Er(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return $l(a).isEqual($l(e));case 3:return function(u,h){if(typeof u.timestampValue=="string"&&typeof h.timestampValue=="string"&&u.timestampValue.length===h.timestampValue.length)return u.timestampValue===h.timestampValue;const d=_r(u.timestampValue),g=_r(h.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(a,e);case 5:return a.stringValue===e.stringValue;case 6:return function(u,h){return vr(u.bytesValue).isEqual(vr(h.bytesValue))}(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return function(u,h){return ce(u.geoPointValue.latitude)===ce(h.geoPointValue.latitude)&&ce(u.geoPointValue.longitude)===ce(h.geoPointValue.longitude)}(a,e);case 2:return function(u,h){if("integerValue"in u&&"integerValue"in h)return ce(u.integerValue)===ce(h.integerValue);if("doubleValue"in u&&"doubleValue"in h){const d=ce(u.doubleValue),g=ce(h.doubleValue);return d===g?Ko(d)===Ko(g):isNaN(d)&&isNaN(g)}return!1}(a,e);case 9:return ys(a.arrayValue.values||[],e.arrayValue.values||[],ii);case 10:case 11:return function(u,h){const d=u.mapValue.fields||{},g=h.mapValue.fields||{};if(xy(d)!==xy(g))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(g[_]===void 0||!ii(d[_],g[_])))return!1;return!0}(a,e);default:return mt(52216,{left:a})}}function Wl(a,e){return(a.values||[]).find(i=>ii(i,e))!==void 0}function _s(a,e){if(a===e)return 0;const i=Er(a),s=Er(e);if(i!==s)return Rt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Rt(a.booleanValue,e.booleanValue);case 2:return function(h,d){const g=ce(h.integerValue||h.doubleValue),_=ce(d.integerValue||d.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1}(a,e);case 3:return Ly(a.timestampValue,e.timestampValue);case 4:return Ly($l(a),$l(e));case 5:return Gf(a.stringValue,e.stringValue);case 6:return function(h,d){const g=vr(h),_=vr(d);return g.compareTo(_)}(a.bytesValue,e.bytesValue);case 7:return function(h,d){const g=h.split("/"),_=d.split("/");for(let v=0;v<g.length&&v<_.length;v++){const A=Rt(g[v],_[v]);if(A!==0)return A}return Rt(g.length,_.length)}(a.referenceValue,e.referenceValue);case 8:return function(h,d){const g=Rt(ce(h.latitude),ce(d.latitude));return g!==0?g:Rt(ce(h.longitude),ce(d.longitude))}(a.geoPointValue,e.geoPointValue);case 9:return zy(a.arrayValue,e.arrayValue);case 10:return function(h,d){var g,_,v,A;const D=h.fields||{},U=d.fields||{},j=(g=D[Zo])===null||g===void 0?void 0:g.arrayValue,$=(_=U[Zo])===null||_===void 0?void 0:_.arrayValue,tt=Rt(((v=j==null?void 0:j.values)===null||v===void 0?void 0:v.length)||0,((A=$==null?void 0:$.values)===null||A===void 0?void 0:A.length)||0);return tt!==0?tt:zy(j,$)}(a.mapValue,e.mapValue);case 11:return function(h,d){if(h===Uo.mapValue&&d===Uo.mapValue)return 0;if(h===Uo.mapValue)return 1;if(d===Uo.mapValue)return-1;const g=h.fields||{},_=Object.keys(g),v=d.fields||{},A=Object.keys(v);_.sort(),A.sort();for(let D=0;D<_.length&&D<A.length;++D){const U=Gf(_[D],A[D]);if(U!==0)return U;const j=_s(g[_[D]],v[A[D]]);if(j!==0)return j}return Rt(_.length,A.length)}(a.mapValue,e.mapValue);default:throw mt(23264,{Pe:i})}}function Ly(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return Rt(a,e);const i=_r(a),s=_r(e),u=Rt(i.seconds,s.seconds);return u!==0?u:Rt(i.nanos,s.nanos)}function zy(a,e){const i=a.values||[],s=e.values||[];for(let u=0;u<i.length&&u<s.length;++u){const h=_s(i[u],s[u]);if(h)return h}return Rt(i.length,s.length)}function vs(a){return Qf(a)}function Qf(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?function(i){const s=_r(i);return`time(${s.seconds},${s.nanos})`}(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?function(i){return vr(i).toBase64()}(a.bytesValue):"referenceValue"in a?function(i){return ot.fromName(i).toString()}(a.referenceValue):"geoPointValue"in a?function(i){return`geo(${i.latitude},${i.longitude})`}(a.geoPointValue):"arrayValue"in a?function(i){let s="[",u=!0;for(const h of i.values||[])u?u=!1:s+=",",s+=Qf(h);return s+"]"}(a.arrayValue):"mapValue"in a?function(i){const s=Object.keys(i.fields||{}).sort();let u="{",h=!0;for(const d of s)h?h=!1:u+=",",u+=`${d}:${Qf(i.fields[d])}`;return u+"}"}(a.mapValue):mt(61005,{value:a})}function Bo(a){switch(Er(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=oc(a);return e?16+Bo(e):16;case 5:return 2*a.stringValue.length;case 6:return vr(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((u,h)=>u+Bo(h),0)}(a.arrayValue);case 10:case 11:return function(s){let u=0;return Sr(s.fields,(h,d)=>{u+=h.length+Bo(d)}),u}(a.mapValue);default:throw mt(13486,{value:a})}}function Py(a,e){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${e.path.canonicalString()}`}}function Ff(a){return!!a&&"integerValue"in a}function dd(a){return!!a&&"arrayValue"in a}function ky(a){return!!a&&"nullValue"in a}function By(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function qo(a){return!!a&&"mapValue"in a}function lS(a){var e,i;return((i=(((e=a==null?void 0:a.mapValue)===null||e===void 0?void 0:e.fields)||{})[hv])===null||i===void 0?void 0:i.stringValue)===fv}function Gl(a){if(a.geoPointValue)return{geoPointValue:Object.assign({},a.geoPointValue)};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:Object.assign({},a.timestampValue)};if(a.mapValue){const e={mapValue:{fields:{}}};return Sr(a.mapValue.fields,(i,s)=>e.mapValue.fields[i]=Gl(s)),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Gl(a.arrayValue.values[i]);return e}return Object.assign({},a)}function uS(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===sS}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.value=e}static empty(){return new tn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!qo(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Gl(i)}setAll(e){let i=Pe.emptyPath(),s={},u=[];e.forEach((d,g)=>{if(!i.isImmediateParentOf(g)){const _=this.getFieldsMap(i);this.applyChanges(_,s,u),s={},u=[],i=g.popLast()}d?s[g.lastSegment()]=Gl(d):u.push(g.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,s,u)}delete(e){const i=this.field(e.popLast());qo(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ii(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let u=i.mapValue.fields[e.get(s)];qo(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=u),i=u}return i.mapValue.fields}applyChanges(e,i,s){Sr(i,(u,h)=>e[u]=h);for(const u of s)delete e[u]}clone(){return new tn(Gl(this.value))}}function dv(a){const e=[];return Sr(a.fields,(i,s)=>{const u=new Pe([i]);if(qo(s)){const h=dv(s.mapValue).fields;if(h.length===0)e.push(u);else for(const d of h)e.push(u.child(d))}else e.push(u)}),new fn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e,i,s,u,h,d,g){this.key=e,this.documentType=i,this.version=s,this.readTime=u,this.createTime=h,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Qe(e,0,_t.min(),_t.min(),_t.min(),tn.empty(),0)}static newFoundDocument(e,i,s,u){return new Qe(e,1,i,_t.min(),s,u,0)}static newNoDocument(e,i){return new Qe(e,2,i,_t.min(),_t.min(),tn.empty(),0)}static newUnknownDocument(e,i){return new Qe(e,3,i,_t.min(),_t.min(),tn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(_t.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=tn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_t.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Qe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e,i){this.position=e,this.inclusive=i}}function qy(a,e,i){let s=0;for(let u=0;u<a.position.length;u++){const h=e[u],d=a.position[u];if(h.field.isKeyField()?s=ot.comparator(ot.fromName(d.referenceValue),i.key):s=_s(d,i.data.field(h.field)),h.dir==="desc"&&(s*=-1),s!==0)break}return s}function jy(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!ii(a.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(e,i="asc"){this.field=e,this.dir=i}}function oS(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{}class pe extends mv{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new hS(e,i,s):i==="array-contains"?new mS(e,s):i==="in"?new gS(e,s):i==="not-in"?new pS(e,s):i==="array-contains-any"?new yS(e,s):new pe(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new fS(e,s):new dS(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(_s(i,this.value)):i!==null&&Er(this.value)===Er(i)&&this.matchesComparison(_s(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return mt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ln extends mv{constructor(e,i){super(),this.filters=e,this.op=i,this.Te=null}static create(e,i){return new Ln(e,i)}matches(e){return gv(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function gv(a){return a.op==="and"}function pv(a){return cS(a)&&gv(a)}function cS(a){for(const e of a.filters)if(e instanceof Ln)return!1;return!0}function Yf(a){if(a instanceof pe)return a.field.canonicalString()+a.op.toString()+vs(a.value);if(pv(a))return a.filters.map(e=>Yf(e)).join(",");{const e=a.filters.map(i=>Yf(i)).join(",");return`${a.op}(${e})`}}function yv(a,e){return a instanceof pe?function(s,u){return u instanceof pe&&s.op===u.op&&s.field.isEqual(u.field)&&ii(s.value,u.value)}(a,e):a instanceof Ln?function(s,u){return u instanceof Ln&&s.op===u.op&&s.filters.length===u.filters.length?s.filters.reduce((h,d,g)=>h&&yv(d,u.filters[g]),!0):!1}(a,e):void mt(19439)}function _v(a){return a instanceof pe?function(i){return`${i.field.canonicalString()} ${i.op} ${vs(i.value)}`}(a):a instanceof Ln?function(i){return i.op.toString()+" {"+i.getFilters().map(_v).join(" ,")+"}"}(a):"Filter"}class hS extends pe{constructor(e,i,s){super(e,i,s),this.key=ot.fromName(s.referenceValue)}matches(e){const i=ot.comparator(e.key,this.key);return this.matchesComparison(i)}}class fS extends pe{constructor(e,i){super(e,"in",i),this.keys=vv("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class dS extends pe{constructor(e,i){super(e,"not-in",i),this.keys=vv("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function vv(a,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(s=>ot.fromName(s.referenceValue))}class mS extends pe{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return dd(i)&&Wl(i.arrayValue,this.value)}}class gS extends pe{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Wl(this.value.arrayValue,i)}}class pS extends pe{constructor(e,i){super(e,"not-in",i)}matches(e){if(Wl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Wl(this.value.arrayValue,i)}}class yS extends pe{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!dd(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>Wl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(e,i=null,s=[],u=[],h=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=u,this.limit=h,this.startAt=d,this.endAt=g,this.Ie=null}}function Hy(a,e=null,i=[],s=[],u=null,h=null,d=null){return new _S(a,e,i,s,u,h,d)}function md(a){const e=Et(a);if(e.Ie===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(s=>Yf(s)).join(","),i+="|ob:",i+=e.orderBy.map(s=>function(h){return h.field.canonicalString()+h.dir}(s)).join(","),uc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(s=>vs(s)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(s=>vs(s)).join(",")),e.Ie=i}return e.Ie}function gd(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!oS(a.orderBy[i],e.orderBy[i]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!yv(a.filters[i],e.filters[i]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!jy(a.startAt,e.startAt)&&jy(a.endAt,e.endAt)}function Kf(a){return ot.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e,i=null,s=[],u=[],h=null,d="F",g=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=u,this.limit=h,this.limitType=d,this.startAt=g,this.endAt=_,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function vS(a,e,i,s,u,h,d,g){return new Cs(a,e,i,s,u,h,d,g)}function pd(a){return new Cs(a)}function Gy(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function Ev(a){return a.collectionGroup!==null}function Ql(a){const e=Et(a);if(e.Ee===null){e.Ee=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ee.push(h),i.add(h.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Se(Pe.comparator);return d.filters.forEach(_=>{_.getFlattenedFilters().forEach(v=>{v.isInequality()&&(g=g.add(v.field))})}),g})(e).forEach(h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ee.push(new tu(h,s))}),i.has(Pe.keyField().canonicalString())||e.Ee.push(new tu(Pe.keyField(),s))}return e.Ee}function ei(a){const e=Et(a);return e.de||(e.de=ES(e,Ql(a))),e.de}function ES(a,e){if(a.limitType==="F")return Hy(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map(u=>{const h=u.dir==="desc"?"asc":"desc";return new tu(u.field,h)});const i=a.endAt?new $o(a.endAt.position,a.endAt.inclusive):null,s=a.startAt?new $o(a.startAt.position,a.startAt.inclusive):null;return Hy(a.path,a.collectionGroup,e,a.filters,a.limit,i,s)}}function Xf(a,e){const i=a.filters.concat([e]);return new Cs(a.path,a.collectionGroup,a.explicitOrderBy.slice(),i,a.limit,a.limitType,a.startAt,a.endAt)}function Zf(a,e,i){return new Cs(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,i,a.startAt,a.endAt)}function cc(a,e){return gd(ei(a),ei(e))&&a.limitType===e.limitType}function Tv(a){return`${md(ei(a))}|lt:${a.limitType}`}function hs(a){return`Query(target=${function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(u=>_v(u)).join(", ")}]`),uc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(u=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(u)).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(u=>vs(u)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(u=>vs(u)).join(",")),`Target(${s})`}(ei(a))}; limitType=${a.limitType})`}function hc(a,e){return e.isFoundDocument()&&function(s,u){const h=u.key.path;return s.collectionGroup!==null?u.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(h):ot.isDocumentKey(s.path)?s.path.isEqual(h):s.path.isImmediateParentOf(h)}(a,e)&&function(s,u){for(const h of Ql(s))if(!h.field.isKeyField()&&u.data.field(h.field)===null)return!1;return!0}(a,e)&&function(s,u){for(const h of s.filters)if(!h.matches(u))return!1;return!0}(a,e)&&function(s,u){return!(s.startAt&&!function(d,g,_){const v=qy(d,g,_);return d.inclusive?v<=0:v<0}(s.startAt,Ql(s),u)||s.endAt&&!function(d,g,_){const v=qy(d,g,_);return d.inclusive?v>=0:v>0}(s.endAt,Ql(s),u))}(a,e)}function TS(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function Av(a){return(e,i)=>{let s=!1;for(const u of Ql(a)){const h=AS(u,e,i);if(h!==0)return h;s=s||u.field.isKeyField()}return 0}}function AS(a,e,i){const s=a.field.isKeyField()?ot.comparator(e.key,i.key):function(h,d,g){const _=d.data.field(h),v=g.data.field(h);return _!==null&&v!==null?_s(_,v):mt(42886)}(a.field,e,i);switch(a.dir){case"asc":return s;case"desc":return-1*s;default:return mt(19790,{direction:a.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[u,h]of s)if(this.equalsFn(u,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),u=this.inner[s];if(u===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let h=0;h<u.length;h++)if(this.equalsFn(u[h][0],e))return void(u[h]=[e,i]);u.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let u=0;u<s.length;u++)if(this.equalsFn(s[u][0],e))return s.length===1?delete this.inner[i]:s.splice(u,1),this.innerSize--,!0;return!1}forEach(e){Sr(this.inner,(i,s)=>{for(const[u,h]of s)e(u,h)})}isEmpty(){return av(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SS=new ne(ot.comparator);function xi(){return SS}const Sv=new ne(ot.comparator);function ql(...a){let e=Sv;for(const i of a)e=e.insert(i.key,i);return e}function bv(a){let e=Sv;return a.forEach((i,s)=>e=e.insert(i,s.overlayedDocument)),e}function oa(){return Fl()}function Rv(){return Fl()}function Fl(){return new ga(a=>a.toString(),(a,e)=>a.isEqual(e))}const bS=new ne(ot.comparator),RS=new Se(ot.comparator);function Vt(...a){let e=RS;for(const i of a)e=e.add(i);return e}const wS=new Se(Rt);function DS(){return wS}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yd(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ko(e)?"-0":e}}function wv(a){return{integerValue:""+a}}function CS(a,e){return eS(e)?wv(e):yd(a,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(){this._=void 0}}function IS(a,e,i){return a instanceof Jo?function(u,h){const d={fields:{[uv]:{stringValue:lv},[cv]:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return h&&fd(h)&&(h=oc(h)),h&&(d.fields[ov]=h),{mapValue:d}}(i,e):a instanceof eu?Cv(a,e):a instanceof nu?Iv(a,e):function(u,h){const d=Dv(u,h),g=Qy(d)+Qy(u.Re);return Ff(d)&&Ff(u.Re)?wv(g):yd(u.serializer,g)}(a,e)}function VS(a,e,i){return a instanceof eu?Cv(a,e):a instanceof nu?Iv(a,e):i}function Dv(a,e){return a instanceof Wo?function(s){return Ff(s)||function(h){return!!h&&"doubleValue"in h}(s)}(e)?e:{integerValue:0}:null}class Jo extends fc{}class eu extends fc{constructor(e){super(),this.elements=e}}function Cv(a,e){const i=Vv(e);for(const s of a.elements)i.some(u=>ii(u,s))||i.push(s);return{arrayValue:{values:i}}}class nu extends fc{constructor(e){super(),this.elements=e}}function Iv(a,e){let i=Vv(e);for(const s of a.elements)i=i.filter(u=>!ii(u,s));return{arrayValue:{values:i}}}class Wo extends fc{constructor(e,i){super(),this.serializer=e,this.Re=i}}function Qy(a){return ce(a.integerValue||a.doubleValue)}function Vv(a){return dd(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function NS(a,e){return a.field.isEqual(e.field)&&function(s,u){return s instanceof eu&&u instanceof eu||s instanceof nu&&u instanceof nu?ys(s.elements,u.elements,ii):s instanceof Wo&&u instanceof Wo?ii(s.Re,u.Re):s instanceof Jo&&u instanceof Jo}(a.transform,e.transform)}class OS{constructor(e,i){this.version=e,this.transformResults=i}}class xn{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new xn}static exists(e){return new xn(void 0,e)}static updateTime(e){return new xn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function jo(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class dc{}function Nv(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new _d(a.key,xn.none()):new iu(a.key,a.data,xn.none());{const i=a.data,s=tn.empty();let u=new Se(Pe.comparator);for(let h of e.fields)if(!u.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?s.delete(h):s.set(h,d),u=u.add(h)}return new br(a.key,s,new fn(u.toArray()),xn.none())}}function MS(a,e,i){a instanceof iu?function(u,h,d){const g=u.value.clone(),_=Yy(u.fieldTransforms,h,d.transformResults);g.setAll(_),h.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(a,e,i):a instanceof br?function(u,h,d){if(!jo(u.precondition,h))return void h.convertToUnknownDocument(d.version);const g=Yy(u.fieldTransforms,h,d.transformResults),_=h.data;_.setAll(Ov(u)),_.setAll(g),h.convertToFoundDocument(d.version,_).setHasCommittedMutations()}(a,e,i):function(u,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function Yl(a,e,i,s){return a instanceof iu?function(h,d,g,_){if(!jo(h.precondition,d))return g;const v=h.value.clone(),A=Ky(h.fieldTransforms,_,d);return v.setAll(A),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null}(a,e,i,s):a instanceof br?function(h,d,g,_){if(!jo(h.precondition,d))return g;const v=Ky(h.fieldTransforms,_,d),A=d.data;return A.setAll(Ov(h)),A.setAll(v),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(D=>D.field))}(a,e,i,s):function(h,d,g){return jo(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(a,e,i)}function xS(a,e){let i=null;for(const s of a.fieldTransforms){const u=e.data.field(s.field),h=Dv(s.transform,u||null);h!=null&&(i===null&&(i=tn.empty()),i.set(s.field,h))}return i||null}function Fy(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!function(s,u){return s===void 0&&u===void 0||!(!s||!u)&&ys(s,u,(h,d)=>NS(h,d))}(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class iu extends dc{constructor(e,i,s,u=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class br extends dc{constructor(e,i,s,u,h=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=u,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function Ov(a){const e=new Map;return a.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=a.data.field(i);e.set(i,s)}}),e}function Yy(a,e,i){const s=new Map;qt(a.length===i.length,32656,{Ve:i.length,me:a.length});for(let u=0;u<i.length;u++){const h=a[u],d=h.transform,g=e.data.field(h.field);s.set(h.field,VS(d,g,i[u]))}return s}function Ky(a,e,i){const s=new Map;for(const u of a){const h=u.transform,d=i.data.field(u.field);s.set(u.field,IS(h,d,e))}return s}class _d extends dc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class US extends dc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(e,i,s,u){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=u}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let u=0;u<this.mutations.length;u++){const h=this.mutations[u];h.key.isEqual(e.key)&&MS(h,e,s[u])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=Yl(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=Yl(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=Rv();return this.mutations.forEach(u=>{const h=e.get(u.key),d=h.overlayedDocument;let g=this.applyToLocalView(d,h.mutatedFields);g=i.has(u.key)?null:g;const _=Nv(d,g);_!==null&&s.set(u.key,_),d.isValidDocument()||d.convertToNoDocument(_t.min())}),s}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),Vt())}isEqual(e){return this.batchId===e.batchId&&ys(this.mutations,e.mutations,(i,s)=>Fy(i,s))&&ys(this.baseMutations,e.baseMutations,(i,s)=>Fy(i,s))}}class vd{constructor(e,i,s,u){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=u}static from(e,i,s){qt(e.mutations.length===s.length,58842,{fe:e.mutations.length,ge:s.length});let u=function(){return bS}();const h=e.mutations;for(let d=0;d<h.length;d++)u=u.insert(h[d].key,s[d].version);return new vd(e,i,s,u)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ge,Ut;function kS(a){switch(a){case K.OK:return mt(64938);case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return mt(15467,{code:a})}}function Mv(a){if(a===void 0)return Mi("GRPC error has no .code"),K.UNKNOWN;switch(a){case ge.OK:return K.OK;case ge.CANCELLED:return K.CANCELLED;case ge.UNKNOWN:return K.UNKNOWN;case ge.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case ge.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case ge.INTERNAL:return K.INTERNAL;case ge.UNAVAILABLE:return K.UNAVAILABLE;case ge.UNAUTHENTICATED:return K.UNAUTHENTICATED;case ge.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case ge.NOT_FOUND:return K.NOT_FOUND;case ge.ALREADY_EXISTS:return K.ALREADY_EXISTS;case ge.PERMISSION_DENIED:return K.PERMISSION_DENIED;case ge.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case ge.ABORTED:return K.ABORTED;case ge.OUT_OF_RANGE:return K.OUT_OF_RANGE;case ge.UNIMPLEMENTED:return K.UNIMPLEMENTED;case ge.DATA_LOSS:return K.DATA_LOSS;default:return mt(39323,{code:a})}}(Ut=ge||(ge={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BS=new mr([4294967295,4294967295],0);function Xy(a){const e=nv().encode(a),i=new K_;return i.update(e),new Uint8Array(i.digest())}function Zy(a){const e=new DataView(a.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),u=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new mr([i,s],0),new mr([u,h],0)]}class Ed{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new jl(`Invalid padding: ${i}`);if(s<0)throw new jl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new jl(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new jl(`Invalid padding when bitmap length is 0: ${i}`);this.pe=8*e.length-i,this.ye=mr.fromNumber(this.pe)}we(e,i,s){let u=e.add(i.multiply(mr.fromNumber(s)));return u.compare(BS)===1&&(u=new mr([u.getBits(0),u.getBits(1)],0)),u.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const i=Xy(e),[s,u]=Zy(i);for(let h=0;h<this.hashCount;h++){const d=this.we(s,u,h);if(!this.be(d))return!1}return!0}static create(e,i,s){const u=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new Ed(h,u,i);return s.forEach(g=>d.insert(g)),d}insert(e){if(this.pe===0)return;const i=Xy(e),[s,u]=Zy(i);for(let h=0;h<this.hashCount;h++){const d=this.we(s,u,h);this.Se(d)}}Se(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class jl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e,i,s,u,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=u,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const u=new Map;return u.set(e,ru.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new mc(_t.min(),u,new ne(Rt),xi(),Vt())}}class ru{constructor(e,i,s,u,h){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=u,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new ru(s,i,Vt(),Vt(),Vt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e,i,s,u){this.De=e,this.removedTargetIds=i,this.key=s,this.ve=u}}class xv{constructor(e,i){this.targetId=e,this.Ce=i}}class Uv{constructor(e,i,s=ke.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=u}}class $y{constructor(){this.Fe=0,this.Me=Jy(),this.xe=ke.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Vt(),i=Vt(),s=Vt();return this.Me.forEach((u,h)=>{switch(h){case 0:e=e.add(u);break;case 2:i=i.add(u);break;case 1:s=s.add(u);break;default:mt(38017,{changeType:h})}}),new ru(this.xe,this.Oe,e,i,s)}Qe(){this.Ne=!1,this.Me=Jy()}$e(e,i){this.Ne=!0,this.Me=this.Me.insert(e,i)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,qt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class qS{constructor(e){this.ze=e,this.je=new Map,this.He=xi(),this.Je=Lo(),this.Ye=Lo(),this.Ze=new ne(Rt)}Xe(e){for(const i of e.De)e.ve&&e.ve.isFoundDocument()?this.et(i,e.ve):this.tt(i,e.key,e.ve);for(const i of e.removedTargetIds)this.tt(i,e.key,e.ve)}nt(e){this.forEachTarget(e,i=>{const s=this.rt(i);switch(e.state){case 0:this.it(i)&&s.ke(e.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(e.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(i);break;case 3:this.it(i)&&(s.Ge(),s.ke(e.resumeToken));break;case 4:this.it(i)&&(this.st(i),s.ke(e.resumeToken));break;default:mt(56790,{state:e.state})}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.je.forEach((s,u)=>{this.it(u)&&i(u)})}ot(e){const i=e.targetId,s=e.Ce.count,u=this._t(i);if(u){const h=u.target;if(Kf(h))if(s===0){const d=new ot(h.path);this.tt(i,d,Qe.newNoDocument(d,_t.min()))}else qt(s===1,20013,{expectedCount:s});else{const d=this.ut(i);if(d!==s){const g=this.ct(e),_=g?this.lt(g,e,d):1;if(_!==0){this.st(i);const v=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,v)}}}}}ct(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:u=0},hashCount:h=0}=i;let d,g;try{d=vr(s).toUint8Array()}catch(_){if(_ instanceof sv)return ps("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new Ed(d,u,h)}catch(_){return ps(_ instanceof jl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.pe===0?null:g}lt(e,i,s){return i.Ce.count===s-this.Tt(e,i.targetId)?0:2}Tt(e,i){const s=this.ze.getRemoteKeysForTarget(i);let u=0;return s.forEach(h=>{const d=this.ze.Pt(),g=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(g)||(this.tt(i,h,null),u++)}),u}It(e){const i=new Map;this.je.forEach((h,d)=>{const g=this._t(d);if(g){if(h.current&&Kf(g.target)){const _=new ot(g.target.path);this.Et(_).has(d)||this.dt(d,_)||this.tt(d,_,Qe.newNoDocument(_,e))}h.Le&&(i.set(d,h.qe()),h.Qe())}});let s=Vt();this.Ye.forEach((h,d)=>{let g=!0;d.forEachWhile(_=>{const v=this._t(_);return!v||v.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(s=s.add(h))}),this.He.forEach((h,d)=>d.setReadTime(e));const u=new mc(e,i,this.Ze,this.He,s);return this.He=xi(),this.Je=Lo(),this.Ye=Lo(),this.Ze=new ne(Rt),u}et(e,i){if(!this.it(e))return;const s=this.dt(e,i.key)?2:0;this.rt(e).$e(i.key,s),this.He=this.He.insert(i.key,i),this.Je=this.Je.insert(i.key,this.Et(i.key).add(e)),this.Ye=this.Ye.insert(i.key,this.At(i.key).add(e))}tt(e,i,s){if(!this.it(e))return;const u=this.rt(e);this.dt(e,i)?u.$e(i,1):u.Ue(i),this.Ye=this.Ye.insert(i,this.At(i).delete(e)),this.Ye=this.Ye.insert(i,this.At(i).add(e)),s&&(this.He=this.He.insert(i,s))}removeTarget(e){this.je.delete(e)}ut(e){const i=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let i=this.je.get(e);return i||(i=new $y,this.je.set(e,i)),i}At(e){let i=this.Ye.get(e);return i||(i=new Se(Rt),this.Ye=this.Ye.insert(e,i)),i}Et(e){let i=this.Je.get(e);return i||(i=new Se(Rt),this.Je=this.Je.insert(e,i)),i}it(e){const i=this._t(e)!==null;return i||it("WatchChangeAggregator","Detected inactive target",e),i}_t(e){const i=this.je.get(e);return i&&i.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new $y),this.ze.getRemoteKeysForTarget(e).forEach(i=>{this.tt(e,i,null)})}dt(e,i){return this.ze.getRemoteKeysForTarget(e).has(i)}}function Lo(){return new ne(ot.comparator)}function Jy(){return new ne(ot.comparator)}const jS={asc:"ASCENDING",desc:"DESCENDING"},HS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},GS={and:"AND",or:"OR"};class QS{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function $f(a,e){return a.useProto3Json||uc(e)?e:{value:e}}function tc(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Lv(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function FS(a,e){return tc(a,e.toTimestamp())}function ni(a){return qt(!!a,49232),_t.fromTimestamp(function(i){const s=_r(i);return new Ae(s.seconds,s.nanos)}(a))}function Td(a,e){return Jf(a,e).canonicalString()}function Jf(a,e){const i=function(u){return new Jt(["projects",u.projectId,"databases",u.database])}(a).child("documents");return e===void 0?i:i.child(e)}function zv(a){const e=Jt.fromString(a);return qt(jv(e),10190,{key:e.toString()}),e}function Wf(a,e){return Td(a.databaseId,e.path)}function Mf(a,e){const i=zv(e);if(i.get(1)!==a.databaseId.projectId)throw new rt(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new rt(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new ot(kv(i))}function Pv(a,e){return Td(a.databaseId,e)}function YS(a){const e=zv(a);return e.length===4?Jt.emptyPath():kv(e)}function td(a){return new Jt(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function kv(a){return qt(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function Wy(a,e,i){return{name:Wf(a,e),fields:i.value.mapValue.fields}}function KS(a,e){let i;if("targetChange"in e){e.targetChange;const s=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:mt(39313,{state:v})}(e.targetChange.targetChangeType||"NO_CHANGE"),u=e.targetChange.targetIds||[],h=function(v,A){return v.useProto3Json?(qt(A===void 0||typeof A=="string",58123),ke.fromBase64String(A||"")):(qt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),ke.fromUint8Array(A||new Uint8Array))}(a,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&function(v){const A=v.code===void 0?K.UNKNOWN:Mv(v.code);return new rt(A,v.message||"")}(d);i=new Uv(s,u,h,g||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const u=Mf(a,s.document.name),h=ni(s.document.updateTime),d=s.document.createTime?ni(s.document.createTime):_t.min(),g=new tn({mapValue:{fields:s.document.fields}}),_=Qe.newFoundDocument(u,h,d,g),v=s.targetIds||[],A=s.removedTargetIds||[];i=new Ho(v,A,_.key,_)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const u=Mf(a,s.document),h=s.readTime?ni(s.readTime):_t.min(),d=Qe.newNoDocument(u,h),g=s.removedTargetIds||[];i=new Ho([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const u=Mf(a,s.document),h=s.removedTargetIds||[];i=new Ho([],h,u,null)}else{if(!("filter"in e))return mt(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:u=0,unchangedNames:h}=s,d=new PS(u,h),g=s.targetId;i=new xv(g,d)}}return i}function XS(a,e){let i;if(e instanceof iu)i={update:Wy(a,e.key,e.value)};else if(e instanceof _d)i={delete:Wf(a,e.key)};else if(e instanceof br)i={update:Wy(a,e.key,e.data),updateMask:rb(e.fieldMask)};else{if(!(e instanceof US))return mt(16599,{ft:e.type});i={verify:Wf(a,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(s=>function(h,d){const g=d.transform;if(g instanceof Jo)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof eu)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof nu)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Wo)return{fieldPath:d.field.canonicalString(),increment:g.Re};throw mt(20930,{transform:d.transform})}(0,s))),e.precondition.isNone||(i.currentDocument=function(u,h){return h.updateTime!==void 0?{updateTime:FS(u,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:mt(27497)}(a,e.precondition)),i}function ZS(a,e){return a&&a.length>0?(qt(e!==void 0,14353),a.map(i=>function(u,h){let d=u.updateTime?ni(u.updateTime):ni(h);return d.isEqual(_t.min())&&(d=ni(h)),new OS(d,u.transformResults||[])}(i,e))):[]}function $S(a,e){return{documents:[Pv(a,e.path)]}}function JS(a,e){const i={structuredQuery:{}},s=e.path;let u;e.collectionGroup!==null?(u=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(u=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=Pv(a,u);const h=function(v){if(v.length!==0)return qv(Ln.create(v,"and"))}(e.filters);h&&(i.structuredQuery.where=h);const d=function(v){if(v.length!==0)return v.map(A=>function(U){return{field:fs(U.field),direction:eb(U.dir)}}(A))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=$f(a,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(e.endAt)),{gt:i,parent:u}}function WS(a){let e=YS(a.parent);const i=a.structuredQuery,s=i.from?i.from.length:0;let u=null;if(s>0){qt(s===1,65062);const A=i.from[0];A.allDescendants?u=A.collectionId:e=e.child(A.collectionId)}let h=[];i.where&&(h=function(D){const U=Bv(D);return U instanceof Ln&&pv(U)?U.getFilters():[U]}(i.where));let d=[];i.orderBy&&(d=function(D){return D.map(U=>function($){return new tu(ds($.field),function(X){switch(X){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}($.direction))}(U))}(i.orderBy));let g=null;i.limit&&(g=function(D){let U;return U=typeof D=="object"?D.value:D,uc(U)?null:U}(i.limit));let _=null;i.startAt&&(_=function(D){const U=!!D.before,j=D.values||[];return new $o(j,U)}(i.startAt));let v=null;return i.endAt&&(v=function(D){const U=!D.before,j=D.values||[];return new $o(j,U)}(i.endAt)),vS(e,u,d,h,g,"F",_,v)}function tb(a,e){const i=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return mt(28987,{purpose:u})}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function Bv(a){return a.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=ds(i.unaryFilter.field);return pe.create(s,"==",{doubleValue:NaN});case"IS_NULL":const u=ds(i.unaryFilter.field);return pe.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=ds(i.unaryFilter.field);return pe.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=ds(i.unaryFilter.field);return pe.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return mt(61313);default:return mt(60726)}}(a):a.fieldFilter!==void 0?function(i){return pe.create(ds(i.fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return mt(58110);default:return mt(50506)}}(i.fieldFilter.op),i.fieldFilter.value)}(a):a.compositeFilter!==void 0?function(i){return Ln.create(i.compositeFilter.filters.map(s=>Bv(s)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return mt(1026)}}(i.compositeFilter.op))}(a):mt(30097,{filter:a})}function eb(a){return jS[a]}function nb(a){return HS[a]}function ib(a){return GS[a]}function fs(a){return{fieldPath:a.canonicalString()}}function ds(a){return Pe.fromServerFormat(a.fieldPath)}function qv(a){return a instanceof pe?function(i){if(i.op==="=="){if(By(i.value))return{unaryFilter:{field:fs(i.field),op:"IS_NAN"}};if(ky(i.value))return{unaryFilter:{field:fs(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(By(i.value))return{unaryFilter:{field:fs(i.field),op:"IS_NOT_NAN"}};if(ky(i.value))return{unaryFilter:{field:fs(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fs(i.field),op:nb(i.op),value:i.value}}}(a):a instanceof Ln?function(i){const s=i.getFilters().map(u=>qv(u));return s.length===1?s[0]:{compositeFilter:{op:ib(i.op),filters:s}}}(a):mt(54877,{filter:a})}function rb(a){const e=[];return a.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function jv(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e,i,s,u,h=_t.min(),d=_t.min(),g=ke.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=u,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(e){return new cr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new cr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new cr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new cr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(e){this.wt=e}}function sb(a){const e=WS({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?Zf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{constructor(){this.yn=new ub}addToCollectionParentIndex(e,i){return this.yn.add(i),Y.resolve()}getCollectionParents(e,i){return Y.resolve(this.yn.getEntries(i))}addFieldIndex(e,i){return Y.resolve()}deleteFieldIndex(e,i){return Y.resolve()}deleteAllFieldIndexes(e){return Y.resolve()}createTargetIndexes(e,i){return Y.resolve()}getDocumentsMatchingTarget(e,i){return Y.resolve(null)}getIndexType(e,i){return Y.resolve(0)}getFieldIndexes(e,i){return Y.resolve([])}getNextCollectionGroupToUpdate(e){return Y.resolve(null)}getMinOffset(e,i){return Y.resolve(yr.min())}getMinOffsetFromCollectionGroup(e,i){return Y.resolve(yr.min())}updateCollectionGroup(e,i,s){return Y.resolve()}updateIndexEntries(e,i){return Y.resolve()}}class ub{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),u=this.index[i]||new Se(Jt.comparator),h=!u.has(s);return this.index[i]=u.add(s),h}has(e){const i=e.lastSegment(),s=e.popLast(),u=this.index[i];return u&&u.has(s)}getEntries(e){return(this.index[e]||new Se(Jt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Hv=41943040;class We{static withCacheSize(e){return new We(e,We.DEFAULT_COLLECTION_PERCENTILE,We.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */We.DEFAULT_COLLECTION_PERCENTILE=10,We.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,We.DEFAULT=new We(Hv,We.DEFAULT_COLLECTION_PERCENTILE,We.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),We.DISABLED=new We(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new Es(0)}static ir(){return new Es(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e_="LruGarbageCollector",ob=1048576;function n_([a,e],[i,s]){const u=Rt(a,i);return u===0?Rt(e,s):u}class cb{constructor(e){this.cr=e,this.buffer=new Se(n_),this.lr=0}hr(){return++this.lr}Pr(e){const i=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();n_(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class hb{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){it(e_,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Ds(i)?it(e_,"Ignoring IndexedDB error during garbage collection: ",i):await ws(i)}await this.Ir(3e5)})}}class fb{constructor(e,i){this.Er=e,this.params=i}calculateTargetCount(e,i){return this.Er.dr(e).next(s=>Math.floor(i/100*s))}nthSequenceNumber(e,i){if(i===0)return Y.resolve(lc.le);const s=new cb(i);return this.Er.forEachTarget(e,u=>s.Pr(u.sequenceNumber)).next(()=>this.Er.Ar(e,u=>s.Pr(u))).next(()=>s.maxValue)}removeTargets(e,i,s){return this.Er.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.Er.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(it("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(t_)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),t_):this.Rr(e,i))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,i){let s,u,h,d,g,_,v;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(D=>(D>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${D}`),u=this.params.maximumSequenceNumbersToCollect):u=D,d=Date.now(),this.nthSequenceNumber(e,u))).next(D=>(s=D,g=Date.now(),this.removeTargets(e,s,i))).next(D=>(h=D,_=Date.now(),this.removeOrphanedDocuments(e,s))).next(D=>(v=Date.now(),cs()<=Lt.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${u} in `+(g-d)+`ms
	Removed ${h} targets in `+(_-g)+`ms
	Removed ${D} documents in `+(v-_)+`ms
Total Duration: ${v-A}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:h,documentsRemoved:D})))}}function db(a,e){return new fb(a,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb{constructor(){this.changes=new ga(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Qe.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?Y.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(e,i,s,u){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=u}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next(u=>(s=u,this.remoteDocumentCache.getEntry(e,i))).next(u=>(s!==null&&Yl(s.mutation,u,fn.empty(),Ae.now()),u))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.getLocalViewOfDocuments(e,s,Vt()).next(()=>s))}getLocalViewOfDocuments(e,i,s=Vt()){const u=oa();return this.populateOverlays(e,u,i).next(()=>this.computeViews(e,i,u,s).next(h=>{let d=ql();return h.forEach((g,_)=>{d=d.insert(g,_.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const s=oa();return this.populateOverlays(e,s,i).next(()=>this.computeViews(e,i,s,Vt()))}populateOverlays(e,i,s){const u=[];return s.forEach(h=>{i.has(h)||u.push(h)}),this.documentOverlayCache.getOverlays(e,u).next(h=>{h.forEach((d,g)=>{i.set(d,g)})})}computeViews(e,i,s,u){let h=xi();const d=Fl(),g=function(){return Fl()}();return i.forEach((_,v)=>{const A=s.get(v.key);u.has(v.key)&&(A===void 0||A.mutation instanceof br)?h=h.insert(v.key,v):A!==void 0?(d.set(v.key,A.mutation.getFieldMask()),Yl(A.mutation,v,A.mutation.getFieldMask(),Ae.now())):d.set(v.key,fn.empty())}),this.recalculateAndSaveOverlays(e,h).next(_=>(_.forEach((v,A)=>d.set(v,A)),i.forEach((v,A)=>{var D;return g.set(v,new gb(A,(D=d.get(v))!==null&&D!==void 0?D:null))}),g))}recalculateAndSaveOverlays(e,i){const s=Fl();let u=new ne((d,g)=>d-g),h=Vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const g of d)g.keys().forEach(_=>{const v=i.get(_);if(v===null)return;let A=s.get(_)||fn.empty();A=g.applyToLocalView(v,A),s.set(_,A);const D=(u.get(g.batchId)||Vt()).add(_);u=u.insert(g.batchId,D)})}).next(()=>{const d=[],g=u.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),v=_.key,A=_.value,D=Rv();A.forEach(U=>{if(!h.has(U)){const j=Nv(i.get(U),s.get(U));j!==null&&D.set(U,j),h=h.add(U)}}),d.push(this.documentOverlayCache.saveOverlays(e,v,D))}return Y.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,i,s,u){return function(d){return ot.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):Ev(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,u):this.getDocumentsMatchingCollectionQuery(e,i,s,u)}getNextDocuments(e,i,s,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,u).next(h=>{const d=u-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,u-h.size):Y.resolve(oa());let g=Zl,_=h;return d.next(v=>Y.forEach(v,(A,D)=>(g<D.largestBatchId&&(g=D.largestBatchId),h.get(A)?Y.resolve():this.remoteDocumentCache.getEntry(e,A).next(U=>{_=_.insert(A,U)}))).next(()=>this.populateOverlays(e,v,h)).next(()=>this.computeViews(e,_,v,Vt())).next(A=>({batchId:g,changes:bv(A)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ot(i)).next(s=>{let u=ql();return s.isFoundDocument()&&(u=u.insert(s.key,s)),u})}getDocumentsMatchingCollectionGroupQuery(e,i,s,u){const h=i.collectionGroup;let d=ql();return this.indexManager.getCollectionParents(e,h).next(g=>Y.forEach(g,_=>{const v=function(D,U){return new Cs(U,null,D.explicitOrderBy.slice(),D.filters.slice(),D.limit,D.limitType,D.startAt,D.endAt)}(i,_.child(h));return this.getDocumentsMatchingCollectionQuery(e,v,s,u).next(A=>{A.forEach((D,U)=>{d=d.insert(D,U)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,s,u){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next(d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,h,u))).next(d=>{h.forEach((_,v)=>{const A=v.getKey();d.get(A)===null&&(d=d.insert(A,Qe.newInvalidDocument(A)))});let g=ql();return d.forEach((_,v)=>{const A=h.get(_);A!==void 0&&Yl(A.mutation,v,fn.empty(),Ae.now()),hc(i,v)&&(g=g.insert(_,v))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,i){return Y.resolve(this.Fr.get(i))}saveBundleMetadata(e,i){return this.Fr.set(i.id,function(u){return{id:u.id,version:u.version,createTime:ni(u.createTime)}}(i)),Y.resolve()}getNamedQuery(e,i){return Y.resolve(this.Mr.get(i))}saveNamedQuery(e,i){return this.Mr.set(i.name,function(u){return{name:u.name,query:sb(u.bundledQuery),readTime:ni(u.readTime)}}(i)),Y.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(){this.overlays=new ne(ot.comparator),this.Or=new Map}getOverlay(e,i){return Y.resolve(this.overlays.get(i))}getOverlays(e,i){const s=oa();return Y.forEach(i,u=>this.getOverlay(e,u).next(h=>{h!==null&&s.set(u,h)})).next(()=>s)}saveOverlays(e,i,s){return s.forEach((u,h)=>{this.St(e,i,h)}),Y.resolve()}removeOverlaysForBatchId(e,i,s){const u=this.Or.get(s);return u!==void 0&&(u.forEach(h=>this.overlays=this.overlays.remove(h)),this.Or.delete(s)),Y.resolve()}getOverlaysForCollection(e,i,s){const u=oa(),h=i.length+1,d=new ot(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,v=_.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===h&&_.largestBatchId>s&&u.set(_.getKey(),_)}return Y.resolve(u)}getOverlaysForCollectionGroup(e,i,s,u){let h=new ne((v,A)=>v-A);const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>s){let A=h.get(v.largestBatchId);A===null&&(A=oa(),h=h.insert(v.largestBatchId,A)),A.set(v.getKey(),v)}}const g=oa(),_=h.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((v,A)=>g.set(v,A)),!(g.size()>=u)););return Y.resolve(g)}St(e,i,s){const u=this.overlays.get(s.key);if(u!==null){const d=this.Or.get(u.largestBatchId).delete(s.key);this.Or.set(u.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new zS(i,s));let h=this.Or.get(i);h===void 0&&(h=Vt(),this.Or.set(i,h)),this.Or.set(i,h.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(){this.sessionToken=ke.EMPTY_BYTE_STRING}getSessionToken(e){return Y.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Y.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(){this.Nr=new Se(Ve.Br),this.Lr=new Se(Ve.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,i){const s=new Ve(e,i);this.Nr=this.Nr.add(s),this.Lr=this.Lr.add(s)}qr(e,i){e.forEach(s=>this.addReference(s,i))}removeReference(e,i){this.Qr(new Ve(e,i))}$r(e,i){e.forEach(s=>this.removeReference(s,i))}Ur(e){const i=new ot(new Jt([])),s=new Ve(i,e),u=new Ve(i,e+1),h=[];return this.Lr.forEachInRange([s,u],d=>{this.Qr(d),h.push(d.key)}),h}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const i=new ot(new Jt([])),s=new Ve(i,e),u=new Ve(i,e+1);let h=Vt();return this.Lr.forEachInRange([s,u],d=>{h=h.add(d.key)}),h}containsKey(e){const i=new Ve(e,0),s=this.Nr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class Ve{constructor(e,i){this.key=e,this.Gr=i}static Br(e,i){return ot.comparator(e.key,i.key)||Rt(e.Gr,i.Gr)}static kr(e,i){return Rt(e.Gr,i.Gr)||ot.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Jn=1,this.zr=new Se(Ve.Br)}checkEmpty(e){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,u){const h=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new LS(h,i,s,u);this.mutationQueue.push(d);for(const g of u)this.zr=this.zr.add(new Ve(g.key,h)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return Y.resolve(d)}lookupMutationBatch(e,i){return Y.resolve(this.jr(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,u=this.Hr(s),h=u<0?0:u;return Y.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?hd:this.Jn-1)}getAllMutationBatches(e){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new Ve(i,0),u=new Ve(i,Number.POSITIVE_INFINITY),h=[];return this.zr.forEachInRange([s,u],d=>{const g=this.jr(d.Gr);h.push(g)}),Y.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new Se(Rt);return i.forEach(u=>{const h=new Ve(u,0),d=new Ve(u,Number.POSITIVE_INFINITY);this.zr.forEachInRange([h,d],g=>{s=s.add(g.Gr)})}),Y.resolve(this.Jr(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,u=s.length+1;let h=s;ot.isDocumentKey(h)||(h=h.child(""));const d=new Ve(new ot(h),0);let g=new Se(Rt);return this.zr.forEachWhile(_=>{const v=_.key.path;return!!s.isPrefixOf(v)&&(v.length===u&&(g=g.add(_.Gr)),!0)},d),Y.resolve(this.Jr(g))}Jr(e){const i=[];return e.forEach(s=>{const u=this.jr(s);u!==null&&i.push(u)}),i}removeMutationBatch(e,i){qt(this.Yr(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.zr;return Y.forEach(i.mutations,u=>{const h=new Ve(u.key,i.batchId);return s=s.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.zr=s})}Xn(e){}containsKey(e,i){const s=new Ve(i,0),u=this.zr.firstAfterOrEqual(s);return Y.resolve(i.isEqual(u&&u.key))}performConsistencyCheck(e){return this.mutationQueue.length,Y.resolve()}Yr(e,i){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const i=this.Hr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(e){this.Zr=e,this.docs=function(){return new ne(ot.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,u=this.docs.get(s),h=u?u.size:0,d=this.Zr(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return Y.resolve(s?s.document.mutableCopy():Qe.newInvalidDocument(i))}getEntries(e,i){let s=xi();return i.forEach(u=>{const h=this.docs.get(u);s=s.insert(u,h?h.document.mutableCopy():Qe.newInvalidDocument(u))}),Y.resolve(s)}getDocumentsMatchingQuery(e,i,s,u){let h=xi();const d=i.path,g=new ot(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:v,value:{document:A}}=_.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||$A(ZA(A),s)<=0||(u.has(A.key)||hc(i,A))&&(h=h.insert(A.key,A.mutableCopy()))}return Y.resolve(h)}getAllFromCollectionGroup(e,i,s,u){mt(9500)}Xr(e,i){return Y.forEach(this.docs,s=>i(s))}newChangeBuffer(e){return new Ab(this)}getSize(e){return Y.resolve(this.size)}}class Ab extends mb{constructor(e){super(),this.vr=e}applyChanges(e){const i=[];return this.changes.forEach((s,u)=>{u.isValidDocument()?i.push(this.vr.addEntry(e,u)):this.vr.removeEntry(s)}),Y.waitFor(i)}getFromCache(e,i){return this.vr.getEntry(e,i)}getAllFromCache(e,i){return this.vr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{constructor(e){this.persistence=e,this.ei=new ga(i=>md(i),gd),this.lastRemoteSnapshotVersion=_t.min(),this.highestTargetId=0,this.ti=0,this.ni=new Ad,this.targetCount=0,this.ri=Es.rr()}forEachTarget(e,i){return this.ei.forEach((s,u)=>i(u)),Y.resolve()}getLastRemoteSnapshotVersion(e){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Y.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.ti&&(this.ti=i),Y.resolve()}ar(e){this.ei.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ri=new Es(i),this.highestTargetId=i),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,i){return this.ar(i),this.targetCount+=1,Y.resolve()}updateTargetData(e,i){return this.ar(i),Y.resolve()}removeTargetData(e,i){return this.ei.delete(i.target),this.ni.Ur(i.targetId),this.targetCount-=1,Y.resolve()}removeTargets(e,i,s){let u=0;const h=[];return this.ei.forEach((d,g)=>{g.sequenceNumber<=i&&s.get(g.targetId)===null&&(this.ei.delete(d),h.push(this.removeMatchingKeysForTargetId(e,g.targetId)),u++)}),Y.waitFor(h).next(()=>u)}getTargetCount(e){return Y.resolve(this.targetCount)}getTargetData(e,i){const s=this.ei.get(i)||null;return Y.resolve(s)}addMatchingKeys(e,i,s){return this.ni.qr(i,s),Y.resolve()}removeMatchingKeys(e,i,s){this.ni.$r(i,s);const u=this.persistence.referenceDelegate,h=[];return u&&i.forEach(d=>{h.push(u.markPotentiallyOrphaned(e,d))}),Y.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this.ni.Ur(i),Y.resolve()}getMatchingKeysForTargetId(e,i){const s=this.ni.Wr(i);return Y.resolve(s)}containsKey(e,i){return Y.resolve(this.ni.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{constructor(e,i){this.ii={},this.overlays={},this.si=new lc(0),this.oi=!1,this.oi=!0,this._i=new vb,this.referenceDelegate=e(this),this.ai=new Sb(this),this.indexManager=new lb,this.remoteDocumentCache=function(u){return new Tb(u)}(s=>this.referenceDelegate.ui(s)),this.serializer=new ab(i),this.ci=new yb(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new _b,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.ii[e.toKey()];return s||(s=new Eb(i,this.referenceDelegate),this.ii[e.toKey()]=s),s}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,i,s){it("MemoryPersistence","Starting transaction:",e);const u=new bb(this.si.next());return this.referenceDelegate.li(),s(u).next(h=>this.referenceDelegate.hi(u).next(()=>h)).toPromise().then(h=>(u.raiseOnCommittedEvent(),h))}Pi(e,i){return Y.or(Object.values(this.ii).map(s=>()=>s.containsKey(e,i)))}}class bb extends WA{constructor(e){super(),this.currentSequenceNumber=e}}class Sd{constructor(e){this.persistence=e,this.Ti=new Ad,this.Ii=null}static Ei(e){return new Sd(e)}get di(){if(this.Ii)return this.Ii;throw mt(60996)}addReference(e,i,s){return this.Ti.addReference(s,i),this.di.delete(s.toString()),Y.resolve()}removeReference(e,i,s){return this.Ti.removeReference(s,i),this.di.add(s.toString()),Y.resolve()}markPotentiallyOrphaned(e,i){return this.di.add(i.toString()),Y.resolve()}removeTarget(e,i){this.Ti.Ur(i.targetId).forEach(u=>this.di.add(u.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next(u=>{u.forEach(h=>this.di.add(h.toString()))}).next(()=>s.removeTargetData(e,i))}li(){this.Ii=new Set}hi(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.di,s=>{const u=ot.fromPath(s);return this.Ai(e,u).next(h=>{h||i.removeEntry(u,_t.min())})}).next(()=>(this.Ii=null,i.apply(e)))}updateLimboDocument(e,i){return this.Ai(e,i).next(s=>{s?this.di.delete(i.toString()):this.di.add(i.toString())})}ui(e){return 0}Ai(e,i){return Y.or([()=>Y.resolve(this.Ti.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Pi(e,i)])}}class ec{constructor(e,i){this.persistence=e,this.Ri=new ga(s=>nS(s.path),(s,u)=>s.isEqual(u)),this.garbageCollector=db(this,i)}static Ei(e,i){return new ec(e,i)}li(){}hi(e){return Y.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}dr(e){const i=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>i.next(u=>s+u))}Vr(e){let i=0;return this.Ar(e,s=>{i++}).next(()=>i)}Ar(e,i){return Y.forEach(this.Ri,(s,u)=>this.gr(e,s,u).next(h=>h?Y.resolve():i(u)))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const u=this.persistence.getRemoteDocumentCache(),h=u.newChangeBuffer();return u.Xr(e,d=>this.gr(e,d,i).next(g=>{g||(s++,h.removeEntry(d,_t.min()))})).next(()=>h.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,i){return this.Ri.set(i,e.currentSequenceNumber),Y.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.Ri.set(s,e.currentSequenceNumber),Y.resolve()}removeReference(e,i,s){return this.Ri.set(s,e.currentSequenceNumber),Y.resolve()}updateLimboDocument(e,i){return this.Ri.set(i,e.currentSequenceNumber),Y.resolve()}ui(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Bo(e.data.value)),i}gr(e,i,s){return Y.or([()=>this.persistence.Pi(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const u=this.Ri.get(i);return Y.resolve(u!==void 0&&u>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(e,i,s,u){this.targetId=e,this.fromCache=i,this.ls=s,this.hs=u}static Ps(e,i){let s=Vt(),u=Vt();for(const h of i.docChanges)switch(h.type){case 0:s=s.add(h.doc.key);break;case 1:u=u.add(h.doc.key)}return new bd(e,i.fromCache,s,u)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return wT()?8:tS(bT())>0?6:4}()}initialize(e,i){this.As=e,this.indexManager=i,this.Ts=!0}getDocumentsMatchingQuery(e,i,s,u){const h={result:null};return this.Rs(e,i).next(d=>{h.result=d}).next(()=>{if(!h.result)return this.Vs(e,i,u,s).next(d=>{h.result=d})}).next(()=>{if(h.result)return;const d=new Rb;return this.fs(e,i,d).next(g=>{if(h.result=g,this.Is)return this.gs(e,i,d,g.size)})}).next(()=>h.result)}gs(e,i,s,u){return s.documentReadCount<this.Es?(cs()<=Lt.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",hs(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),Y.resolve()):(cs()<=Lt.DEBUG&&it("QueryEngine","Query:",hs(i),"scans",s.documentReadCount,"local documents and returns",u,"documents as results."),s.documentReadCount>this.ds*u?(cs()<=Lt.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",hs(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ei(i))):Y.resolve())}Rs(e,i){if(Gy(i))return Y.resolve(null);let s=ei(i);return this.indexManager.getIndexType(e,s).next(u=>u===0?null:(i.limit!==null&&u===1&&(i=Zf(i,null,"F"),s=ei(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next(h=>{const d=Vt(...h);return this.As.getDocuments(e,d).next(g=>this.indexManager.getMinOffset(e,s).next(_=>{const v=this.ps(i,g);return this.ys(i,v,d,_.readTime)?this.Rs(e,Zf(i,null,"F")):this.ws(e,v,i,_)}))})))}Vs(e,i,s,u){return Gy(i)||u.isEqual(_t.min())?Y.resolve(null):this.As.getDocuments(e,s).next(h=>{const d=this.ps(i,h);return this.ys(i,d,s,u)?Y.resolve(null):(cs()<=Lt.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),hs(i)),this.ws(e,d,i,XA(u,Zl)).next(g=>g))})}ps(e,i){let s=new Se(Av(e));return i.forEach((u,h)=>{hc(e,h)&&(s=s.add(h))}),s}ys(e,i,s,u){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(u)>0)}fs(e,i,s){return cs()<=Lt.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",hs(i)),this.As.getDocumentsMatchingQuery(e,i,yr.min(),s)}ws(e,i,s,u){return this.As.getDocumentsMatchingQuery(e,s,u).next(h=>(i.forEach(d=>{h=h.insert(d.key,d)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rd="LocalStore",Db=3e8;class Cb{constructor(e,i,s,u){this.persistence=e,this.bs=i,this.serializer=u,this.Ss=new ne(Rt),this.Ds=new ga(h=>md(h),gd),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(s)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new pb(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Ss))}}function Ib(a,e,i,s){return new Cb(a,e,i,s)}async function Qv(a,e){const i=Et(a);return await i.persistence.runTransaction("Handle user change","readonly",s=>{let u;return i.mutationQueue.getAllMutationBatches(s).next(h=>(u=h,i.Fs(e),i.mutationQueue.getAllMutationBatches(s))).next(h=>{const d=[],g=[];let _=Vt();for(const v of u){d.push(v.batchId);for(const A of v.mutations)_=_.add(A.key)}for(const v of h){g.push(v.batchId);for(const A of v.mutations)_=_.add(A.key)}return i.localDocuments.getDocuments(s,_).next(v=>({Ms:v,removedBatchIds:d,addedBatchIds:g}))})})}function Vb(a,e){const i=Et(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const u=e.batch.keys(),h=i.Cs.newChangeBuffer({trackRemovals:!0});return function(g,_,v,A){const D=v.batch,U=D.keys();let j=Y.resolve();return U.forEach($=>{j=j.next(()=>A.getEntry(_,$)).next(tt=>{const X=v.docVersions.get($);qt(X!==null,48541),tt.version.compareTo(X)<0&&(D.applyToRemoteDocument(tt,v),tt.isValidDocument()&&(tt.setReadTime(v.commitVersion),A.addEntry(tt)))})}),j.next(()=>g.mutationQueue.removeMutationBatch(_,D))}(i,s,e,h).next(()=>h.apply(s)).next(()=>i.mutationQueue.performConsistencyCheck(s)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(s,u,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(g){let _=Vt();for(let v=0;v<g.mutationResults.length;++v)g.mutationResults[v].transformResults.length>0&&(_=_.add(g.batch.mutations[v].key));return _}(e))).next(()=>i.localDocuments.getDocuments(s,u))})}function Fv(a){const e=Et(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.ai.getLastRemoteSnapshotVersion(i))}function Nb(a,e){const i=Et(a),s=e.snapshotVersion;let u=i.Ss;return i.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const d=i.Cs.newChangeBuffer({trackRemovals:!0});u=i.Ss;const g=[];e.targetChanges.forEach((A,D)=>{const U=u.get(D);if(!U)return;g.push(i.ai.removeMatchingKeys(h,A.removedDocuments,D).next(()=>i.ai.addMatchingKeys(h,A.addedDocuments,D)));let j=U.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(D)!==null?j=j.withResumeToken(ke.EMPTY_BYTE_STRING,_t.min()).withLastLimboFreeSnapshotVersion(_t.min()):A.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(A.resumeToken,s)),u=u.insert(D,j),function(tt,X,vt){return tt.resumeToken.approximateByteSize()===0||X.snapshotVersion.toMicroseconds()-tt.snapshotVersion.toMicroseconds()>=Db?!0:vt.addedDocuments.size+vt.modifiedDocuments.size+vt.removedDocuments.size>0}(U,j,A)&&g.push(i.ai.updateTargetData(h,j))});let _=xi(),v=Vt();if(e.documentUpdates.forEach(A=>{e.resolvedLimboDocuments.has(A)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))}),g.push(Ob(h,d,e.documentUpdates).next(A=>{_=A.xs,v=A.Os})),!s.isEqual(_t.min())){const A=i.ai.getLastRemoteSnapshotVersion(h).next(D=>i.ai.setTargetsMetadata(h,h.currentSequenceNumber,s));g.push(A)}return Y.waitFor(g).next(()=>d.apply(h)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,_,v)).next(()=>_)}).then(h=>(i.Ss=u,h))}function Ob(a,e,i){let s=Vt(),u=Vt();return i.forEach(h=>s=s.add(h)),e.getEntries(a,s).next(h=>{let d=xi();return i.forEach((g,_)=>{const v=h.get(g);_.isFoundDocument()!==v.isFoundDocument()&&(u=u.add(g)),_.isNoDocument()&&_.version.isEqual(_t.min())?(e.removeEntry(g,_.readTime),d=d.insert(g,_)):!v.isValidDocument()||_.version.compareTo(v.version)>0||_.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(_),d=d.insert(g,_)):it(Rd,"Ignoring outdated watch update for ",g,". Current version:",v.version," Watch version:",_.version)}),{xs:d,Os:u}})}function Mb(a,e){const i=Et(a);return i.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=hd),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function xb(a,e){const i=Et(a);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let u;return i.ai.getTargetData(s,e).next(h=>h?(u=h,Y.resolve(u)):i.ai.allocateTargetId(s).next(d=>(u=new cr(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.ai.addTargetData(s,u).next(()=>u))))}).then(s=>{const u=i.Ss.get(s.targetId);return(u===null||s.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(i.Ss=i.Ss.insert(s.targetId,s),i.Ds.set(e,s.targetId)),s})}async function ed(a,e,i){const s=Et(a),u=s.Ss.get(e),h=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",h,d=>s.persistence.referenceDelegate.removeTarget(d,u))}catch(d){if(!Ds(d))throw d;it(Rd,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Ss=s.Ss.remove(e),s.Ds.delete(u.target)}function i_(a,e,i){const s=Et(a);let u=_t.min(),h=Vt();return s.persistence.runTransaction("Execute query","readwrite",d=>function(_,v,A){const D=Et(_),U=D.Ds.get(A);return U!==void 0?Y.resolve(D.Ss.get(U)):D.ai.getTargetData(v,A)}(s,d,ei(e)).next(g=>{if(g)return u=g.lastLimboFreeSnapshotVersion,s.ai.getMatchingKeysForTargetId(d,g.targetId).next(_=>{h=_})}).next(()=>s.bs.getDocumentsMatchingQuery(d,e,i?u:_t.min(),i?h:Vt())).next(g=>(Ub(s,TS(e),g),{documents:g,Ns:h})))}function Ub(a,e,i){let s=a.vs.get(e)||_t.min();i.forEach((u,h)=>{h.readTime.compareTo(s)>0&&(s=h.readTime)}),a.vs.set(e,s)}class r_{constructor(){this.activeTargetIds=DS()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Lb{constructor(){this.So=new r_,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,i,s){this.Do[e]=i}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new r_,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a_="ConnectivityMonitor";class s_{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){it(a_,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){it(a_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zo=null;function nd(){return zo===null?zo=function(){return 268435456+Math.round(2147483648*Math.random())}():zo++,"0x"+zo.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xf="RestConnection",Pb={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class kb{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.Lo=i+"://"+e.host,this.ko=`projects/${s}/databases/${u}`,this.qo=this.databaseId.database===Xo?`project_id=${s}`:`project_id=${s}&database_id=${u}`}Qo(e,i,s,u,h){const d=nd(),g=this.$o(e,i.toUriEncodedString());it(xf,`Sending RPC '${e}' ${d}:`,g,s);const _={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(_,u,h),this.Ko(e,g,_,s).then(v=>(it(xf,`Received RPC '${e}' ${d}: `,v),v),v=>{throw ps(xf,`RPC '${e}' ${d} failed with error: `,v,"url: ",g,"request:",s),v})}Wo(e,i,s,u,h,d){return this.Qo(e,i,s,u,h)}Uo(e,i,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Rs}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((u,h)=>e[h]=u),s&&s.headers.forEach((u,h)=>e[h]=u)}$o(e,i){const s=Pb[e];return`${this.Lo}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const He="WebChannelConnection";class qb extends kb{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,i,s,u){const h=nd();return new Promise((d,g)=>{const _=new X_;_.setWithCredentials(!0),_.listenOnce(Z_.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case ko.NO_ERROR:const A=_.getResponseJson();it(He,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(A)),d(A);break;case ko.TIMEOUT:it(He,`RPC '${e}' ${h} timed out`),g(new rt(K.DEADLINE_EXCEEDED,"Request time out"));break;case ko.HTTP_ERROR:const D=_.getStatus();if(it(He,`RPC '${e}' ${h} failed with status:`,D,"response text:",_.getResponseText()),D>0){let U=_.getResponseJson();Array.isArray(U)&&(U=U[0]);const j=U==null?void 0:U.error;if(j&&j.status&&j.message){const $=function(X){const vt=X.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(vt)>=0?vt:K.UNKNOWN}(j.status);g(new rt($,j.message))}else g(new rt(K.UNKNOWN,"Server responded with status "+_.getStatus()))}else g(new rt(K.UNAVAILABLE,"Connection failed."));break;default:mt(9055,{s_:e,streamId:h,o_:_.getLastErrorCode(),__:_.getLastError()})}}finally{it(He,`RPC '${e}' ${h} completed.`)}});const v=JSON.stringify(u);it(He,`RPC '${e}' ${h} sending request:`,u),_.send(i,"POST",v,s,15)})}a_(e,i,s){const u=nd(),h=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=W_(),g=J_(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(_.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(_.useFetchStreams=!0),this.Uo(_.initMessageHeaders,i,s),_.encodeInitMessageHeaders=!0;const A=h.join("");it(He,`Creating RPC '${e}' stream ${u}: ${A}`,_);const D=d.createWebChannel(A,_);let U=!1,j=!1;const $=new Bb({Go:X=>{j?it(He,`Not sending because RPC '${e}' stream ${u} is closed:`,X):(U||(it(He,`Opening RPC '${e}' stream ${u} transport.`),D.open(),U=!0),it(He,`RPC '${e}' stream ${u} sending:`,X),D.send(X))},zo:()=>D.close()}),tt=(X,vt,At)=>{X.listen(vt,ht=>{try{At(ht)}catch(Tt){setTimeout(()=>{throw Tt},0)}})};return tt(D,Bl.EventType.OPEN,()=>{j||(it(He,`RPC '${e}' stream ${u} transport opened.`),$.t_())}),tt(D,Bl.EventType.CLOSE,()=>{j||(j=!0,it(He,`RPC '${e}' stream ${u} transport closed`),$.r_())}),tt(D,Bl.EventType.ERROR,X=>{j||(j=!0,ps(He,`RPC '${e}' stream ${u} transport errored. Name:`,X.name,"Message:",X.message),$.r_(new rt(K.UNAVAILABLE,"The operation could not be completed")))}),tt(D,Bl.EventType.MESSAGE,X=>{var vt;if(!j){const At=X.data[0];qt(!!At,16349);const ht=At,Tt=(ht==null?void 0:ht.error)||((vt=ht[0])===null||vt===void 0?void 0:vt.error);if(Tt){it(He,`RPC '${e}' stream ${u} received error:`,Tt);const pt=Tt.status;let Nt=function(w){const V=ge[w];if(V!==void 0)return Mv(V)}(pt),N=Tt.message;Nt===void 0&&(Nt=K.INTERNAL,N="Unknown error status: "+pt+" with message "+Tt.message),j=!0,$.r_(new rt(Nt,N)),D.close()}else it(He,`RPC '${e}' stream ${u} received:`,At),$.i_(At)}}),tt(g,$_.STAT_EVENT,X=>{X.stat===Hf.PROXY?it(He,`RPC '${e}' stream ${u} detected buffering proxy`):X.stat===Hf.NOPROXY&&it(He,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{$.n_()},0),$}}function Uf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gc(a){return new QS(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv{constructor(e,i,s=1e3,u=1.5,h=6e4){this.bi=e,this.timerId=i,this.u_=s,this.c_=u,this.l_=h,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const i=Math.floor(this.h_+this.d_()),s=Math.max(0,Date.now()-this.T_),u=Math.max(0,i-s);u>0&&it("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.h_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,u,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l_="PersistentStream";class Kv{constructor(e,i,s,u,h,d,g,_){this.bi=e,this.R_=s,this.V_=u,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new Yv(e,i)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,i){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():i&&i.code===K.RESOURCE_EXHAUSTED?(Mi(i.toString()),Mi("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):i&&i.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(i)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),i=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,u])=>{this.m_===i&&this.B_(s,u)},s=>{e(()=>{const u=new rt(K.UNKNOWN,"Fetching auth token failed: "+s.message);return this.L_(u)})})}B_(e,i){const s=this.N_(this.m_);this.stream=this.k_(e,i),this.stream.jo(()=>{s(()=>this.listener.jo())}),this.stream.Jo(()=>{s(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(u=>{s(()=>this.L_(u))}),this.stream.onMessage(u=>{s(()=>++this.p_==1?this.q_(u):this.onNext(u))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return it(l_,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return i=>{this.bi.enqueueAndForget(()=>this.m_===e?i():(it(l_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class jb extends Kv{constructor(e,i,s,u,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,u,d),this.serializer=h}k_(e,i){return this.connection.a_("Listen",e,i)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const i=KS(this.serializer,e),s=function(h){if(!("targetChange"in h))return _t.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?_t.min():d.readTime?ni(d.readTime):_t.min()}(e);return this.listener.Q_(i,s)}U_(e){const i={};i.database=td(this.serializer),i.addTarget=function(h,d){let g;const _=d.target;if(g=Kf(_)?{documents:$S(h,_)}:{query:JS(h,_).gt},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=Lv(h,d.resumeToken);const v=$f(h,d.expectedCount);v!==null&&(g.expectedCount=v)}else if(d.snapshotVersion.compareTo(_t.min())>0){g.readTime=tc(h,d.snapshotVersion.toTimestamp());const v=$f(h,d.expectedCount);v!==null&&(g.expectedCount=v)}return g}(this.serializer,e);const s=tb(this.serializer,e);s&&(i.labels=s),this.F_(i)}K_(e){const i={};i.database=td(this.serializer),i.removeTarget=e,this.F_(i)}}class Hb extends Kv{constructor(e,i,s,u,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,u,d),this.serializer=h}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,i){return this.connection.a_("Write",e,i)}q_(e){return qt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,qt(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){qt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const i=ZS(e.writeResults,e.commitTime),s=ni(e.commitTime);return this.listener.j_(s,i)}H_(){const e={};e.database=td(this.serializer),this.F_(e)}G_(e){const i={streamToken:this.lastStreamToken,writes:e.map(s=>XS(this.serializer,s))};this.F_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{}class Qb extends Gb{constructor(e,i,s,u){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=u,this.J_=!1}Y_(){if(this.J_)throw new rt(K.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,i,s,u){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.Qo(e,Jf(i,s),u,h,d)).catch(h=>{throw h.name==="FirebaseError"?(h.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new rt(K.UNKNOWN,h.toString())})}Wo(e,i,s,u,h){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Wo(e,Jf(i,s),u,d,g,h)).catch(d=>{throw d.name==="FirebaseError"?(d.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new rt(K.UNKNOWN,d.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class Fb{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(Mi(i),this.ea=!1):it("OnlineStateTracker",i)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa="RemoteStore";class Yb{constructor(e,i,s,u,h){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=h,this.ca.vo(d=>{s.enqueueAndForget(async()=>{pa(this)&&(it(fa,"Restarting streams for network reachability change."),await async function(_){const v=Et(_);v.aa.add(4),await au(v),v.la.set("Unknown"),v.aa.delete(4),await pc(v)}(this))})}),this.la=new Fb(s,u)}}async function pc(a){if(pa(a))for(const e of a.ua)await e(!0)}async function au(a){for(const e of a.ua)await e(!1)}function Xv(a,e){const i=Et(a);i._a.has(e.targetId)||(i._a.set(e.targetId,e),Id(i)?Cd(i):Is(i).b_()&&Dd(i,e))}function wd(a,e){const i=Et(a),s=Is(i);i._a.delete(e),s.b_()&&Zv(i,e),i._a.size===0&&(s.b_()?s.v_():pa(i)&&i.la.set("Unknown"))}function Dd(a,e){if(a.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(_t.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Is(a).U_(e)}function Zv(a,e){a.ha.Ke(e),Is(a).K_(e)}function Cd(a){a.ha=new qS({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>a._a.get(e)||null,Pt:()=>a.datastore.serializer.databaseId}),Is(a).start(),a.la.ta()}function Id(a){return pa(a)&&!Is(a).w_()&&a._a.size>0}function pa(a){return Et(a).aa.size===0}function $v(a){a.ha=void 0}async function Kb(a){a.la.set("Online")}async function Xb(a){a._a.forEach((e,i)=>{Dd(a,e)})}async function Zb(a,e){$v(a),Id(a)?(a.la.ia(e),Cd(a)):a.la.set("Unknown")}async function $b(a,e,i){if(a.la.set("Online"),e instanceof Uv&&e.state===2&&e.cause)try{await async function(u,h){const d=h.cause;for(const g of h.targetIds)u._a.has(g)&&(await u.remoteSyncer.rejectListen(g,d),u._a.delete(g),u.ha.removeTarget(g))}(a,e)}catch(s){it(fa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await nc(a,s)}else if(e instanceof Ho?a.ha.Xe(e):e instanceof xv?a.ha.ot(e):a.ha.nt(e),!i.isEqual(_t.min()))try{const s=await Fv(a.localStore);i.compareTo(s)>=0&&await function(h,d){const g=h.ha.It(d);return g.targetChanges.forEach((_,v)=>{if(_.resumeToken.approximateByteSize()>0){const A=h._a.get(v);A&&h._a.set(v,A.withResumeToken(_.resumeToken,d))}}),g.targetMismatches.forEach((_,v)=>{const A=h._a.get(_);if(!A)return;h._a.set(_,A.withResumeToken(ke.EMPTY_BYTE_STRING,A.snapshotVersion)),Zv(h,_);const D=new cr(A.target,_,v,A.sequenceNumber);Dd(h,D)}),h.remoteSyncer.applyRemoteEvent(g)}(a,i)}catch(s){it(fa,"Failed to raise snapshot:",s),await nc(a,s)}}async function nc(a,e,i){if(!Ds(e))throw e;a.aa.add(1),await au(a),a.la.set("Offline"),i||(i=()=>Fv(a.localStore)),a.asyncQueue.enqueueRetryable(async()=>{it(fa,"Retrying IndexedDB access"),await i(),a.aa.delete(1),await pc(a)})}function Jv(a,e){return e().catch(i=>nc(a,i,e))}async function yc(a){const e=Et(a),i=Tr(e);let s=e.oa.length>0?e.oa[e.oa.length-1].batchId:hd;for(;Jb(e);)try{const u=await Mb(e.localStore,s);if(u===null){e.oa.length===0&&i.v_();break}s=u.batchId,Wb(e,u)}catch(u){await nc(e,u)}Wv(e)&&t0(e)}function Jb(a){return pa(a)&&a.oa.length<10}function Wb(a,e){a.oa.push(e);const i=Tr(a);i.b_()&&i.W_&&i.G_(e.mutations)}function Wv(a){return pa(a)&&!Tr(a).w_()&&a.oa.length>0}function t0(a){Tr(a).start()}async function t1(a){Tr(a).H_()}async function e1(a){const e=Tr(a);for(const i of a.oa)e.G_(i.mutations)}async function n1(a,e,i){const s=a.oa.shift(),u=vd.from(s,e,i);await Jv(a,()=>a.remoteSyncer.applySuccessfulWrite(u)),await yc(a)}async function i1(a,e){e&&Tr(a).W_&&await async function(s,u){if(function(d){return kS(d)&&d!==K.ABORTED}(u.code)){const h=s.oa.shift();Tr(s).D_(),await Jv(s,()=>s.remoteSyncer.rejectFailedWrite(h.batchId,u)),await yc(s)}}(a,e),Wv(a)&&t0(a)}async function u_(a,e){const i=Et(a);i.asyncQueue.verifyOperationInProgress(),it(fa,"RemoteStore received new credentials");const s=pa(i);i.aa.add(3),await au(i),s&&i.la.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.aa.delete(3),await pc(i)}async function r1(a,e){const i=Et(a);e?(i.aa.delete(2),await pc(i)):e||(i.aa.add(2),await au(i),i.la.set("Unknown"))}function Is(a){return a.Pa||(a.Pa=function(i,s,u){const h=Et(i);return h.Y_(),new jb(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)}(a.datastore,a.asyncQueue,{jo:Kb.bind(null,a),Jo:Xb.bind(null,a),Zo:Zb.bind(null,a),Q_:$b.bind(null,a)}),a.ua.push(async e=>{e?(a.Pa.D_(),Id(a)?Cd(a):a.la.set("Unknown")):(await a.Pa.stop(),$v(a))})),a.Pa}function Tr(a){return a.Ta||(a.Ta=function(i,s,u){const h=Et(i);return h.Y_(),new Hb(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)}(a.datastore,a.asyncQueue,{jo:()=>Promise.resolve(),Jo:t1.bind(null,a),Zo:i1.bind(null,a),z_:e1.bind(null,a),j_:n1.bind(null,a)}),a.ua.push(async e=>{e?(a.Ta.D_(),await yc(a)):(await a.Ta.stop(),a.oa.length>0&&(it(fa,`Stopping write stream with ${a.oa.length} pending writes`),a.oa=[]))})),a.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(e,i,s,u,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=u,this.removalCallback=h,this.deferred=new ca,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,u,h){const d=Date.now()+s,g=new Vd(e,i,d,u,h);return g.start(s),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new rt(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Nd(a,e){if(Mi("AsyncQueue",`${e}: ${a}`),Ds(a))return new rt(K.UNAVAILABLE,`${e}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{static emptySet(e){return new ms(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||ot.comparator(i.key,s.key):(i,s)=>ot.comparator(i.key,s.key),this.keyedMap=ql(),this.sortedSet=new ne(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,s)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof ms)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=s.getNext().key;if(!u.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new ms;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o_{constructor(){this.Ia=new ne(ot.comparator)}track(e){const i=e.doc.key,s=this.Ia.get(i);s?e.type!==0&&s.type===3?this.Ia=this.Ia.insert(i,e):e.type===3&&s.type!==1?this.Ia=this.Ia.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Ia=this.Ia.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Ia=this.Ia.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Ia=this.Ia.remove(i):e.type===1&&s.type===2?this.Ia=this.Ia.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Ia=this.Ia.insert(i,{type:2,doc:e.doc}):mt(63341,{Vt:e,Ea:s}):this.Ia=this.Ia.insert(i,e)}da(){const e=[];return this.Ia.inorderTraversal((i,s)=>{e.push(s)}),e}}class Ts{constructor(e,i,s,u,h,d,g,_,v){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=u,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=v}static fromInitialDocuments(e,i,s,u,h){const d=[];return i.forEach(g=>{d.push({type:0,doc:g})}),new Ts(e,i,ms.emptySet(i),d,s,u,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&cc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let u=0;u<i.length;u++)if(i[u].type!==s[u].type||!i[u].doc.isEqual(s[u].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class s1{constructor(){this.queries=c_(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(i,s){const u=Et(i),h=u.queries;u.queries=c_(),h.forEach((d,g)=>{for(const _ of g.Ra)_.onError(s)})})(this,new rt(K.ABORTED,"Firestore shutting down"))}}function c_(){return new ga(a=>Tv(a),cc)}async function l1(a,e){const i=Et(a);let s=3;const u=e.query;let h=i.queries.get(u);h?!h.Va()&&e.ma()&&(s=2):(h=new a1,s=e.ma()?0:1);try{switch(s){case 0:h.Aa=await i.onListen(u,!0);break;case 1:h.Aa=await i.onListen(u,!1);break;case 2:await i.onFirstRemoteStoreListen(u)}}catch(d){const g=Nd(d,`Initialization of query '${hs(e.query)}' failed`);return void e.onError(g)}i.queries.set(u,h),h.Ra.push(e),e.ga(i.onlineState),h.Aa&&e.pa(h.Aa)&&Od(i)}async function u1(a,e){const i=Et(a),s=e.query;let u=3;const h=i.queries.get(s);if(h){const d=h.Ra.indexOf(e);d>=0&&(h.Ra.splice(d,1),h.Ra.length===0?u=e.ma()?0:1:!h.Va()&&e.ma()&&(u=2))}switch(u){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function o1(a,e){const i=Et(a);let s=!1;for(const u of e){const h=u.query,d=i.queries.get(h);if(d){for(const g of d.Ra)g.pa(u)&&(s=!0);d.Aa=u}}s&&Od(i)}function c1(a,e,i){const s=Et(a),u=s.queries.get(e);if(u)for(const h of u.Ra)h.onError(i);s.queries.delete(e)}function Od(a){a.fa.forEach(e=>{e.next()})}var id,h_;(h_=id||(id={})).ya="default",h_.Cache="cache";class h1{constructor(e,i,s){this.query=e,this.wa=i,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=s||{}}pa(e){if(!this.options.includeMetadataChanges){const s=[];for(const u of e.docChanges)u.type!==3&&s.push(u);e=new Ts(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.ba?this.Da(e)&&(this.wa.next(e),i=!0):this.va(e,this.onlineState)&&(this.Ca(e),i=!0),this.Sa=e,i}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let i=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),i=!0),i}va(e,i){if(!e.fromCache||!this.ma())return!0;const s=i!=="Offline";return(!this.options.Fa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const i=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}Ca(e){e=Ts.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==id.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0{constructor(e){this.key=e}}class n0{constructor(e){this.key=e}}class f1{constructor(e,i){this.query=e,this.qa=i,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=Vt(),this.mutatedKeys=Vt(),this.Ua=Av(e),this.Ka=new ms(this.Ua)}get Wa(){return this.qa}Ga(e,i){const s=i?i.za:new o_,u=i?i.Ka:this.Ka;let h=i?i.mutatedKeys:this.mutatedKeys,d=u,g=!1;const _=this.query.limitType==="F"&&u.size===this.query.limit?u.last():null,v=this.query.limitType==="L"&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((A,D)=>{const U=u.get(A),j=hc(this.query,D)?D:null,$=!!U&&this.mutatedKeys.has(U.key),tt=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let X=!1;U&&j?U.data.isEqual(j.data)?$!==tt&&(s.track({type:3,doc:j}),X=!0):this.ja(U,j)||(s.track({type:2,doc:j}),X=!0,(_&&this.Ua(j,_)>0||v&&this.Ua(j,v)<0)&&(g=!0)):!U&&j?(s.track({type:0,doc:j}),X=!0):U&&!j&&(s.track({type:1,doc:U}),X=!0,(_||v)&&(g=!0)),X&&(j?(d=d.add(j),h=tt?h.add(A):h.delete(A)):(d=d.delete(A),h=h.delete(A)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),h=h.delete(A.key),s.track({type:1,doc:A})}return{Ka:d,za:s,ys:g,mutatedKeys:h}}ja(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,u){const h=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const d=e.za.da();d.sort((A,D)=>function(j,$){const tt=X=>{switch(X){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return mt(20277,{Vt:X})}};return tt(j)-tt($)}(A.type,D.type)||this.Ua(A.doc,D.doc)),this.Ha(s),u=u!=null&&u;const g=i&&!u?this.Ja():[],_=this.$a.size===0&&this.current&&!u?1:0,v=_!==this.Qa;return this.Qa=_,d.length!==0||v?{snapshot:new Ts(this.query,e.Ka,h,d,e.mutatedKeys,_===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ya:g}:{Ya:g}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new o_,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(i=>this.qa=this.qa.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.qa=this.qa.delete(i)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=Vt(),this.Ka.forEach(s=>{this.Za(s.key)&&(this.$a=this.$a.add(s.key))});const i=[];return e.forEach(s=>{this.$a.has(s)||i.push(new n0(s))}),this.$a.forEach(s=>{e.has(s)||i.push(new e0(s))}),i}Xa(e){this.qa=e.Ns,this.$a=Vt();const i=this.Ga(e.documents);return this.applyChanges(i,!0)}eu(){return Ts.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const Md="SyncEngine";class d1{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class m1{constructor(e){this.key=e,this.tu=!1}}class g1{constructor(e,i,s,u,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=u,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.nu={},this.ru=new ga(g=>Tv(g),cc),this.iu=new Map,this.su=new Set,this.ou=new ne(ot.comparator),this._u=new Map,this.au=new Ad,this.uu={},this.cu=new Map,this.lu=Es.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function p1(a,e,i=!0){const s=u0(a);let u;const h=s.ru.get(e);return h?(s.sharedClientState.addLocalQueryTarget(h.targetId),u=h.view.eu()):u=await i0(s,e,i,!0),u}async function y1(a,e){const i=u0(a);await i0(i,e,!0,!1)}async function i0(a,e,i,s){const u=await xb(a.localStore,ei(e)),h=u.targetId,d=a.sharedClientState.addLocalQueryTarget(h,i);let g;return s&&(g=await _1(a,e,h,d==="current",u.resumeToken)),a.isPrimaryClient&&i&&Xv(a.remoteStore,u),g}async function _1(a,e,i,s,u){a.Pu=(D,U,j)=>async function(tt,X,vt,At){let ht=X.view.Ga(vt);ht.ys&&(ht=await i_(tt.localStore,X.query,!1).then(({documents:N})=>X.view.Ga(N,ht)));const Tt=At&&At.targetChanges.get(X.targetId),pt=At&&At.targetMismatches.get(X.targetId)!=null,Nt=X.view.applyChanges(ht,tt.isPrimaryClient,Tt,pt);return d_(tt,X.targetId,Nt.Ya),Nt.snapshot}(a,D,U,j);const h=await i_(a.localStore,e,!0),d=new f1(e,h.Ns),g=d.Ga(h.documents),_=ru.createSynthesizedTargetChangeForCurrentChange(i,s&&a.onlineState!=="Offline",u),v=d.applyChanges(g,a.isPrimaryClient,_);d_(a,i,v.Ya);const A=new d1(e,i,d);return a.ru.set(e,A),a.iu.has(i)?a.iu.get(i).push(e):a.iu.set(i,[e]),v.snapshot}async function v1(a,e,i){const s=Et(a),u=s.ru.get(e),h=s.iu.get(u.targetId);if(h.length>1)return s.iu.set(u.targetId,h.filter(d=>!cc(d,e))),void s.ru.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(u.targetId),s.sharedClientState.isActiveQueryTarget(u.targetId)||await ed(s.localStore,u.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(u.targetId),i&&wd(s.remoteStore,u.targetId),rd(s,u.targetId)}).catch(ws)):(rd(s,u.targetId),await ed(s.localStore,u.targetId,!0))}async function E1(a,e){const i=Et(a),s=i.ru.get(e),u=i.iu.get(s.targetId);i.isPrimaryClient&&u.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),wd(i.remoteStore,s.targetId))}async function T1(a,e,i){const s=C1(a);try{const u=await function(d,g){const _=Et(d),v=Ae.now(),A=g.reduce((j,$)=>j.add($.key),Vt());let D,U;return _.persistence.runTransaction("Locally write mutations","readwrite",j=>{let $=xi(),tt=Vt();return _.Cs.getEntries(j,A).next(X=>{$=X,$.forEach((vt,At)=>{At.isValidDocument()||(tt=tt.add(vt))})}).next(()=>_.localDocuments.getOverlayedDocuments(j,$)).next(X=>{D=X;const vt=[];for(const At of g){const ht=xS(At,D.get(At.key).overlayedDocument);ht!=null&&vt.push(new br(At.key,ht,dv(ht.value.mapValue),xn.exists(!0)))}return _.mutationQueue.addMutationBatch(j,v,vt,g)}).next(X=>{U=X;const vt=X.applyToLocalDocumentSet(D,tt);return _.documentOverlayCache.saveOverlays(j,X.batchId,vt)})}).then(()=>({batchId:U.batchId,changes:bv(D)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(u.batchId),function(d,g,_){let v=d.uu[d.currentUser.toKey()];v||(v=new ne(Rt)),v=v.insert(g,_),d.uu[d.currentUser.toKey()]=v}(s,u.batchId,i),await su(s,u.changes),await yc(s.remoteStore)}catch(u){const h=Nd(u,"Failed to persist write");i.reject(h)}}async function r0(a,e){const i=Et(a);try{const s=await Nb(i.localStore,e);e.targetChanges.forEach((u,h)=>{const d=i._u.get(h);d&&(qt(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1,22616),u.addedDocuments.size>0?d.tu=!0:u.modifiedDocuments.size>0?qt(d.tu,14607):u.removedDocuments.size>0&&(qt(d.tu,42227),d.tu=!1))}),await su(i,s,e)}catch(s){await ws(s)}}function f_(a,e,i){const s=Et(a);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const u=[];s.ru.forEach((h,d)=>{const g=d.view.ga(e);g.snapshot&&u.push(g.snapshot)}),function(d,g){const _=Et(d);_.onlineState=g;let v=!1;_.queries.forEach((A,D)=>{for(const U of D.Ra)U.ga(g)&&(v=!0)}),v&&Od(_)}(s.eventManager,e),u.length&&s.nu.Q_(u),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function A1(a,e,i){const s=Et(a);s.sharedClientState.updateQueryState(e,"rejected",i);const u=s._u.get(e),h=u&&u.key;if(h){let d=new ne(ot.comparator);d=d.insert(h,Qe.newNoDocument(h,_t.min()));const g=Vt().add(h),_=new mc(_t.min(),new Map,new ne(Rt),d,g);await r0(s,_),s.ou=s.ou.remove(h),s._u.delete(e),xd(s)}else await ed(s.localStore,e,!1).then(()=>rd(s,e,i)).catch(ws)}async function S1(a,e){const i=Et(a),s=e.batch.batchId;try{const u=await Vb(i.localStore,e);s0(i,s,null),a0(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await su(i,u)}catch(u){await ws(u)}}async function b1(a,e,i){const s=Et(a);try{const u=await function(d,g){const _=Et(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let A;return _.mutationQueue.lookupMutationBatch(v,g).next(D=>(qt(D!==null,37113),A=D.keys(),_.mutationQueue.removeMutationBatch(v,D))).next(()=>_.mutationQueue.performConsistencyCheck(v)).next(()=>_.documentOverlayCache.removeOverlaysForBatchId(v,A,g)).next(()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,A)).next(()=>_.localDocuments.getDocuments(v,A))})}(s.localStore,e);s0(s,e,i),a0(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await su(s,u)}catch(u){await ws(u)}}function a0(a,e){(a.cu.get(e)||[]).forEach(i=>{i.resolve()}),a.cu.delete(e)}function s0(a,e,i){const s=Et(a);let u=s.uu[s.currentUser.toKey()];if(u){const h=u.get(e);h&&(i?h.reject(i):h.resolve(),u=u.remove(e)),s.uu[s.currentUser.toKey()]=u}}function rd(a,e,i=null){a.sharedClientState.removeLocalQueryTarget(e);for(const s of a.iu.get(e))a.ru.delete(s),i&&a.nu.Tu(s,i);a.iu.delete(e),a.isPrimaryClient&&a.au.Ur(e).forEach(s=>{a.au.containsKey(s)||l0(a,s)})}function l0(a,e){a.su.delete(e.path.canonicalString());const i=a.ou.get(e);i!==null&&(wd(a.remoteStore,i),a.ou=a.ou.remove(e),a._u.delete(i),xd(a))}function d_(a,e,i){for(const s of i)s instanceof e0?(a.au.addReference(s.key,e),R1(a,s)):s instanceof n0?(it(Md,"Document no longer in limbo: "+s.key),a.au.removeReference(s.key,e),a.au.containsKey(s.key)||l0(a,s.key)):mt(19791,{Iu:s})}function R1(a,e){const i=e.key,s=i.path.canonicalString();a.ou.get(i)||a.su.has(s)||(it(Md,"New document in limbo: "+i),a.su.add(s),xd(a))}function xd(a){for(;a.su.size>0&&a.ou.size<a.maxConcurrentLimboResolutions;){const e=a.su.values().next().value;a.su.delete(e);const i=new ot(Jt.fromString(e)),s=a.lu.next();a._u.set(s,new m1(i)),a.ou=a.ou.insert(i,s),Xv(a.remoteStore,new cr(ei(pd(i.path)),s,"TargetPurposeLimboResolution",lc.le))}}async function su(a,e,i){const s=Et(a),u=[],h=[],d=[];s.ru.isEmpty()||(s.ru.forEach((g,_)=>{d.push(s.Pu(_,e,i).then(v=>{var A;if((v||i)&&s.isPrimaryClient){const D=v?!v.fromCache:(A=i==null?void 0:i.targetChanges.get(_.targetId))===null||A===void 0?void 0:A.current;s.sharedClientState.updateQueryState(_.targetId,D?"current":"not-current")}if(v){u.push(v);const D=bd.Ps(_.targetId,v);h.push(D)}}))}),await Promise.all(d),s.nu.Q_(u),await async function(_,v){const A=Et(_);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",D=>Y.forEach(v,U=>Y.forEach(U.ls,j=>A.persistence.referenceDelegate.addReference(D,U.targetId,j)).next(()=>Y.forEach(U.hs,j=>A.persistence.referenceDelegate.removeReference(D,U.targetId,j)))))}catch(D){if(!Ds(D))throw D;it(Rd,"Failed to update sequence numbers: "+D)}for(const D of v){const U=D.targetId;if(!D.fromCache){const j=A.Ss.get(U),$=j.snapshotVersion,tt=j.withLastLimboFreeSnapshotVersion($);A.Ss=A.Ss.insert(U,tt)}}}(s.localStore,h))}async function w1(a,e){const i=Et(a);if(!i.currentUser.isEqual(e)){it(Md,"User change. New user:",e.toKey());const s=await Qv(i.localStore,e);i.currentUser=e,function(h,d){h.cu.forEach(g=>{g.forEach(_=>{_.reject(new rt(K.CANCELLED,d))})}),h.cu.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await su(i,s.Ms)}}function D1(a,e){const i=Et(a),s=i._u.get(e);if(s&&s.tu)return Vt().add(s.key);{let u=Vt();const h=i.iu.get(e);if(!h)return u;for(const d of h){const g=i.ru.get(d);u=u.unionWith(g.view.Wa)}return u}}function u0(a){const e=Et(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=r0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=D1.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=A1.bind(null,e),e.nu.Q_=o1.bind(null,e.eventManager),e.nu.Tu=c1.bind(null,e.eventManager),e}function C1(a){const e=Et(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=S1.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=b1.bind(null,e),e}class ic{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=gc(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,i){return null}fu(e,i){return null}Vu(e){return Ib(this.persistence,new wb,e.initialUser,this.serializer)}Ru(e){return new Gv(Sd.Ei,this.serializer)}Au(e){return new Lb}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ic.provider={build:()=>new ic};class I1 extends ic{constructor(e){super(),this.cacheSizeBytes=e}mu(e,i){qt(this.persistence.referenceDelegate instanceof ec,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new hb(s,e.asyncQueue,i)}Ru(e){const i=this.cacheSizeBytes!==void 0?We.withCacheSize(this.cacheSizeBytes):We.DEFAULT;return new Gv(s=>ec.Ei(s,i),this.serializer)}}class ad{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>f_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=w1.bind(null,this.syncEngine),await r1(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new s1}()}createDatastore(e){const i=gc(e.databaseInfo.databaseId),s=function(h){return new qb(h)}(e.databaseInfo);return function(h,d,g,_){return new Qb(h,d,g,_)}(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return function(s,u,h,d,g){return new Yb(s,u,h,d,g)}(this.localStore,this.datastore,e.asyncQueue,i=>f_(this.syncEngine,i,0),function(){return s_.C()?new s_:new zb}())}createSyncEngine(e,i){return function(u,h,d,g,_,v,A){const D=new g1(u,h,d,g,_,v);return A&&(D.hu=!0),D}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await async function(u){const h=Et(u);it(fa,"RemoteStore shutting down."),h.aa.add(5),await au(h),h.ca.shutdown(),h.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}ad.provider={build:()=>new ad};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):Mi("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ar="FirestoreClient";class N1{constructor(e,i,s,u,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=u,this.user=Ge.UNAUTHENTICATED,this.clientId=iv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(s,async d=>{it(Ar,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(it(Ar,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ca;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=Nd(i,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Lf(a,e){a.asyncQueue.verifyOperationInProgress(),it(Ar,"Initializing OfflineComponentProvider");const i=a.configuration;await e.initialize(i);let s=i.initialUser;a.setCredentialChangeListener(async u=>{s.isEqual(u)||(await Qv(e.localStore,u),s=u)}),e.persistence.setDatabaseDeletedListener(()=>a.terminate()),a._offlineComponents=e}async function m_(a,e){a.asyncQueue.verifyOperationInProgress();const i=await O1(a);it(Ar,"Initializing OnlineComponentProvider"),await e.initialize(i,a.configuration),a.setCredentialChangeListener(s=>u_(e.remoteStore,s)),a.setAppCheckTokenChangeListener((s,u)=>u_(e.remoteStore,u)),a._onlineComponents=e}async function O1(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){it(Ar,"Using user provided OfflineComponentProvider");try{await Lf(a,a._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(u){return u.name==="FirebaseError"?u.code===K.FAILED_PRECONDITION||u.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||u.code===22||u.code===20||u.code===11}(i))throw i;ps("Error using user provided cache. Falling back to memory cache: "+i),await Lf(a,new ic)}}else it(Ar,"Using default OfflineComponentProvider"),await Lf(a,new I1(void 0));return a._offlineComponents}async function o0(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(it(Ar,"Using user provided OnlineComponentProvider"),await m_(a,a._uninitializedComponentsProvider._online)):(it(Ar,"Using default OnlineComponentProvider"),await m_(a,new ad))),a._onlineComponents}function M1(a){return o0(a).then(e=>e.syncEngine)}async function g_(a){const e=await o0(a),i=e.eventManager;return i.onListen=p1.bind(null,e.syncEngine),i.onUnlisten=v1.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=y1.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=E1.bind(null,e.syncEngine),i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c0(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h0(a,e,i){if(!i)throw new rt(K.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function x1(a,e,i,s){if(e===!0&&s===!0)throw new rt(K.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function y_(a){if(!ot.isDocumentKey(a))throw new rt(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function __(a){if(ot.isDocumentKey(a))throw new rt(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function _c(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(a);return e?`a custom ${e} object`:"an object"}}return typeof a=="function"?"a function":mt(12329,{type:typeof a})}function gr(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new rt(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=_c(a);throw new rt(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f0="firestore.googleapis.com",v_=!0;class E_{constructor(e){var i,s;if(e.host===void 0){if(e.ssl!==void 0)throw new rt(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=f0,this.ssl=v_}else this.host=e.host,this.ssl=(i=e.ssl)!==null&&i!==void 0?i:v_;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Hv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<ob)throw new rt(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}x1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=c0((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(h){if(h.timeoutSeconds!==void 0){if(isNaN(h.timeoutSeconds))throw new rt(K.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new rt(K.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new rt(K.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,u){return s.timeoutSeconds===u.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class vc{constructor(e,i,s,u){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new E_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new rt(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new rt(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new E_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new BA;switch(s.type){case"firstParty":return new GA(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new rt(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=p_.get(i);s&&(it("ComponentProvider","Removing Datastore"),p_.delete(i),s.terminate())}(this),Promise.resolve()}}function U1(a,e,i,s={}){var u;const h=(a=gr(a,vc))._getSettings(),d=Object.assign(Object.assign({},h),{emulatorOptions:a._getEmulatorOptions()}),g=`${e}:${i}`;h.host!==f0&&h.host!==g&&ps("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _=Object.assign(Object.assign({},h),{host:g,ssl:!1,emulatorOptions:s});if(!Fo(_,d)&&(a._setSettings(_),s.mockUserToken)){let v,A;if(typeof s.mockUserToken=="string")v=s.mockUserToken,A=Ge.MOCK_USER;else{v=L_(s.mockUserToken,(u=a._app)===null||u===void 0?void 0:u.options.projectId);const D=s.mockUserToken.sub||s.mockUserToken.user_id;if(!D)throw new rt(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Ge(D)}a._authCredentials=new qA(new ev(v,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ya(this.firestore,e,this._query)}}class en{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new pr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new en(this.firestore,e,this._key)}}class pr extends ya{constructor(e,i,s){super(e,i,pd(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new en(this.firestore,null,new ot(e))}withConverter(e){return new pr(this.firestore,e,this._path)}}function d0(a,e,...i){if(a=Un(a),h0("collection","path",e),a instanceof vc){const s=Jt.fromString(e,...i);return __(s),new pr(a,null,s)}{if(!(a instanceof en||a instanceof pr))throw new rt(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(Jt.fromString(e,...i));return __(s),new pr(a.firestore,null,s)}}function As(a,e,...i){if(a=Un(a),arguments.length===1&&(e=iv.newId()),h0("doc","path",e),a instanceof vc){const s=Jt.fromString(e,...i);return y_(s),new en(a,null,new ot(s))}{if(!(a instanceof en||a instanceof pr))throw new rt(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(Jt.fromString(e,...i));return y_(s),new en(a.firestore,a instanceof pr?a.converter:null,new ot(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T_="AsyncQueue";class A_{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new Yv(this,"async_queue_retry"),this.ju=()=>{const s=Uf();s&&it(T_,"Visibility state changed to "+s.visibilityState),this.y_.A_()},this.Hu=e;const i=Uf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const i=Uf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const i=new ca;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!Ds(e))throw e;it(T_,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const i=this.Hu.then(()=>(this.Wu=!0,e().catch(s=>{throw this.Ku=s,this.Wu=!1,Mi("INTERNAL UNHANDLED ERROR: ",S_(s)),s}).then(s=>(this.Wu=!1,s))));return this.Hu=i,i}enqueueAfterDelay(e,i,s){this.Ju(),this.zu.indexOf(e)>-1&&(i=0);const u=Vd.createAndSchedule(this,e,i,s,h=>this.Xu(h));return this.Uu.push(u),u}Ju(){this.Ku&&mt(47125,{ec:S_(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const i of this.Uu)if(i.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.Uu)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const i=this.Uu.indexOf(e);this.Uu.splice(i,1)}}function S_(a){let e=a.message||"";return a.stack&&(e=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b_(a){return function(i,s){if(typeof i!="object"||i===null)return!1;const u=i;for(const h of s)if(h in u&&typeof u[h]=="function")return!0;return!1}(a,["next","error","complete"])}class Ss extends vc{constructor(e,i,s,u){super(e,i,s,u),this.type="firestore",this._queue=new A_,this._persistenceKey=(u==null?void 0:u.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new A_(e),this._firestoreClient=void 0,await e}}}function L1(a,e){const i=typeof a=="object"?a:Q_(),s=typeof a=="string"?a:Xo,u=q_(i,"firestore").getImmediate({identifier:s});if(!u._initialized){const h=x_("firestore");h&&U1(u,...h)}return u}function m0(a){if(a._terminated)throw new rt(K.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||z1(a),a._firestoreClient}function z1(a){var e,i,s;const u=a._freezeSettings(),h=function(g,_,v,A){return new aS(g,_,v,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,c0(A.experimentalLongPollingOptions),A.useFetchStreams)}(a._databaseId,((e=a._app)===null||e===void 0?void 0:e.options.appId)||"",a._persistenceKey,u);a._componentsProvider||!((i=u.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((s=u.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(a._componentsProvider={_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider}),a._firestoreClient=new N1(a._authCredentials,a._appCheckCredentials,a._queue,h,a._componentsProvider&&function(g){const _=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(_),_online:_}}(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new bs(ke.fromBase64String(e))}catch(i){throw new rt(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new bs(ke.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new rt(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new rt(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new rt(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Rt(this._lat,e._lat)||Rt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,u){if(s.length!==u.length)return!1;for(let h=0;h<s.length;++h)if(s[h]!==u[h])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P1=/^__.*__$/;class k1{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new br(e,this.data,this.fieldMask,i,this.fieldTransforms):new iu(e,this.data,i,this.fieldTransforms)}}class g0{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return new br(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function p0(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw mt(40011,{oc:a})}}class Pd{constructor(e,i,s,u,h,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=u,h===void 0&&this._c(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new Pd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),u=this.ac({path:s,cc:!1});return u.lc(e),u}hc(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),u=this.ac({path:s,cc:!1});return u._c(),u}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return rc(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(p0(this.oc)&&P1.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class B1{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||gc(e)}dc(e,i,s,u=!1){return new Pd({oc:e,methodName:i,Ec:s,path:Pe.emptyPath(),cc:!1,Ic:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function kd(a){const e=a._freezeSettings(),i=gc(a._databaseId);return new B1(a._databaseId,!!e.ignoreUndefinedProperties,i)}function q1(a,e,i,s,u,h={}){const d=a.dc(h.merge||h.mergeFields?2:0,e,i,u);Bd("Data must be an object, but it was:",d,s);const g=y0(s,d);let _,v;if(h.merge)_=new fn(d.fieldMask),v=d.fieldTransforms;else if(h.mergeFields){const A=[];for(const D of h.mergeFields){const U=sd(e,D,i);if(!d.contains(U))throw new rt(K.INVALID_ARGUMENT,`Field '${U}' is specified in your field mask but missing from your input data.`);v0(A,U)||A.push(U)}_=new fn(A),v=d.fieldTransforms.filter(D=>_.covers(D.field))}else _=null,v=d.fieldTransforms;return new k1(new tn(g),_,v)}class Tc extends Ud{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Tc}}function j1(a,e,i,s){const u=a.dc(1,e,i);Bd("Data must be an object, but it was:",u,s);const h=[],d=tn.empty();Sr(s,(_,v)=>{const A=qd(e,_,i);v=Un(v);const D=u.hc(A);if(v instanceof Tc)h.push(A);else{const U=lu(v,D);U!=null&&(h.push(A),d.set(A,U))}});const g=new fn(h);return new g0(d,g,u.fieldTransforms)}function H1(a,e,i,s,u,h){const d=a.dc(1,e,i),g=[sd(e,s,i)],_=[u];if(h.length%2!=0)throw new rt(K.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let U=0;U<h.length;U+=2)g.push(sd(e,h[U])),_.push(h[U+1]);const v=[],A=tn.empty();for(let U=g.length-1;U>=0;--U)if(!v0(v,g[U])){const j=g[U];let $=_[U];$=Un($);const tt=d.hc(j);if($ instanceof Tc)v.push(j);else{const X=lu($,tt);X!=null&&(v.push(j),A.set(j,X))}}const D=new fn(v);return new g0(A,D,d.fieldTransforms)}function G1(a,e,i,s=!1){return lu(i,a.dc(s?4:3,e))}function lu(a,e){if(_0(a=Un(a)))return Bd("Unsupported field value:",e,a),y0(a,e);if(a instanceof Ud)return function(s,u){if(!p0(u.oc))throw u.Tc(`${s._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Tc(`${s._methodName}() is not currently supported inside arrays`);const h=s._toFieldTransform(u);h&&u.fieldTransforms.push(h)}(a,e),null;if(a===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(s,u){const h=[];let d=0;for(const g of s){let _=lu(g,u.Pc(d));_==null&&(_={nullValue:"NULL_VALUE"}),h.push(_),d++}return{arrayValue:{values:h}}}(a,e)}return function(s,u){if((s=Un(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return CS(u.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const h=Ae.fromDate(s);return{timestampValue:tc(u.serializer,h)}}if(s instanceof Ae){const h=new Ae(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:tc(u.serializer,h)}}if(s instanceof Ld)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof bs)return{bytesValue:Lv(u.serializer,s._byteString)};if(s instanceof en){const h=u.databaseId,d=s.firestore._databaseId;if(!d.isEqual(h))throw u.Tc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Td(s.firestore._databaseId||u.databaseId,s._key.path)}}if(s instanceof zd)return function(d,g){return{mapValue:{fields:{[hv]:{stringValue:fv},[Zo]:{arrayValue:{values:d.toArray().map(v=>{if(typeof v!="number")throw g.Tc("VectorValues must only contain numeric values.");return yd(g.serializer,v)})}}}}}}(s,u);throw u.Tc(`Unsupported field value: ${_c(s)}`)}(a,e)}function y0(a,e){const i={};return av(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Sr(a,(s,u)=>{const h=lu(u,e.uc(s));h!=null&&(i[s]=h)}),{mapValue:{fields:i}}}function _0(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof Ae||a instanceof Ld||a instanceof bs||a instanceof en||a instanceof Ud||a instanceof zd)}function Bd(a,e,i){if(!_0(i)||!function(u){return typeof u=="object"&&u!==null&&(Object.getPrototypeOf(u)===Object.prototype||Object.getPrototypeOf(u)===null)}(i)){const s=_c(i);throw s==="an object"?e.Tc(a+" a custom object"):e.Tc(a+" "+s)}}function sd(a,e,i){if((e=Un(e))instanceof Ec)return e._internalPath;if(typeof e=="string")return qd(a,e);throw rc("Field path arguments must be of type string or ",a,!1,void 0,i)}const Q1=new RegExp("[~\\*/\\[\\]]");function qd(a,e,i){if(e.search(Q1)>=0)throw rc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new Ec(...e.split("."))._internalPath}catch{throw rc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function rc(a,e,i,s,u){const h=s&&!s.isEmpty(),d=u!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(h||d)&&(_+=" (found",h&&(_+=` in field ${s}`),d&&(_+=` in document ${u}`),_+=")"),new rt(K.INVALID_ARGUMENT,g+a+_)}function v0(a,e){return a.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(e,i,s,u,h){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=u,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new en(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new F1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(jd("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class F1 extends E0{data(){return super.data()}}function jd(a,e){return typeof e=="string"?qd(a,e):e instanceof Ec?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y1(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new rt(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Hd{}class T0 extends Hd{}function K1(a,e,...i){let s=[];e instanceof Hd&&s.push(e),s=s.concat(i),function(h){const d=h.filter(_=>_ instanceof Qd).length,g=h.filter(_=>_ instanceof Gd).length;if(d>1||d>0&&g>0)throw new rt(K.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const u of s)a=u._apply(a);return a}class Gd extends T0{constructor(e,i,s){super(),this._field=e,this._op=i,this._value=s,this.type="where"}static _create(e,i,s){return new Gd(e,i,s)}_apply(e){const i=this._parse(e);return A0(e._query,i),new ya(e.firestore,e.converter,Xf(e._query,i))}_parse(e){const i=kd(e.firestore);return function(h,d,g,_,v,A,D){let U;if(v.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new rt(K.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){w_(D,A);const $=[];for(const tt of D)$.push(R_(_,h,tt));U={arrayValue:{values:$}}}else U=R_(_,h,D)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||w_(D,A),U=G1(g,d,D,A==="in"||A==="not-in");return pe.create(v,A,U)}(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}class Qd extends Hd{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new Qd(e,i)}_parse(e){const i=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return i.length===1?i[0]:Ln.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:(function(u,h){let d=u;const g=h.getFlattenedFilters();for(const _ of g)A0(d,_),d=Xf(d,_)}(e._query,i),new ya(e.firestore,e.converter,Xf(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Fd extends T0{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new Fd(e,i)}_apply(e){const i=function(u,h,d){if(u.startAt!==null)throw new rt(K.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(u.endAt!==null)throw new rt(K.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new tu(h,d)}(e._query,this._field,this._direction);return new ya(e.firestore,e.converter,function(u,h){const d=u.explicitOrderBy.concat([h]);return new Cs(u.path,u.collectionGroup,d,u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(e._query,i))}}function X1(a,e="asc"){const i=e,s=jd("orderBy",a);return Fd._create(s,i)}function R_(a,e,i){if(typeof(i=Un(i))=="string"){if(i==="")throw new rt(K.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ev(e)&&i.indexOf("/")!==-1)throw new rt(K.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=e.path.child(Jt.fromString(i));if(!ot.isDocumentKey(s))throw new rt(K.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Py(a,new ot(s))}if(i instanceof en)return Py(a,i._key);throw new rt(K.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${_c(i)}.`)}function w_(a,e){if(!Array.isArray(a)||a.length===0)throw new rt(K.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function A0(a,e){const i=function(u,h){for(const d of u)for(const g of d.getFlattenedFilters())if(h.indexOf(g.op)>=0)return g.op;return null}(a.filters,function(u){switch(u){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(i!==null)throw i===e.op?new rt(K.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new rt(K.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class Z1{convertValue(e,i="none"){switch(Er(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ce(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(vr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw mt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return Sr(e,(u,h)=>{s[u]=this.convertValue(h,i)}),s}convertVectorValue(e){var i,s,u;const h=(u=(s=(i=e.fields)===null||i===void 0?void 0:i[Zo].arrayValue)===null||s===void 0?void 0:s.values)===null||u===void 0?void 0:u.map(d=>ce(d.doubleValue));return new zd(h)}convertGeoPoint(e){return new Ld(ce(e.latitude),ce(e.longitude))}convertArray(e,i){return(e.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(e,i){switch(i){case"previous":const s=oc(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp($l(e));default:return null}}convertTimestamp(e){const i=_r(e);return new Ae(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=Jt.fromString(e);qt(jv(s),9688,{name:e});const u=new Jl(s.get(1),s.get(3)),h=new ot(s.popFirst(5));return u.isEqual(i)||Mi(`Document ${h} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $1(a,e,i){let s;return s=a?a.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class S0 extends E0{constructor(e,i,s,u,h,d){super(e,i,s,u,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Go(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(jd("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}}class Go extends S0{data(e={}){return super.data(e)}}class J1{constructor(e,i,s,u){this._firestore=e,this._userDataWriter=i,this._snapshot=u,this.metadata=new Hl(u.hasPendingWrites,u.fromCache),this.query=s}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(s=>{e.call(i,new Go(this._firestore,this._userDataWriter,s.key,s,new Hl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new rt(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(u,h){if(u._snapshot.oldDocs.isEmpty()){let d=0;return u._snapshot.docChanges.map(g=>{const _=new Go(u._firestore,u._userDataWriter,g.doc.key,g.doc,new Hl(u._snapshot.mutatedKeys.has(g.doc.key),u._snapshot.fromCache),u.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}})}{let d=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(g=>h||g.type!==3).map(g=>{const _=new Go(u._firestore,u._userDataWriter,g.doc.key,g.doc,new Hl(u._snapshot.mutatedKeys.has(g.doc.key),u._snapshot.fromCache),u.query.converter);let v=-1,A=-1;return g.type!==0&&(v=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:W1(g.type),doc:_,oldIndex:v,newIndex:A}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function W1(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return mt(61501,{type:a})}}class b0 extends Z1{constructor(e){super(),this.firestore=e}convertBytes(e){return new bs(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new en(this.firestore,null,i)}}function Yd(a,e,i,...s){a=gr(a,en);const u=gr(a.firestore,Ss),h=kd(u);let d;return d=typeof(e=Un(e))=="string"||e instanceof Ec?H1(h,"updateDoc",a._key,e,i,s):j1(h,"updateDoc",a._key,e),Kd(u,[d.toMutation(a._key,xn.exists(!0))])}function R0(a){return Kd(gr(a.firestore,Ss),[new _d(a._key,xn.none())])}function tR(a,e){const i=gr(a.firestore,Ss),s=As(a),u=$1(a.converter,e);return Kd(i,[q1(kd(a.firestore),"addDoc",s._key,u,a.converter!==null,{}).toMutation(s._key,xn.exists(!1))]).then(()=>s)}function eR(a,...e){var i,s,u;a=Un(a);let h={includeMetadataChanges:!1,source:"default"},d=0;typeof e[d]!="object"||b_(e[d])||(h=e[d],d++);const g={includeMetadataChanges:h.includeMetadataChanges,source:h.source};if(b_(e[d])){const D=e[d];e[d]=(i=D.next)===null||i===void 0?void 0:i.bind(D),e[d+1]=(s=D.error)===null||s===void 0?void 0:s.bind(D),e[d+2]=(u=D.complete)===null||u===void 0?void 0:u.bind(D)}let _,v,A;if(a instanceof en)v=gr(a.firestore,Ss),A=pd(a._key.path),_={next:D=>{e[d]&&e[d](nR(v,a,D))},error:e[d+1],complete:e[d+2]};else{const D=gr(a,ya);v=gr(D.firestore,Ss),A=D._query;const U=new b0(v);_={next:j=>{e[d]&&e[d](new J1(v,U,D,j))},error:e[d+1],complete:e[d+2]},Y1(a._query)}return function(U,j,$,tt){const X=new V1(tt),vt=new h1(j,X,$);return U.asyncQueue.enqueueAndForget(async()=>l1(await g_(U),vt)),()=>{X.yu(),U.asyncQueue.enqueueAndForget(async()=>u1(await g_(U),vt))}}(m0(v),A,g,_)}function Kd(a,e){return function(s,u){const h=new ca;return s.asyncQueue.enqueueAndForget(async()=>T1(await M1(s),u,h)),h.promise}(m0(a),e)}function nR(a,e,i){const s=i.docs.get(e._key),u=new b0(a);return new S0(a,u,e._key,s,new Hl(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(u){Rs=u})(H_),Kl(new gs("firestore",(s,{instanceIdentifier:u,options:h})=>{const d=s.getProvider("app").getImmediate(),g=new Ss(new jA(s.getProvider("auth-internal")),new QA(d,s.getProvider("app-check-internal")),function(v,A){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new rt(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Jl(v.options.projectId,A)}(d,u),d);return h=Object.assign({useFetchStreams:i},h),g._setSettings(h),g},"PUBLIC").setMultipleInstances(!0)),dr(wy,Dy,e),dr(wy,Dy,"esm2017")})();var iR="firebase",rR="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */dr(iR,rR,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w0="firebasestorage.googleapis.com",aR="storageBucket",sR=2*60*1e3,lR=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai extends ma{constructor(e,i,s=0){super(zf(e),`Firebase Storage: ${i} (${zf(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ai.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return zf(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ri;(function(a){a.UNKNOWN="unknown",a.OBJECT_NOT_FOUND="object-not-found",a.BUCKET_NOT_FOUND="bucket-not-found",a.PROJECT_NOT_FOUND="project-not-found",a.QUOTA_EXCEEDED="quota-exceeded",a.UNAUTHENTICATED="unauthenticated",a.UNAUTHORIZED="unauthorized",a.UNAUTHORIZED_APP="unauthorized-app",a.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",a.INVALID_CHECKSUM="invalid-checksum",a.CANCELED="canceled",a.INVALID_EVENT_NAME="invalid-event-name",a.INVALID_URL="invalid-url",a.INVALID_DEFAULT_BUCKET="invalid-default-bucket",a.NO_DEFAULT_BUCKET="no-default-bucket",a.CANNOT_SLICE_BLOB="cannot-slice-blob",a.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",a.NO_DOWNLOAD_URL="no-download-url",a.INVALID_ARGUMENT="invalid-argument",a.INVALID_ARGUMENT_COUNT="invalid-argument-count",a.APP_DELETED="app-deleted",a.INVALID_ROOT_OPERATION="invalid-root-operation",a.INVALID_FORMAT="invalid-format",a.INTERNAL_ERROR="internal-error",a.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ri||(ri={}));function zf(a){return"storage/"+a}function uR(){const a="An unknown error occurred, please check the error payload for server response.";return new ai(ri.UNKNOWN,a)}function oR(){return new ai(ri.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function cR(){return new ai(ri.CANCELED,"User canceled the upload/download.")}function hR(a){return new ai(ri.INVALID_URL,"Invalid URL '"+a+"'.")}function fR(a){return new ai(ri.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+a+"'.")}function D_(a){return new ai(ri.INVALID_ARGUMENT,a)}function D0(){return new ai(ri.APP_DELETED,"The Firebase app was deleted.")}function dR(a){return new ai(ri.INVALID_ROOT_OPERATION,"The operation '"+a+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e,i){this.bucket=e,this.path_=i}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,i){let s;try{s=Mn.makeFromUrl(e,i)}catch{return new Mn(e,"")}if(s.path==="")return s;throw fR(e)}static makeFromUrl(e,i){let s=null;const u="([A-Za-z0-9.\\-_]+)";function h(Tt){Tt.path.charAt(Tt.path.length-1)==="/"&&(Tt.path_=Tt.path_.slice(0,-1))}const d="(/(.*))?$",g=new RegExp("^gs://"+u+d,"i"),_={bucket:1,path:3};function v(Tt){Tt.path_=decodeURIComponent(Tt.path)}const A="v[A-Za-z0-9_]+",D=i.replace(/[.]/g,"\\."),U="(/([^?#]*).*)?$",j=new RegExp(`^https?://${D}/${A}/b/${u}/o${U}`,"i"),$={bucket:1,path:3},tt=i===w0?"(?:storage.googleapis.com|storage.cloud.google.com)":i,X="([^?#]*)",vt=new RegExp(`^https?://${tt}/${u}/${X}`,"i"),ht=[{regex:g,indices:_,postModify:h},{regex:j,indices:$,postModify:v},{regex:vt,indices:{bucket:1,path:2},postModify:v}];for(let Tt=0;Tt<ht.length;Tt++){const pt=ht[Tt],Nt=pt.regex.exec(e);if(Nt){const N=Nt[pt.indices.bucket];let S=Nt[pt.indices.path];S||(S=""),s=new Mn(N,S),pt.postModify(s);break}}if(s==null)throw hR(e);return s}}class mR{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gR(a,e,i){let s=1,u=null,h=null,d=!1,g=0;function _(){return g===2}let v=!1;function A(...X){v||(v=!0,e.apply(null,X))}function D(X){u=setTimeout(()=>{u=null,a(j,_())},X)}function U(){h&&clearTimeout(h)}function j(X,...vt){if(v){U();return}if(X){U(),A.call(null,X,...vt);return}if(_()||d){U(),A.call(null,X,...vt);return}s<64&&(s*=2);let ht;g===1?(g=2,ht=0):ht=(s+Math.random())*1e3,D(ht)}let $=!1;function tt(X){$||($=!0,U(),!v&&(u!==null?(X||(g=2),clearTimeout(u),D(0)):X||(g=1)))}return D(0),h=setTimeout(()=>{d=!0,tt(!0)},i),tt}function pR(a){a(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yR(a){return a!==void 0}function C_(a,e,i,s){if(s<e)throw D_(`Invalid value for '${a}'. Expected ${e} or greater.`);if(s>i)throw D_(`Invalid value for '${a}'. Expected ${i} or less.`)}function _R(a){const e=encodeURIComponent;let i="?";for(const s in a)if(a.hasOwnProperty(s)){const u=e(s)+"="+e(a[s]);i=i+u+"&"}return i=i.slice(0,-1),i}var ac;(function(a){a[a.NO_ERROR=0]="NO_ERROR",a[a.NETWORK_ERROR=1]="NETWORK_ERROR",a[a.ABORT=2]="ABORT"})(ac||(ac={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vR(a,e){const i=a>=500&&a<600,u=[408,429].indexOf(a)!==-1,h=e.indexOf(a)!==-1;return i||u||h}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(e,i,s,u,h,d,g,_,v,A,D,U=!0){this.url_=e,this.method_=i,this.headers_=s,this.body_=u,this.successCodes_=h,this.additionalRetryCodes_=d,this.callback_=g,this.errorCallback_=_,this.timeout_=v,this.progressCallback_=A,this.connectionFactory_=D,this.retry=U,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((j,$)=>{this.resolve_=j,this.reject_=$,this.start_()})}start_(){const e=(s,u)=>{if(u){s(!1,new Po(!1,null,!0));return}const h=this.connectionFactory_();this.pendingConnection_=h;const d=g=>{const _=g.loaded,v=g.lengthComputable?g.total:-1;this.progressCallback_!==null&&this.progressCallback_(_,v)};this.progressCallback_!==null&&h.addUploadProgressListener(d),h.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&h.removeUploadProgressListener(d),this.pendingConnection_=null;const g=h.getErrorCode()===ac.NO_ERROR,_=h.getStatus();if(!g||vR(_,this.additionalRetryCodes_)&&this.retry){const A=h.getErrorCode()===ac.ABORT;s(!1,new Po(!1,null,A));return}const v=this.successCodes_.indexOf(_)!==-1;s(!0,new Po(v,h))})},i=(s,u)=>{const h=this.resolve_,d=this.reject_,g=u.connection;if(u.wasSuccessCode)try{const _=this.callback_(g,g.getResponse());yR(_)?h(_):h()}catch(_){d(_)}else if(g!==null){const _=uR();_.serverResponse=g.getErrorText(),this.errorCallback_?d(this.errorCallback_(g,_)):d(_)}else if(u.canceled){const _=this.appDelete_?D0():cR();d(_)}else{const _=oR();d(_)}};this.canceled_?i(!1,new Po(!1,null,!0)):this.backoffId_=gR(e,i,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&pR(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Po{constructor(e,i,s){this.wasSuccessCode=e,this.connection=i,this.canceled=!!s}}function TR(a,e){e!==null&&e.length>0&&(a.Authorization="Firebase "+e)}function AR(a,e){a["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function SR(a,e){e&&(a["X-Firebase-GMPID"]=e)}function bR(a,e){e!==null&&(a["X-Firebase-AppCheck"]=e)}function RR(a,e,i,s,u,h,d=!0){const g=_R(a.urlParams),_=a.url+g,v=Object.assign({},a.headers);return SR(v,e),TR(v,i),AR(v,h),bR(v,s),new ER(_,a.method,v,a.body,a.successCodes,a.additionalRetryCodes,a.handler,a.errorHandler,a.timeout,a.progressCallback,u,d)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wR(a){if(a.length===0)return null;const e=a.lastIndexOf("/");return e===-1?"":a.slice(0,e)}function DR(a){const e=a.lastIndexOf("/",a.length-2);return e===-1?a:a.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e,i){this._service=e,i instanceof Mn?this._location=i:this._location=Mn.makeFromUrl(i,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,i){return new sc(e,i)}get root(){const e=new Mn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return DR(this._location.path)}get storage(){return this._service}get parent(){const e=wR(this._location.path);if(e===null)return null;const i=new Mn(this._location.bucket,e);return new sc(this._service,i)}_throwIfRoot(e){if(this._location.path==="")throw dR(e)}}function I_(a,e){const i=e==null?void 0:e[aR];return i==null?null:Mn.makeFromBucketSpec(i,a)}function CR(a,e,i,s={}){a.host=`${e}:${i}`,a._protocol="http";const{mockUserToken:u}=s;u&&(a._overrideAuthToken=typeof u=="string"?u:L_(u,a.app.options.projectId))}class IR{constructor(e,i,s,u,h){this.app=e,this._authProvider=i,this._appCheckProvider=s,this._url=u,this._firebaseVersion=h,this._bucket=null,this._host=w0,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=sR,this._maxUploadRetryTime=lR,this._requests=new Set,u!=null?this._bucket=Mn.makeFromBucketSpec(u,this._host):this._bucket=I_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Mn.makeFromBucketSpec(this._url,e):this._bucket=I_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){C_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){C_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const i=await e.getToken();if(i!==null)return i.accessToken}return null}async _getAppCheckToken(){if(j_(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new sc(this,e)}_makeRequest(e,i,s,u,h=!0){if(this._deleted)return new mR(D0());{const d=RR(e,this._appId,s,u,i,this._firebaseVersion,h);return this._requests.add(d),d.getPromise().then(()=>this._requests.delete(d),()=>this._requests.delete(d)),d}}async makeRequestWithTokens(e,i){const[s,u]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,i,s,u).getPromise()}}const V_="@firebase/storage",N_="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C0="storage";function VR(a=Q_(),e){a=Un(a);const s=q_(a,C0).getImmediate({identifier:e}),u=x_("storage");return u&&NR(s,...u),s}function NR(a,e,i,s={}){CR(a,e,i,s)}function OR(a,{instanceIdentifier:e}){const i=a.getProvider("app").getImmediate(),s=a.getProvider("auth-internal"),u=a.getProvider("app-check-internal");return new IR(i,s,u,e,H_)}function MR(){Kl(new gs(C0,OR,"PUBLIC").setMultipleInstances(!0)),dr(V_,N_,""),dr(V_,N_,"esm2017")}MR();const I0={apiKey:"AIzaSyBu1QH54IB7omTei8sPIItv0vPDZ-D9FXc",authDomain:"retreat-score.firebaseapp.com",projectId:"retreat-score",storageBucket:"retreat-score.firebasestorage.app",messagingSenderId:"197516255250",appId:"1:197516255250:web:cbf0ce5333a31270b4b8cb"};console.log(" Firebase config:",I0);const V0=G_(I0),da=L1(V0);VR(V0);function N0(a){let e=0;for(let s=0;s<a.length;s++)e=a.charCodeAt(s)+((e<<5)-e);return`hsl(${Math.abs(e)%360} 70% 50%)`}function xR({team:a,isAdmin:e,onEdit:i}){const s=a.name.split(" ").map(g=>{var _;return((_=g[0])==null?void 0:_.toUpperCase())||""}).join("").slice(0,2),u=N0(a.id),h=async()=>await Yd(As(da,"teams",a.id),{score:(a.score||0)+1}),d=async()=>{window.confirm(`Delete team ${a.name}? This cannot be undone.`)&&await R0(As(da,"teams",a.id))};return lt.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6 flex flex-col items-center hover:shadow-lg transition-shadow",children:[lt.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center font-bold text-xl mb-4",style:{background:`${u}22`,color:u},children:s||"#"}),lt.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-1",children:a.name}),lt.jsxs("p",{className:"text-gray-600 mb-4",children:["Score:"," ",lt.jsx("span",{className:"text-2xl font-bold text-gray-800",children:a.score||0})]}),e&&lt.jsxs(lt.Fragment,{children:[lt.jsx("button",{onClick:h,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-500 transition mb-2",children:"+1 Point"}),lt.jsx("button",{onClick:i,className:"px-4 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-400 transition text-sm mb-2",children:"Edit"}),lt.jsx("button",{onClick:d,className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-400 transition text-sm",children:"Delete"})]})]})}function UR({team:a,isAdmin:e,onEdit:i,maxScore:s}){const u=a.name.split(" ").map(v=>{var A;return((A=v[0])==null?void 0:A.toUpperCase())||""}).join("").slice(0,2),h=N0(a.id),d=async()=>await Yd(As(da,"teams",a.id),{score:(a.score||0)+1}),g=async()=>{window.confirm(`Delete team ${a.name}? This cannot be undone.`)&&await R0(As(da,"teams",a.id))},_=s>0?`${a.score/s*100}%`:"0%";return lt.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 flex items-center space-x-4 hover:shadow-lg transition",children:[lt.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center font-bold text-xl flex-shrink-0",style:{background:`${h}22`,color:h},children:u||"#"}),lt.jsxs("div",{className:"flex-1",children:[lt.jsxs("div",{className:"flex justify-between mb-1 items-baseline",children:[lt.jsx("span",{className:"text-2xl font-semibold text-gray-800",children:a.name}),lt.jsx("span",{className:"text-2xl font-semibold text-gray-800",children:a.score})]}),lt.jsx("div",{className:"w-full bg-gray-200 h-4 rounded",children:lt.jsx("div",{className:"h-4 rounded",style:{width:_,background:h}})})]}),e&&lt.jsxs("div",{className:"flex flex-col space-y-2 flex-shrink-0",children:[lt.jsx("button",{onClick:d,className:"px-2 py-1 bg-blue-600 text-white rounded hover:bg-blue-500 text-sm",children:"+1"}),lt.jsx("button",{onClick:i,className:"px-2 py-1 bg-yellow-500 text-white rounded hover:bg-yellow-400 text-sm",children:"Edit"}),lt.jsx("button",{onClick:g,className:"px-2 py-1 bg-red-500 text-white rounded hover:bg-red-400 text-sm",children:"Delete"})]})]})}function LR({isAdmin:a,onEdit:e,view:i}){const[s,u]=wn.useState([]);if(wn.useEffect(()=>{const h=K1(d0(da,"teams"),X1("score","desc"));return eR(h,d=>u(d.docs.map(g=>({id:g.id,...g.data()}))))},[]),i==="bars"){const h=Math.max(0,...s.map(d=>d.score||0));return lt.jsx("div",{className:"p-4 space-y-4",children:s.map(d=>lt.jsx(UR,{team:d,isAdmin:a,onEdit:()=>e(d),maxScore:h},d.id))})}return lt.jsx("div",{className:"p-4 grid gap-6 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4",children:s.map(h=>lt.jsx(xR,{team:h,isAdmin:a,onEdit:()=>e(h)},h.id))})}function zR({team:a,onClose:e}){const i=!!a,[s,u]=wn.useState((a==null?void 0:a.name)||""),[h,d]=wn.useState((a==null?void 0:a.score)||0),[g,_]=wn.useState(!1),v=async A=>{A.preventDefault(),_(!0);const D={name:s,score:Number(h)};try{i?await Yd(As(da,"teams",a.id),D):await tR(d0(da,"teams"),D)}catch(U){console.error("Save failed:",U),alert("Could not save team. Try again."),_(!1);return}e()};return lt.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-30 backdrop-blur-sm flex justify-center items-center",children:lt.jsxs("form",{onSubmit:v,className:"bg-white rounded-lg shadow-lg w-80 p-6 ring-1 ring-gray-200 space-y-4",children:[lt.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:i?"Edit Team":"Add Team"}),lt.jsxs("label",{className:"block text-gray-700 text-sm",children:["Team name ",lt.jsx("span",{className:"text-red-500",children:"*"}),lt.jsx("input",{type:"text",value:s,onChange:A=>u(A.target.value),required:!0,disabled:g,className:"mt-1 w-full bg-white text-gray-900 border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-400"})]}),lt.jsxs("label",{className:"block text-gray-700 text-sm",children:["Score",lt.jsx("input",{type:"number",value:h,onChange:A=>d(A.target.value),required:!0,disabled:g,className:"mt-1 w-full bg-white text-gray-900 border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-400"})]}),lt.jsxs("div",{className:"flex justify-end space-x-2",children:[lt.jsx("button",{type:"button",onClick:e,disabled:g,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 text-gray-700 disabled:opacity-50",children:"Cancel"}),lt.jsx("button",{type:"submit",disabled:!s.trim()||g,className:"px-3 py-1 bg-green-600 hover:bg-green-500 rounded text-white disabled:opacity-50",children:g?"Saving":"Save"})]})]})})}function PR(){const[a,e]=wn.useState(!1),[i,s]=wn.useState(!1),[u,h]=wn.useState(!1),[d,g]=wn.useState(null),[_,v]=wn.useState("cards"),A=()=>s(!0),D=X=>{X==="195423"?(e(!0),s(!1)):alert("Incorrect code")},U=()=>{g(null),h(!0)},j=X=>{g(X),h(!0)},$=()=>h(!1),tt=()=>v(X=>X==="cards"?"bars":"cards");return lt.jsxs("div",{className:"min-h-screen bg-gray-100",children:[lt.jsxs("header",{className:"bg-blue-600 text-white shadow p-4 flex justify-between items-center",children:[lt.jsx("h1",{className:"text-2xl font-bold",children:"2025 Sunday School / Scouts Retreat"}),lt.jsxs("div",{className:"flex items-center space-x-2",children:[lt.jsx("button",{onClick:tt,className:"px-3 py-1 bg-indigo-500 hover:bg-indigo-400 rounded",children:_==="cards"?"Bar View":"Card View"}),a?lt.jsx("button",{onClick:U,className:"px-3 py-1 bg-green-500 hover:bg-green-400 rounded",children:"+ Add Team"}):lt.jsx("button",{onClick:A,className:"px-3 py-1 bg-white text-blue-600 hover:bg-gray-200 rounded font-semibold",children:"Admin"})]})]}),lt.jsx(LR,{isAdmin:a,onEdit:j,view:_}),i&&lt.jsx(fT,{onClose:()=>s(!1),onConfirm:D}),u&&lt.jsx(zR,{team:d,onClose:$})]})}hT.createRoot(document.getElementById("root")).render(lt.jsx(wn.StrictMode,{children:lt.jsx(PR,{})}));
